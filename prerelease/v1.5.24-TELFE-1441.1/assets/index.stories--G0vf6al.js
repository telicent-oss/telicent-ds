import{j as r,F as ke,a as v}from"./emotion-react-jsx-runtime.browser.esm-BgDa5HT4.js";import{r as d}from"./index-Dl6G-zuu.js";import{Q as Se,r as ve,s as we,t as Ie,v as Re,w as Oe,x as Me,y as Te,z as Le}from"./AuthModal-BDBAByij.js";import{a as q,_ as u,l as U,w as ee,v as te,x as oe,y as re,b as Be}from"./identifier-CCo8HfxA.js";import{g as J,s as L,c as G,a as K}from"./styled-DiVYluCu.js";import{g as X}from"./generateUtilityClasses-CRyAR7Z0.js";import{j as a}from"./jsx-runtime-DMAvRu52.js";import{u as Y}from"./DefaultPropsProvider-BrPVfFhn.js";import{B as je,u as Pe}from"./ButtonBase-C0n3d_CB.js";import{u as Ue}from"./TransitionGroupContext-Cbp9jVrs.js";import{T as h}from"./Typography-DvrCv4HQ.js";import{S as V}from"./FlexBox-owEKTX38.js";import{u as ne}from"./UserProfile-DRN111Dw.js";import{c as $}from"./createSvgIcon-CxivGeKF.js";import{C as $e}from"./Autocomplete-2ovWRRWN.js";import{I as Ee}from"./IconButton-CL6GPvoG.js";import{P as Ne}from"./Paper-B-rBeRIm.js";import{B as xe}from"./Button-DPeHgJ80.js";import{C as H}from"./Container-CFeVW3qn.js";import{u as ze}from"./Modal-cSJVsbaW.js";import{C as We}from"./TreeView-B3svt8lB.js";import"./Text-DnbGH9ax.js";import"./constants-C7WMpCVx.js";import"./iframe-CKsofPru.js";import"../sb-preview/runtime.js";import"./index-Dn0cO_TJ.js";import"./types-JQgdQoTs.js";import"./useTheme-DC9e96ys.js";import"./useTheme-CEgm5wok.js";import"./GlobalStyles-BK1ltzIn.js";import"./GlobalStyles-DdQ_E3CX.js";import"./index-CXtVKvFt.js";import"./Popover-DD2HYYg7.js";import"./utils-QfZKikgD.js";import"./Select-Nzfsci8P.js";import"./useFormControl-CQLCXd-P.js";import"./Menu-CYNMhx33.js";import"./useEnhancedEffect-DZnfS5Iy.js";import"./useId-CkA8naEk.js";import"./Popper-QmfZ5sgW.js";import"./TelicentHorizontalSVG-DP7xLAp3.js";import"./SvgIcon-DDjczThx.js";import"./FlexGrid-M25hPc65.js";import"./Box-DR7xjwgg.js";import"./DataSetIcon-CzT3Gt8m.js";import"./UserIcon-B0AVfc7u.js";import"./AdapterDayjs-Dmcgw6f1.js";import"./index-BfyspvgH.js";import"./useThemeProps-BTBzXMHi.js";import"./useThemeProps-BFLDat3t.js";import"./TextField-BnU6ehgf.js";import"./FormHelperText-D2-CeYt9.js";import"./createStyled-9i3u5Rqa.js";import"./colorManipulator-DBPky6cX.js";import"./DialogContent-DyFozIFy.js";import"./Chip-B7XAvyWn.js";import"./MenuItem-MWBitPoC.js";import"./dividerClasses-DixuAXrT.js";import"./UIThemeProvider-vkr8-daa.js";import"./ThemeProvider-BPzF9hu_.js";import"./IconButton-CSCqGkQ5.js";import"./Chip-Jqcc-fVu.js";import"./Divider-HWnn5fVZ.js";import"./Divider-DOeen-K3.js";import"./UserProfileContent-BkWk_Qx8.js";import"./LinearProgress-CRSreEF6.js";import"./Dialog-C-jl0jSy.js";import"./Button-CI14C0BZ.js";import"./LinkButton-CJcpdsZt.js";import"./TextField-BXFcgNlD.js";import"./Select-qyD46tLz.js";import"./DatePicker-DSr6TGip.js";import"./DateTimePicker-C633L0Z7.js";import"./styled-BEKiHWi7.js";import"./Card-BWv60QFk.js";import"./CardActions-CCW8za6b.js";import"./Popover-CAHG92mn.js";import"./Paper-BBwh5-3y.js";import"./ErrorFallback-fPXNZKjO.js";import"./ErrorFallbackText-BLCYy_1i.js";import"./ErrorFallbackWrapper-CSpgK55r.js";import"./MapToggleButtonPresentational-DY66EemL.js";import"./Remove-DLpXZYtt.js";import"./Edit-BwFhg13Q.js";function Fe(e){return J("MuiAlert",e)}const se=X("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),_e=$(a.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),De=$(a.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Ve=$(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),He=$(a.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),qe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],Qe=e=>{const{variant:o,color:n,severity:t,classes:s}=e,i={root:["root",`color${U(n||t)}`,`${o}${U(n||t)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return K(i,Fe,s)},Ze=L(Ne,{name:"MuiAlert",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[n.variant],o[`${n.variant}${U(n.color||n.severity)}`]]}})(({theme:e})=>{const o=e.palette.mode==="light"?ee:te,n=e.palette.mode==="light"?te:ee;return u({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:o(e.palette[t].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${t}StandardBg`]:n(e.palette[t].light,.9),[`& .${se.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:o(e.palette[t].light,.6),border:`1px solid ${(e.vars||e).palette[t].light}`,[`& .${se.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.dark).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:u({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})}))]})}),Je=L("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ge=L("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),ae=L("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ie={success:a.jsx(_e,{fontSize:"inherit"}),warning:a.jsx(De,{fontSize:"inherit"}),error:a.jsx(Ve,{fontSize:"inherit"}),info:a.jsx(He,{fontSize:"inherit"})},Ke=d.forwardRef(function(o,n){const t=Y({props:o,name:"MuiAlert"}),{action:s,children:i,className:f,closeText:g="Close",color:R,components:k={},componentsProps:S={},icon:y,iconMapping:m=ie,onClose:O,role:M="alert",severity:b="success",slotProps:j={},slots:x={},variant:w="standard"}=t,B=q(t,qe),c=u({},t,{color:R,severity:b,variant:w,colorSeverity:R||b}),C=Qe(c),l={slots:u({closeButton:k.CloseButton,closeIcon:k.CloseIcon},x),slotProps:u({},S,j)},[p,I]=ne("closeButton",{elementType:Ee,externalForwardedProps:l,ownerState:c}),[A,E]=ne("closeIcon",{elementType:$e,externalForwardedProps:l,ownerState:c});return a.jsxs(Ze,u({role:M,elevation:0,ownerState:c,className:G(C.root,f),ref:n},B,{children:[y!==!1?a.jsx(Je,{ownerState:c,className:C.icon,children:y||m[b]||ie[b]}):null,a.jsx(Ge,{ownerState:c,className:C.message,children:i}),s!=null?a.jsx(ae,{ownerState:c,className:C.action,children:s}):null,s==null&&O?a.jsx(ae,{ownerState:c,className:C.action,children:a.jsx(p,u({size:"small","aria-label":g,title:g,color:"inherit",onClick:O},I,{children:a.jsx(A,u({fontSize:"small"},E))}))}):null]}))}),Xe=$(a.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Ye=["slots","slotProps"],et=L(je,{name:"MuiBreadcrumbCollapsed"})(({theme:e})=>u({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":u({},e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":u({boxShadow:e.shadows[0]},e.palette.mode==="light"?{backgroundColor:oe(e.palette.grey[200],.12)}:{backgroundColor:oe(e.palette.grey[600],.12)})})),tt=L(Xe)({width:24,height:16});function ot(e){const{slots:o={},slotProps:n={}}=e,t=q(e,Ye),s=e;return a.jsx("li",{children:a.jsx(et,u({focusRipple:!0},t,{ownerState:s,children:a.jsx(tt,u({as:o.CollapsedIcon,ownerState:s},n.collapsedIcon))}))})}function rt(e){return J("MuiBreadcrumbs",e)}const nt=X("MuiBreadcrumbs",["root","ol","li","separator"]),st=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],at=e=>{const{classes:o}=e;return K({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},rt,o)},it=L(h,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,o)=>[{[`& .${nt.li}`]:o.li},o.root]})({}),lt=L("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),ct=L("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function dt(e,o,n,t){return e.reduce((s,i,f)=>(f<e.length-1?s=s.concat(i,a.jsx(ct,{"aria-hidden":!0,className:o,ownerState:t,children:n},`separator-${f}`)):s.push(i),s),[])}const pt=d.forwardRef(function(o,n){const t=Y({props:o,name:"MuiBreadcrumbs"}),{children:s,className:i,component:f="nav",slots:g={},slotProps:R={},expandText:k="Show path",itemsAfterCollapse:S=1,itemsBeforeCollapse:y=1,maxItems:m=8,separator:O="/"}=t,M=q(t,st),[b,j]=d.useState(!1),x=u({},t,{component:f,expanded:b,expandText:k,itemsAfterCollapse:S,itemsBeforeCollapse:y,maxItems:m,separator:O}),w=at(x),B=ze({elementType:g.CollapsedIcon,externalSlotProps:R.collapsedIcon,ownerState:x}),c=d.useRef(null),C=p=>{const I=()=>{j(!0);const A=c.current.querySelector("a[href],button,[tabindex]");A&&A.focus()};return y+S>=p.length?p:[...p.slice(0,y),a.jsx(ot,{"aria-label":k,slots:{CollapsedIcon:g.CollapsedIcon},slotProps:{collapsedIcon:B},onClick:I},"ellipsis"),...p.slice(p.length-S,p.length)]},l=d.Children.toArray(s).filter(p=>d.isValidElement(p)).map((p,I)=>a.jsx("li",{className:w.li,children:p},`child-${I}`));return a.jsx(it,u({ref:n,component:f,color:"text.secondary",className:G(w.root,i),ownerState:x},M,{children:a.jsx(lt,{className:w.ol,ref:c,ownerState:x,children:dt(b||m&&l.length<=m?l:C(l),w.separator,O,x)})}))});function ut(e){return J("MuiLink",e)}const mt=X("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),Ae={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ht=e=>Ae[e]||e,ft=({theme:e,ownerState:o})=>{const n=ht(o.color),t=re(e,`palette.${n}`,!1)||o.color,s=re(e,`palette.${n}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:Be(t,.4)},gt=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],yt=e=>{const{classes:o,component:n,focusVisible:t,underline:s}=e,i={root:["root",`underline${U(s)}`,n==="button"&&"button",t&&"focusVisible"]};return K(i,ut,o)},bt=L(h,{name:"MuiLink",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[`underline${U(n.underline)}`],n.component==="button"&&o.button]}})(({theme:e,ownerState:o})=>u({},o.underline==="none"&&{textDecoration:"none"},o.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},o.underline==="always"&&u({textDecoration:"underline"},o.color!=="inherit"&&{textDecorationColor:ft({theme:e,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),o.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${mt.focusVisible}`]:{outline:"auto"}})),Ct=d.forwardRef(function(o,n){const t=Y({props:o,name:"MuiLink"}),{className:s,color:i="primary",component:f="a",onBlur:g,onFocus:R,TypographyClasses:k,underline:S="always",variant:y="inherit",sx:m}=t,O=q(t,gt),{isFocusVisibleRef:M,onBlur:b,onFocus:j,ref:x}=Pe(),[w,B]=d.useState(!1),c=Ue(n,x),C=A=>{b(A),M.current===!1&&B(!1),g&&g(A)},l=A=>{j(A),M.current===!0&&B(!0),R&&R(A)},p=u({},t,{color:i,component:f,focusVisible:w,underline:S,variant:y}),I=yt(p);return a.jsx(bt,u({color:i,className:G(I.root,s),classes:k,component:f,onBlur:C,onFocus:l,ref:c,ownerState:p,variant:y,sx:[...Object.keys(Ae).includes(i)?[]:[{color:i}],...Array.isArray(m)?m:[m]]},O))}),vt=()=>{if(typeof window>"u")return!1;try{return window.self!==window.top}catch{return!0}},Q=({children:e,linkText:o="Open this view in a new window",className:n})=>{const[t,s]=d.useState(!1);if(d.useEffect(()=>{s(vt())},[]),!t)return r(ke,{children:e});const i=typeof window<"u"?window.location.href:"#";return v(Ct,{href:i,target:"_blank",rel:"noopener noreferrer",className:n,children:["â†—ï¸  ",o]})};Q.__docgenInfo={description:"",methods:[],displayName:"ForceNoIframe",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},linkText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Open this view in a new window"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const T=e=>r(V,{spacing:2,...e}),N=e=>r(h,{sx:{fontFamily:"monospace",...(e==null?void 0:e.sx)||null},...e}),D=e=>r(xe,{variant:"text",size:"small",sx:{alignSelf:"flex-start"},...e}),xt=({config:e={}})=>{const[o,n]=d.useState(null),[t,s]=d.useState(null),[i,f]=d.useState("initial"),[g,R]=d.useState(!1),[k,S]=d.useState(null),[y,m]=d.useState("â€”"),[O,M]=d.useState(null),[b,j]=d.useState(!1),[x]=d.useState(()=>new Se),w="http://localhost:6006/iframe.html?viewMode=story&id=candidate-packages-auth-flow--storybook-oauth-callback&globals=&args=",B={clientId:"fe-storybook-app-config",authServerUrl:"http://auth.telicent.localhost",scope:"openid profile offline_access",redirectUri:"http://localhost:6006/",popupRedirectUri:w,onLogout:()=>{f("initial"),R(!1),S(null),m("Logged out.")},...e};return d.useEffect(()=>{const c=new ve(B);n(c);const C=we("http://protected-api.telicent.localhost",c).withSessionHandling({queryClient:x,keysToInvalidate:[]});s(C);const l=async()=>{try{console.log("checkAuth: Starting authentication check");const P=await c.isAuthenticated();if(console.log("checkAuth: isAuthenticated =",P),P){f("done"),R(!0);const Z=c.getUserInfo();console.log("checkAuth: userInfo =",Z),S(Z||{authenticated:!0,source:"session_only",note:"ID token not available, but session is valid"}),Te(Le.AUTHENTICATED)}else console.log("checkAuth: User not authenticated"),f("initial")}catch(P){console.error("checkAuth: Error =",P),M(String(P))}},A=Ie(c,()=>{l()},P=>{M("Authentication failed"),f("initial")}),E=P=>{f("callback")};return window.addEventListener("oauth-callback",E),l(),()=>{A(),window.removeEventListener("oauth-callback",E)}},[y]),d.useEffect(()=>{g&&(y.includes("â³")||y.includes("ðŸ”„"))&&m("Ready to test")},[g]),O?r(H,{maxWidth:"md",children:r(V,{children:r(Ke,{severity:"error",action:r(xe,{color:"inherit",size:"small",onClick:()=>M(null),children:"Clear"}),children:O})})}):r(H,{maxWidth:"md",children:r(T,{children:v(Q,{linkText:"Open in dedicated window",children:[v(T,{children:[r(Re,{config:B,queryClient:x,apiUrl:"http://changeme.com",children:r(Oe,{debounceMs:3e3})}),r(T,{children:v(pt,{separator:"â†’",children:[r(h,{variant:"h5",sx:{fontWeight:i==="initial"?"bold":"normal",color:i==="initial"?"primary.main":"text.secondary"},children:"1. Unauthenticated"}),r(h,{variant:"h5",sx:{fontWeight:i==="callback"?"bold":"normal",color:i==="callback"?"primary.main":"text.secondary"},children:"2. Processing Code"}),r(h,{variant:"h5",sx:{fontWeight:i==="done"&&g?"bold":"normal",color:i==="done"&&g?"success.main":"text.secondary"},children:"3. Authenticated"})]})})]}),r(T,{children:v(T,{children:[r(h,{variant:"h5",children:"AuthServerOAuth2Client-powered methods"}),v(T,{children:[r(N,{variant:"body2",children:"loginWithPopup()"}),r(D,{onClick:()=>o==null?void 0:o.loginWithPopup(w),disabled:g,children:"Call"})]}),v(T,{children:[r(N,{variant:"body2",children:"logout()"}),r(D,{onClick:async()=>{o&&await o.logout()},disabled:!g,children:"Call"})]}),v(T,{children:[r(N,{variant:"body2",children:'Mock Api call createApi().instance.get("//protected-api.telicent.localhost/data")'}),r(D,{onClick:async()=>{if(!t)return;m("â³ Loading...");const c=new AbortController,C=setTimeout(()=>c.abort(),1e4);try{const l=await t.instance.get("http://protected-api.telicent.localhost/get",{signal:c.signal});m(`${l.status>=400?"âŒ":"âœ…"} ${l.status}`)}catch(l){if(c.signal.aborted)m("â° Request timeout");else if(l&&typeof l=="object"&&"response"in l){const I=l.response.status;m(I===401?"ðŸ”„ Session expired - redirecting to login":`âŒ ${I}`)}else{const p=l&&typeof l=="object"&&"message"in l&&typeof l.message=="string"?l.message:"Unknown error";m(`â›” ${p}`)}}finally{clearTimeout(C)}},disabled:!t||y.includes("â³"),children:"Call"}),r(h,{variant:"body2",children:y})]}),v(T,{children:[r(N,{variant:"body2",children:"getUserInfo()"}),k?v(h,{sx:{cursor:"pointer"},onClick:()=>j(!b),children:["See info ",b?"â–¼":"â–¶"]}):r(h,{variant:"body2",children:"(auto-called when logged in)"}),r(We,{in:b,children:k?r("pre",{style:{fontFamily:"monospace",fontSize:"14px",margin:0},children:JSON.stringify(k,null,2)}):r(h,{variant:"body2",color:"text.secondary",children:"No user info available"})})]})]})})]})})})},tr={title:"candidate-packages/auth-flow",component:xt,parameters:{docs:{description:{component:`
React equivalent of spa-client/public/index.html. Demonstrates the complete OAuth2 flow using AuthServerOAuth2Client.
        `}}},tags:[]},z={args:{}},At=()=>{const[e,o]=d.useState("Processing callback...");return d.useEffect(()=>{(async()=>{try{new ve({clientId:"fe-storybook-app-config",authServerUrl:"http://auth.telicent.localhost",scope:"openid profile offline_access",redirectUri:"http://localhost:6006/",popupRedirectUri:"http://localhost:6006/",onLogout:()=>{}}).finishPopupFlow(),o("Callback completed!")}catch(t){console.error("Callback error:",t),o("Callback failed!")}})()},[]),r(H,{maxWidth:"sm",children:v(V,{children:[r(h,{variant:"h4",children:"OAuth Callback"}),r(h,{children:e}),r(V,{direction:"row",children:r(D,{onClick:()=>window.close(),children:"Close now"})})]})})},W={name:"Login (Current Window) - TODO",render:()=>r(H,{maxWidth:"md",children:v(T,{children:[r(h,{variant:"h4",children:"TODO: Create login() Call Version"}),r(h,{variant:"h6",children:"UI Components to Add:"}),r(h,{component:"div",children:v("ul",{children:[r("li",{children:"Authentication status indicator"}),r("li",{children:"login() button with current window redirect"}),r("li",{children:"User info display section"}),r("li",{children:"Protected API call test button"}),r("li",{children:"Logout button"}),r("li",{children:"OAuth flow progress breadcrumbs"}),r("li",{children:"Error handling and display"})]})}),r(h,{variant:"body2",color:"text.secondary",children:"Note: This will require a different clientId/redirectUri configuration than the popup version since the callback behavior differs."})]})}),parameters:{layout:"centered"}},F={name:"Login success",render:()=>r(Q,{linkText:"Open in dedicated window",children:r(At,{})}),parameters:{layout:"centered"}},kt={clientId:"storybook-callback-test",authServerUrl:"http://auth.telicent.localhost",scope:"openid profile offline_access",redirectUri:"http://localhost:6006/",popupRedirectUri:"http://localhost:6006/iframe.html?viewMode=story&id=candidate-packages-auth-flow--auth-redirect-uri&globals=",onLogout:()=>{}},_={name:"Auth redirect (popup callback)",render:()=>r(Q,{linkText:"Open callback in dedicated window",children:r(Me,{config:kt})}),parameters:{layout:"centered"}};var le,ce,de;z.parameters={...z.parameters,docs:{...(le=z.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {}
}`,...(de=(ce=z.parameters)==null?void 0:ce.docs)==null?void 0:de.source}}};var pe,ue,me;W.parameters={...W.parameters,docs:{...(pe=W.parameters)==null?void 0:pe.docs,source:{originalSource:`{
  name: "Login (Current Window) - TODO",
  render: () => {
    return <Container maxWidth="md">
        <SpacedStack>
          <Typography variant="h4">TODO: Create login() Call Version</Typography>
          <Typography variant="h6">UI Components to Add:</Typography>
          <Typography component="div">
            <ul>
              <li>Authentication status indicator</li>
              <li>login() button with current window redirect</li>
              <li>User info display section</li>
              <li>Protected API call test button</li>
              <li>Logout button</li>
              <li>OAuth flow progress breadcrumbs</li>
              <li>Error handling and display</li>
            </ul>
          </Typography>
          <Typography variant="body2" color="text.secondary">
            Note: This will require a different clientId/redirectUri configuration
            than the popup version since the callback behavior differs.
          </Typography>
        </SpacedStack>
      </Container>;
  },
  parameters: {
    layout: "centered"
  }
}`,...(me=(ue=W.parameters)==null?void 0:ue.docs)==null?void 0:me.source}}};var he,fe,ge;F.parameters={...F.parameters,docs:{...(he=F.parameters)==null?void 0:he.docs,source:{originalSource:`{
  name: "Login success",
  render: () => {
    return <ForceNoIframe linkText="Open in dedicated window">
        <LoginSuccessComponent />
      </ForceNoIframe>;
  },
  parameters: {
    layout: "centered"
  }
}`,...(ge=(fe=F.parameters)==null?void 0:fe.docs)==null?void 0:ge.source}}};var ye,be,Ce;_.parameters={..._.parameters,docs:{...(ye=_.parameters)==null?void 0:ye.docs,source:{originalSource:`{
  name: "Auth redirect (popup callback)",
  render: () => <ForceNoIframe linkText="Open callback in dedicated window">
      <AuthRedirectUri config={authRedirectStoryConfig} />
    </ForceNoIframe>,
  parameters: {
    layout: "centered"
  }
}`,...(Ce=(be=_.parameters)==null?void 0:be.docs)==null?void 0:Ce.source}}};const or=["LoginWithPopup","LoginCurrentWindow","StorybookOauthCallback","AuthRedirectUriStory"];export{_ as AuthRedirectUriStory,W as LoginCurrentWindow,z as LoginWithPopup,F as StorybookOauthCallback,or as __namedExportsOrder,tr as default};
