import{j as Ge}from"./emotion-react-jsx-runtime.browser.esm-BgDa5HT4.js";import{r as x}from"./index-Dl6G-zuu.js";import{u as ge}from"./useTheme-DHuFs4j8.js";import{d as Xe,T as Je,H as Ze,a as U,_ as T}from"./defaultTheme-BpkXhfeA.js";import{g as he,s as H,c as Q,a as Re}from"./styled-DzpWvPfW.js";import{g as be}from"./generateUtilityClasses-DiXVJdeX.js";import{j as C}from"./jsx-runtime-DMAvRu52.js";import{u as Qe}from"./useThemeProps--JElsblH.js";import{b as Ye,u as re,c as W}from"./TransitionGroupContext-BU5kpZ0L.js";import{u as et}from"./useId-CkA8naEk.js";import{T as tt,g as Ee,o as nt}from"./utils-CzGd2JMT.js";import{c as ve}from"./createSvgIcon-DuRnm9w0.js";import{P as Te}from"./index-BfyspvgH.js";import{u as ot}from"./DefaultPropsProvider-C67vPJX1.js";import{a as ne}from"./colorManipulator-B-1-M9MD.js";function Se({props:e,name:t}){return Qe({props:e,name:t,defaultTheme:Xe,themeId:Je})}function rt(e){return he("MuiCollapse",e)}be("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const st=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],it=e=>{const{orientation:t,classes:n}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return Re(r,rt,n)},lt=H("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],n.state==="entered"&&t.entered,n.state==="exited"&&!n.in&&n.collapsedSize==="0px"&&t.hidden]}})(({theme:e,ownerState:t})=>T({height:0,overflow:"hidden",transition:e.transitions.create("height")},t.orientation==="horizontal"&&{height:"auto",width:0,transition:e.transitions.create("width")},t.state==="entered"&&T({height:"auto",overflow:"visible"},t.orientation==="horizontal"&&{width:"auto"}),t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&{visibility:"hidden"})),at=H("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})(({ownerState:e})=>T({display:"flex",width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),ct=H("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})(({ownerState:e})=>T({width:"100%"},e.orientation==="horizontal"&&{width:"auto",height:"100%"})),Me=x.forwardRef(function(t,n){const r=ot({props:t,name:"MuiCollapse"}),{addEndListener:s,children:i,className:u,collapsedSize:l="0px",component:m,easing:f,in:g,onEnter:o,onEntered:a,onEntering:y,onExit:I,onExited:c,onExiting:h,orientation:p="vertical",style:d,timeout:b=Ze.standard,TransitionComponent:R=tt}=r,v=U(r,st),k=T({},r,{orientation:p,collapsedSize:l}),S=it(k),Y=ge(),ae=Ye(),F=x.useRef(null),$=x.useRef(),L=typeof l=="number"?`${l}px`:l,P=p==="horizontal",D=P?"width":"height",_=x.useRef(null),X=re(n,_),V=E=>M=>{if(E){const O=_.current;M===void 0?E(O):E(O,M)}},z=()=>F.current?F.current[P?"clientWidth":"clientHeight"]:0,A=V((E,M)=>{F.current&&P&&(F.current.style.position="absolute"),E.style[D]=L,o&&o(E,M)}),ee=V((E,M)=>{const O=z();F.current&&P&&(F.current.style.position="");const{duration:K,easing:j}=Ee({style:d,timeout:b,easing:f},{mode:"enter"});if(b==="auto"){const te=Y.transitions.getAutoHeightDuration(O);E.style.transitionDuration=`${te}ms`,$.current=te}else E.style.transitionDuration=typeof K=="string"?K:`${K}ms`;E.style[D]=`${O}px`,E.style.transitionTimingFunction=j,y&&y(E,M)}),ce=V((E,M)=>{E.style[D]="auto",a&&a(E,M)}),J=V(E=>{E.style[D]=`${z()}px`,I&&I(E)}),ue=V(c),de=V(E=>{const M=z(),{duration:O,easing:K}=Ee({style:d,timeout:b,easing:f},{mode:"exit"});if(b==="auto"){const j=Y.transitions.getAutoHeightDuration(M);E.style.transitionDuration=`${j}ms`,$.current=j}else E.style.transitionDuration=typeof O=="string"?O:`${O}ms`;E.style[D]=L,E.style.transitionTimingFunction=K,h&&h(E)}),fe=E=>{b==="auto"&&ae.start($.current||0,E),s&&s(_.current,E)};return C.jsx(R,T({in:g,onEnter:A,onEntered:ce,onEntering:ee,onExit:J,onExited:ue,onExiting:de,addEndListener:fe,nodeRef:_,timeout:b==="auto"?null:b},v,{children:(E,M)=>C.jsx(lt,T({as:m,className:Q(S.root,u,{entered:S.entered,exited:!g&&L==="0px"&&S.hidden}[E]),style:T({[P?"minWidth":"minHeight"]:L},d),ref:X},M,{ownerState:T({},k,{state:E}),children:C.jsx(at,{ownerState:T({},k,{state:E}),className:S.wrapper,ref:F,children:C.jsx(ct,{ownerState:T({},k,{state:E}),className:S.wrapperInner,children:i})})}))}))});Me.muiSupportAuto=!0;function ut(e){return typeof e=="string"}function dt(e,t,n){return e===void 0||ut(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function ft(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function B(e,t,n){return typeof e=="function"?e(t,n):e}function pt(...e){const t=x.useRef(void 0),n=x.useCallback(r=>{const s=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const u=i,l=u(r);return typeof l=="function"?l:()=>{u(null)}}return i.current=r,()=>{i.current=null}});return()=>{s.forEach(i=>i==null?void 0:i())}},e);return x.useMemo(()=>e.every(r=>r==null)?null:r=>{t.current&&(t.current(),t.current=void 0),r!=null&&(t.current=n(r))},e)}function we(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function mt(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:s,className:i}=e;if(!t){const y=Q(n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),I={...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},c={...n,...s,...r};return y.length>0&&(c.className=y),Object.keys(I).length>0&&(c.style=I),{props:c,internalRef:void 0}}const u=ft({...s,...r}),l=we(r),m=we(s),f=t(u),g=Q(f==null?void 0:f.className,n==null?void 0:n.className,i,s==null?void 0:s.className,r==null?void 0:r.className),o={...f==null?void 0:f.style,...n==null?void 0:n.style,...s==null?void 0:s.style,...r==null?void 0:r.style},a={...f,...n,...m,...l};return g.length>0&&(a.className=g),Object.keys(o).length>0&&(a.style=o),{props:a,internalRef:f.ref}}function It(e,t,n){return typeof e=="function"?e(t,n):e}function q(e){var o;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:s=!1,...i}=e,u=s?{}:It(n,r),{props:l,internalRef:m}=mt({...i,externalSlotProps:u}),f=pt(m,u==null?void 0:u.ref,(o=e.additionalProps)==null?void 0:o.ref);return dt(t,{...l,ref:f},r)}const gt=(e,t)=>{const n=x.useRef({}),[r,s]=x.useState(()=>{const u={};return e.forEach(l=>{l.models&&Object.entries(l.models).forEach(([m,f])=>{n.current[m]={isControlled:t[m]!==void 0,getDefaultValue:f.getDefaultValue},u[m]=f.getDefaultValue(t)})}),u});return Object.fromEntries(Object.entries(n.current).map(([u,l])=>{const m=t[u]??r[u];return[u,{value:m,setControlledValue:f=>{l.isControlled||s(g=>T({},g,{[u]:f}))}}]}))};class ht{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,n,r={}){let s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),r.isFirst?s.highPriority.set(n,!0):s.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const r=this.events[t];if(!r)return;const s=Array.from(r.highPriority.keys()),i=Array.from(r.regular.keys());for(let u=s.length-1;u>=0;u-=1){const l=s[u];r.highPriority.has(l)&&l.apply(this,n)}for(let u=0;u<i.length;u+=1){const l=i[u];r.regular.has(l)&&l.apply(this,n)}}once(t,n){const r=this;this.on(t,function s(...i){r.removeListener(t,s),n.apply(r,i)})}}const bt=e=>e.isPropagationStopped!==void 0,ke=()=>{const[e]=x.useState(()=>new ht),t=x.useCallback((...r)=>{const[s,i,u={}]=r;u.defaultMuiPrevented=!1,!(bt(u)&&u.isPropagationStopped())&&e.emit(s,i,u)},[e]),n=x.useCallback((r,s)=>(e.on(r,s),()=>{e.removeListener(r,s)}),[e]);return{instance:{$$publishEvent:t,$$subscribeEvent:n}}};ke.params={};const xt=[ke];function yt(e){const t=x.useRef({});return e?(e.current==null&&(e.current={}),e.current):t.current}const Et=e=>{const t=[...xt,...e.plugins],n=t.reduce((p,d)=>d.getDefaultizedParams?d.getDefaultizedParams(p):p,e),r=gt(t,n),i=x.useRef({}).current,u=yt(e.apiRef),l=x.useRef(null),m=re(l,e.rootRef),[f,g]=x.useState(()=>{const p={};return t.forEach(d=>{d.getInitialState&&Object.assign(p,d.getInitialState(n))}),p}),o=[],a={publicAPI:u,instance:i,rootRef:l},y=p=>{const d=p({instance:i,params:n,slots:n.slots,slotProps:n.slotProps,state:f,setState:g,rootRef:l,models:r});d.getRootProps&&o.push(d.getRootProps),d.publicAPI&&Object.assign(u,d.publicAPI),d.instance&&Object.assign(i,d.instance),d.contextValue&&Object.assign(a,d.contextValue)};t.forEach(y),a.runItemPlugins=p=>{let d=null,b=null;return t.forEach(R=>{if(!R.itemPlugin)return;const v=R.itemPlugin({props:p,rootRef:d,contentRef:b});v!=null&&v.rootRef&&(d=v.rootRef),v!=null&&v.contentRef&&(b=v.contentRef)}),{contentRef:b,rootRef:d}};const I=t.map(p=>p.wrapItem).filter(p=>!!p);a.wrapItem=({itemId:p,children:d})=>{let b=d;return I.forEach(R=>{b=R({itemId:p,children:b})}),b};const c=t.map(p=>p.wrapRoot).filter(p=>!!p);return a.wrapRoot=({children:p})=>{let d=p;return c.forEach(b=>{d=b({children:d})}),d},{getRootProps:(p={})=>{const d=T({role:"tree"},p,{ref:m});return o.forEach(b=>{Object.assign(d,b(p))}),d},rootRef:m,contextValue:a,instance:i}},De=x.createContext(null);function Tt(e){const{value:t,children:n}=e;return C.jsx(De.Provider,{value:t,children:t.wrapRoot({children:n})})}const Ae=({params:e})=>{const t=et(e.id),n=x.useCallback((r,s)=>s??`${t}-${r}`,[t]);return{getRootProps:()=>({id:t}),instance:{getTreeItemIdAttribute:n}}};Ae.params={id:!0};const wt=(e,t,n)=>{e.$$publishEvent(t,n)},Z="__TREE_VIEW_ROOT_PARENT_ID__",Ct=e=>{const t={};return e.forEach((n,r)=>{t[n]=r}),t},Oe=({items:e,isItemDisabled:t,getItemLabel:n,getItemId:r})=>{const s={},i={},u={[Z]:[]},l=(f,g)=>{var I,c;const o=r?r(f):f.id;if(o==null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.","An item was provided without id in the `items` prop:",JSON.stringify(f)].join(`
`));if(s[o]!=null)throw new Error(["MUI X: The Tree View component requires all items to have a unique `id` property.","Alternatively, you can use the `getItemId` prop to specify a custom id for each item.",`Two items were provided with the same id in the \`items\` prop: "${o}"`].join(`
`));const a=n?n(f):f.label;if(a==null)throw new Error(["MUI X: The Tree View component requires all items to have a `label` property.","Alternatively, you can use the `getItemLabel` prop to specify a custom label for each item.","An item was provided without label in the `items` prop:",JSON.stringify(f)].join(`
`));s[o]={id:o,label:a,parentId:g,idAttribute:void 0,expandable:!!((I=f.children)!=null&&I.length),disabled:t?t(f):!1},i[o]=f,u[o]=[];const y=g??Z;u[y]||(u[y]=[]),u[y].push(o),(c=f.children)==null||c.forEach(h=>l(h,o))};e.forEach(f=>l(f,null));const m={};return Object.keys(u).forEach(f=>{m[f]=Ct(u[f])}),{itemMetaMap:s,itemMap:i,itemOrderedChildrenIds:u,itemChildrenIndexes:m}},se=({instance:e,params:t,state:n,setState:r})=>{const s=x.useCallback(I=>n.items.itemMetaMap[I],[n.items.itemMetaMap]),i=x.useCallback(I=>n.items.itemMap[I],[n.items.itemMap]),u=x.useCallback(I=>{if(I==null)return!1;let c=e.getItemMeta(I);if(!c)return!1;if(c.disabled)return!0;for(;c.parentId!=null;)if(c=e.getItemMeta(c.parentId),c.disabled)return!0;return!1},[e]),l=x.useCallback(I=>{const c=e.getItemMeta(I).parentId??Z;return n.items.itemChildrenIndexes[c][I]},[e,n.items.itemChildrenIndexes]),m=x.useCallback(I=>n.items.itemOrderedChildrenIds[I??Z]??[],[n.items.itemOrderedChildrenIds]),f=I=>t.disabledItemsFocusable?!0:!e.isItemDisabled(I),g=x.useRef(!1),o=x.useCallback(()=>{g.current=!0},[]),a=x.useCallback(()=>g.current,[]);return x.useEffect(()=>{e.areItemUpdatesPrevented()||r(I=>{const c=Oe({items:t.items,isItemDisabled:t.isItemDisabled,getItemId:t.getItemId,getItemLabel:t.getItemLabel});return Object.values(I.items.itemMetaMap).forEach(h=>{c.itemMetaMap[h.id]||wt(e,"removeItem",{id:h.id})}),T({},I,{items:c})})},[e,r,t.items,t.isItemDisabled,t.getItemId,t.getItemLabel]),{publicAPI:{getItem:i},instance:{getItemMeta:s,getItem:i,getItemsToRender:()=>{const I=c=>{const h=n.items.itemMetaMap[c];return{label:h.label,itemId:h.id,id:h.idAttribute,children:n.items.itemOrderedChildrenIds[c].map(I)}};return n.items.itemOrderedChildrenIds[Z].map(I)},getItemIndex:l,getItemOrderedChildrenIds:m,isItemDisabled:u,isItemNavigable:f,preventItemUpdates:o,areItemUpdatesPrevented:a},contextValue:{disabledItemsFocusable:t.disabledItemsFocusable}}};se.getInitialState=e=>({items:Oe({items:e.items,isItemDisabled:e.isItemDisabled,getItemId:e.getItemId,getItemLabel:e.getItemLabel})});se.getDefaultizedParams=e=>T({},e,{disabledItemsFocusable:e.disabledItemsFocusable??!1});se.params={disabledItemsFocusable:!0,items:!0,isItemDisabled:!0,getItemLabel:!0,getItemId:!0};const ie=({instance:e,params:t,models:n})=>{const r=x.useMemo(()=>{const g=new Map;return n.expandedItems.value.forEach(o=>{g.set(o,!0)}),g},[n.expandedItems.value]),s=(g,o)=>{var a;(a=t.onExpandedItemsChange)==null||a.call(t,g,o),n.expandedItems.setControlledValue(o)},i=x.useCallback(g=>r.has(g),[r]),u=x.useCallback(g=>{var o;return!!((o=e.getItemMeta(g))!=null&&o.expandable)},[e]),l=W((g,o)=>{const a=e.isItemExpanded(o);e.setItemExpansion(g,o,!a)}),m=W((g,o,a)=>{if(e.isItemExpanded(o)===a)return;let I;a?I=[o].concat(n.expandedItems.value):I=n.expandedItems.value.filter(c=>c!==o),t.onItemExpansionToggle&&t.onItemExpansionToggle(g,o,a),s(g,I)});return{publicAPI:{setItemExpansion:m},instance:{isItemExpanded:i,isItemExpandable:u,setItemExpansion:m,toggleItemExpansion:l,expandAllSiblings:(g,o)=>{const a=e.getItemMeta(o),I=e.getItemOrderedChildrenIds(a.parentId).filter(h=>e.isItemExpandable(h)&&!e.isItemExpanded(h)),c=n.expandedItems.value.concat(I);I.length>0&&(t.onItemExpansionToggle&&I.forEach(h=>{t.onItemExpansionToggle(g,h,!0)}),s(g,c))}}}};ie.models={expandedItems:{getDefaultValue:e=>e.defaultExpandedItems}};const Rt=[];ie.getDefaultizedParams=e=>T({},e,{defaultExpandedItems:e.defaultExpandedItems??Rt});ie.params={expandedItems:!0,defaultExpandedItems:!0,onExpandedItemsChange:!0,onItemExpansionToggle:!0};const Pe=(e,t)=>{let n=t.length-1;for(;n>=0&&!e.isItemNavigable(t[n]);)n-=1;if(n!==-1)return t[n]},vt=(e,t)=>{const n=e.getItemMeta(t),r=e.getItemOrderedChildrenIds(n.parentId),s=e.getItemIndex(t);if(s===0)return n.parentId;let i=r[s-1],u=Pe(e,e.getItemOrderedChildrenIds(i));for(;e.isItemExpanded(i)&&u!=null;)i=u,u=e.getItemOrderedChildrenIds(i).find(e.isItemNavigable);return i},oe=(e,t)=>{if(e.isItemExpanded(t)){const r=e.getItemOrderedChildrenIds(t).find(e.isItemNavigable);if(r!=null)return r}let n=e.getItemMeta(t);for(;n!=null;){const r=e.getItemOrderedChildrenIds(n.parentId),s=e.getItemIndex(n.id);if(s<r.length-1){let i=s+1;for(;!e.isItemNavigable(r[i])&&i<r.length-1;)i+=1;if(e.isItemNavigable(r[i]))return r[i]}n=e.getItemMeta(n.parentId)}return null},Ve=e=>{let t=null;for(;t==null||e.isItemExpanded(t);){const n=e.getItemOrderedChildrenIds(t),r=Pe(e,n);if(r==null)return t;t=r}return t},G=e=>e.getItemOrderedChildrenIds(null).find(e.isItemNavigable),Fe=(e,t,n)=>{if(t===n)return[t,n];const r=e.getItemMeta(t),s=e.getItemMeta(n);if(r.parentId===s.id||s.parentId===r.id)return s.parentId===r.id?[r.id,s.id]:[s.id,r.id];const i=[r.id],u=[s.id];let l=r.parentId,m=s.parentId,f=u.indexOf(l)!==-1,g=i.indexOf(m)!==-1,o=!0,a=!0;for(;!g&&!f;)o&&(i.push(l),f=u.indexOf(l)!==-1,o=l!==null,!f&&o&&(l=e.getItemMeta(l).parentId)),a&&!f&&(u.push(m),g=i.indexOf(m)!==-1,a=m!==null,!g&&a&&(m=e.getItemMeta(m).parentId));const y=f?l:m,I=e.getItemOrderedChildrenIds(y),c=i[i.indexOf(y)-1],h=u[u.indexOf(y)-1];return I.indexOf(c)<I.indexOf(h)?[t,n]:[n,t]},St=(e,t,n)=>{const r=m=>{if(e.isItemExpandable(m)&&e.isItemExpanded(m))return e.getItemOrderedChildrenIds(m)[0];let f=e.getItemMeta(m);for(;f!=null;){const g=e.getItemOrderedChildrenIds(f.parentId),o=e.getItemIndex(f.id);if(o<g.length-1)return g[o+1];f=e.getItemMeta(f.parentId)}throw new Error("Invalid range")},[s,i]=Fe(e,t,n),u=[s];let l=s;for(;l!==i;)l=r(l),e.isItemDisabled(l)||u.push(l);return u},Mt=e=>{let t=G(e);const n=[];for(;t!=null;)n.push(t),t=oe(e,t);return n},me=e=>Array.isArray(e)?e:e!=null?[e]:[],Ie=e=>{const t={};return e.forEach(n=>{t[n]=!0}),t},le=({instance:e,params:t,models:n})=>{const r=x.useRef(null),s=x.useRef({}),i=x.useMemo(()=>{const c=new Map;return Array.isArray(n.selectedItems.value)?n.selectedItems.value.forEach(h=>{c.set(h,!0)}):n.selectedItems.value!=null&&c.set(n.selectedItems.value,!0),c},[n.selectedItems.value]),u=(c,h)=>{if(t.onItemSelectionToggle)if(t.multiSelect){const p=h.filter(b=>!e.isItemSelected(b)),d=n.selectedItems.value.filter(b=>!h.includes(b));p.forEach(b=>{t.onItemSelectionToggle(c,b,!0)}),d.forEach(b=>{t.onItemSelectionToggle(c,b,!1)})}else h!==n.selectedItems.value&&(n.selectedItems.value!=null&&t.onItemSelectionToggle(c,n.selectedItems.value,!1),h!=null&&t.onItemSelectionToggle(c,h,!0));t.onSelectedItemsChange&&t.onSelectedItemsChange(c,h),n.selectedItems.setControlledValue(h)},l=c=>i.has(c),m=(c,h,p=!1)=>{if(t.disableSelection)return;let d;if(p){const b=me(n.selectedItems.value);e.isItemSelected(h)?d=b.filter(R=>R!==h):d=[h].concat(b)}else d=t.multiSelect?[h]:h;u(c,d),r.current=h,s.current={}},f=(c,[h,p])=>{if(t.disableSelection||!t.multiSelect)return;let d=me(n.selectedItems.value).slice();Object.keys(s.current).length>0&&(d=d.filter(k=>!s.current[k]));const b=Ie(d),R=St(e,h,p),v=R.filter(k=>!b[k]);d=d.concat(v),u(c,d),s.current=Ie(R)};return{getRootProps:()=>({"aria-multiselectable":t.multiSelect}),instance:{isItemSelected:l,selectItem:m,selectAllNavigableItems:c=>{if(t.disableSelection||!t.multiSelect)return;const h=Mt(e);u(c,h),s.current=Ie(h)},expandSelectionRange:(c,h)=>{if(r.current!=null){const[p,d]=Fe(e,h,r.current);f(c,[p,d])}},selectRangeFromStartToItem:(c,h)=>{f(c,[G(e),h])},selectRangeFromItemToEnd:(c,h)=>{f(c,[h,Ve(e)])},selectItemFromArrowNavigation:(c,h,p)=>{if(t.disableSelection||!t.multiSelect)return;let d=me(n.selectedItems.value).slice();Object.keys(s.current).length===0?(d.push(p),s.current={[h]:!0,[p]:!0}):(s.current[h]||(s.current={}),s.current[p]?(d=d.filter(b=>b!==h),delete s.current[h]):(d.push(p),s.current[p]=!0)),u(c,d)}},contextValue:{selection:{multiSelect:t.multiSelect}}}};le.models={selectedItems:{getDefaultValue:e=>e.defaultSelectedItems}};const kt=[];le.getDefaultizedParams=e=>T({},e,{disableSelection:e.disableSelection??!1,multiSelect:e.multiSelect??!1,defaultSelectedItems:e.defaultSelectedItems??(e.multiSelect?kt:null)});le.params={disableSelection:!0,multiSelect:!0,defaultSelectedItems:!0,selectedItems:!0,onSelectedItemsChange:!0,onItemSelectionToggle:!0};const Ce=1e3;class Dt{constructor(t=Ce){this.timeouts=new Map,this.cleanupTimeout=Ce,this.cleanupTimeout=t}register(t,n,r){this.timeouts||(this.timeouts=new Map);const s=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(r.cleanupToken)},this.cleanupTimeout);this.timeouts.set(r.cleanupToken,s)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class At{constructor(){this.registry=new FinalizationRegistry(t=>{typeof t=="function"&&t()})}register(t,n,r){this.registry.register(t,n,r)}unregister(t){this.registry.unregister(t)}reset(){}}class Ot{}function Pt(e){let t=0;return function(r,s,i){e.registry===null&&(e.registry=typeof FinalizationRegistry<"u"?new At:new Dt);const[u]=x.useState(new Ot),l=x.useRef(null),m=x.useRef();m.current=i;const f=x.useRef(null);if(!l.current&&m.current){const g=(o,a)=>{var y;a.defaultMuiPrevented||(y=m.current)==null||y.call(m,o,a)};l.current=r.$$subscribeEvent(s,g),t+=1,f.current={cleanupToken:t},e.registry.register(u,()=>{var o;(o=l.current)==null||o.call(l),l.current=null,f.current=null},f.current)}else!m.current&&l.current&&(l.current(),l.current=null,f.current&&(e.registry.unregister(f.current),f.current=null));x.useEffect(()=>{if(!l.current&&m.current){const g=(o,a)=>{var y;a.defaultMuiPrevented||(y=m.current)==null||y.call(m,o,a)};l.current=r.$$subscribeEvent(s,g)}return f.current&&e.registry&&(e.registry.unregister(f.current),f.current=null),()=>{var g;(g=l.current)==null||g.call(l),l.current=null}},[r,s])}}const Vt={registry:null},Ft=Pt(Vt),$e=(e=document)=>{const t=e.activeElement;return t?t.shadowRoot?$e(t.shadowRoot):t:null},$t=(e,t)=>{const n=s=>{const i=e.getItemMeta(s);return i&&(i.parentId==null||e.isItemExpanded(i.parentId))};let r;return Array.isArray(t)?r=t.find(n):t!=null&&n(t)&&(r=t),r==null&&(r=G(e)),r},xe=({instance:e,params:t,state:n,setState:r,models:s,rootRef:i})=>{const u=$t(e,s.selectedItems.value),l=W(p=>{const d=typeof p=="function"?p(n.focusedItemId):p;n.focusedItemId!==d&&r(b=>T({},b,{focusedItemId:d}))}),m=x.useCallback(()=>!!i.current&&i.current.contains($e(nt(i.current))),[i]),f=x.useCallback(p=>n.focusedItemId===p&&m(),[n.focusedItemId,m]),g=p=>{const d=e.getItemMeta(p);return d&&(d.parentId==null||e.isItemExpanded(d.parentId))},o=(p,d)=>{const b=e.getItemMeta(d),R=document.getElementById(e.getTreeItemIdAttribute(d,b.idAttribute));R&&R.focus(),l(d),t.onItemFocus&&t.onItemFocus(p,d)},a=W((p,d)=>{g(d)&&o(p,d)}),y=W(p=>{let d;Array.isArray(s.selectedItems.value)?d=s.selectedItems.value.find(g):s.selectedItems.value!=null&&g(s.selectedItems.value)&&(d=s.selectedItems.value),d==null&&(d=G(e)),o(p,d)}),I=W(()=>{if(n.focusedItemId==null)return;const p=e.getItemMeta(n.focusedItemId);if(p){const d=document.getElementById(e.getTreeItemIdAttribute(n.focusedItemId,p.idAttribute));d&&d.blur()}l(null)}),c=p=>p===u;Ft(e,"removeItem",({id:p})=>{n.focusedItemId===p&&e.focusDefaultItem(null)});const h=p=>d=>{var b;(b=p.onFocus)==null||b.call(p,d),!d.defaultMuiPrevented&&d.target===d.currentTarget&&e.focusDefaultItem(d)};return{getRootProps:p=>({onFocus:h(p)}),publicAPI:{focusItem:a},instance:{isItemFocused:f,canItemBeTabbed:c,focusItem:a,focusDefaultItem:y,removeFocusedItem:I}}};xe.getInitialState=()=>({focusedItemId:null});xe.params={onItemFocus:!0};function jt(e){return!!e&&e.length===1&&!!e.match(/\S/)}const je=({instance:e,params:t,state:n})=>{const s=ge().direction==="rtl",i=x.useRef({}),u=W(o=>{i.current=o(i.current)});x.useEffect(()=>{if(e.areItemUpdatesPrevented())return;const o={},a=y=>{o[y.id]=y.label.substring(0,1).toLowerCase()};Object.values(n.items.itemMetaMap).forEach(a),i.current=o},[n.items.itemMetaMap,t.getItemId,e]);const l=(o,a)=>{const y=a.toLowerCase(),I=d=>{const b=oe(e,d);return b===null?G(e):b};let c=null,h=I(o);const p={};for(;c==null&&!p[h];)i.current[h]===y?c=h:(p[h]=!0,h=I(h));return c},m=o=>!t.disableSelection&&!e.isItemDisabled(o),f=o=>!e.isItemDisabled(o)&&e.isItemExpandable(o);return{instance:{updateFirstCharMap:u,handleItemKeyDown:(o,a)=>{if(o.defaultMuiPrevented||o.altKey||o.currentTarget!==o.target)return;const y=o.ctrlKey||o.metaKey,I=o.key;switch(!0){case(I===" "&&m(a)):{o.preventDefault(),t.multiSelect&&o.shiftKey?e.expandSelectionRange(o,a):t.multiSelect?e.selectItem(o,a,!0):e.selectItem(o,a);break}case I==="Enter":{f(a)?(e.toggleItemExpansion(o,a),o.preventDefault()):m(a)&&(t.multiSelect?(o.preventDefault(),e.selectItem(o,a,!0)):e.isItemSelected(a)||(e.selectItem(o,a),o.preventDefault()));break}case I==="ArrowDown":{const c=oe(e,a);c&&(o.preventDefault(),e.focusItem(o,c),t.multiSelect&&o.shiftKey&&m(c)&&e.selectItemFromArrowNavigation(o,a,c));break}case I==="ArrowUp":{const c=vt(e,a);c&&(o.preventDefault(),e.focusItem(o,c),t.multiSelect&&o.shiftKey&&m(c)&&e.selectItemFromArrowNavigation(o,a,c));break}case(I==="ArrowRight"&&!s||I==="ArrowLeft"&&s):{if(e.isItemExpanded(a)){const c=oe(e,a);c&&(e.focusItem(o,c),o.preventDefault())}else f(a)&&(e.toggleItemExpansion(o,a),o.preventDefault());break}case(I==="ArrowLeft"&&!s||I==="ArrowRight"&&s):{if(f(a)&&e.isItemExpanded(a))e.toggleItemExpansion(o,a),o.preventDefault();else{const c=e.getItemMeta(a).parentId;c&&(e.focusItem(o,c),o.preventDefault())}break}case I==="Home":{m(a)&&t.multiSelect&&y&&o.shiftKey?e.selectRangeFromStartToItem(o,a):e.focusItem(o,G(e)),o.preventDefault();break}case I==="End":{m(a)&&t.multiSelect&&y&&o.shiftKey?e.selectRangeFromItemToEnd(o,a):e.focusItem(o,Ve(e)),o.preventDefault();break}case I==="*":{e.expandAllSiblings(o,a),o.preventDefault();break}case(I==="a"&&y&&t.multiSelect&&!t.disableSelection):{e.selectAllNavigableItems(o),o.preventDefault();break}case(!y&&!o.shiftKey&&jt(I)):{const c=l(a,I);c!=null&&(e.focusItem(o,c),o.preventDefault());break}}}}}};je.params={};const Ne=({slots:e,slotProps:t})=>({contextValue:{icons:{slots:{collapseIcon:e.collapseIcon,expandIcon:e.expandIcon,endIcon:e.endIcon},slotProps:{collapseIcon:t.collapseIcon,expandIcon:t.expandIcon,endIcon:t.endIcon}}}});Ne.params={};const Nt=[Ae,se,ie,le,xe,je,Ne],ye=()=>{const e=x.useContext(De);if(e==null)throw new Error(["MUI X: Could not find the Tree View context.","It looks like you rendered your component outside of a SimpleTreeView or RichTreeView parent component.","This can also happen if you are bundling multiple versions of the Tree View."].join(`
`));return e},Lt=["slots","slotProps","apiRef"],_t=e=>{let{props:{slots:t,slotProps:n,apiRef:r},plugins:s,rootRef:i}=e,u=U(e.props,Lt);const l={};s.forEach(g=>{Object.assign(l,g.params)});const m={plugins:s,rootRef:i,slots:t??{},slotProps:n??{},apiRef:r},f={};return Object.keys(u).forEach(g=>{const o=u[g];l[g]?m[g]=o:f[g]=o}),{pluginParams:m,slots:t,slotProps:n,otherProps:f}};function zt(e){return he("MuiRichTreeView",e)}be("MuiRichTreeView",["root"]);function Kt(e,t,n=void 0){const r={};for(const s in e){const i=e[s];let u="",l=!0;for(let m=0;m<i.length;m+=1){const f=i[m];f&&(u+=(l===!0?"":" ")+t(f),l=!1,n&&n[f]&&(u+=" "+n[f]))}r[s]=u}return r}function Ut(e){const{instance:t,selection:{multiSelect:n}}=ye(),r=t.isItemExpandable(e),s=t.isItemExpanded(e),i=t.isItemFocused(e),u=t.isItemSelected(e),l=t.isItemDisabled(e);return{disabled:l,expanded:s,selected:u,focused:i,handleExpansion:o=>{if(!l){i||t.focusItem(o,e);const a=n&&(o.shiftKey||o.ctrlKey||o.metaKey);r&&!(a&&t.isItemExpanded(e))&&t.toggleItemExpansion(o,e)}},handleSelection:o=>{l||(i||t.focusItem(o,e),n&&(o.shiftKey||o.ctrlKey||o.metaKey)?o.shiftKey?t.expandSelectionRange(o,e):t.selectItem(o,e,!0):t.selectItem(o,e))},preventSelection:o=>{(o.shiftKey||o.ctrlKey||o.metaKey||l)&&o.preventDefault()}}}const Wt=["classes","className","displayIcon","expansionIcon","icon","label","itemId","onClick","onMouseDown"],Le=x.forwardRef(function(t,n){const{classes:r,className:s,displayIcon:i,expansionIcon:u,icon:l,label:m,itemId:f,onClick:g,onMouseDown:o}=t,a=U(t,Wt),{disabled:y,expanded:I,selected:c,focused:h,handleExpansion:p,handleSelection:d,preventSelection:b}=Ut(f),R=l||u||i,v=S=>{b(S),o&&o(S)},k=S=>{p(S),d(S),g&&g(S)};return C.jsxs("div",T({},a,{className:Q(s,r.root,I&&r.expanded,c&&r.selected,h&&r.focused,y&&r.disabled),onClick:k,onMouseDown:v,ref:n,children:[C.jsx("div",{className:r.iconContainer,children:R}),C.jsx("div",{className:r.label,children:m})]}))});function Ht(e){return he("MuiTreeItem",e)}const N=be("MuiTreeItem",["root","groupTransition","content","expanded","selected","focused","disabled","iconContainer","label"]),Bt=ve(C.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"TreeViewExpandIcon"),qt=ve(C.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"TreeViewCollapseIcon");function _e(e){const{children:t,itemId:n}=e,{wrapItem:r}=ye();return r({children:t,itemId:n})}_e.propTypes={children:Te.node,itemId:Te.string.isRequired};const Gt=["children","className","slots","slotProps","ContentComponent","ContentProps","itemId","id","label","onClick","onMouseDown","onFocus","onBlur","onKeyDown"],Xt=["ownerState"],Jt=["ownerState"],Zt=["ownerState"],Qt=e=>{const{classes:t}=e;return Kt({root:["root"],content:["content"],expanded:["expanded"],selected:["selected"],focused:["focused"],disabled:["disabled"],iconContainer:["iconContainer"],label:["label"],groupTransition:["groupTransition"]},Ht,t)},Yt=H("li",{name:"MuiTreeItem",slot:"Root",overridesResolver:(e,t)=>t.root})({listStyle:"none",margin:0,padding:0,outline:0}),en=H(Le,{name:"MuiTreeItem",slot:"Content",overridesResolver:(e,t)=>[t.content,t.iconContainer&&{[`& .${N.iconContainer}`]:t.iconContainer},t.label&&{[`& .${N.label}`]:t.label}]})(({theme:e})=>({padding:e.spacing(.5,1),borderRadius:e.shape.borderRadius,width:"100%",boxSizing:"border-box",display:"flex",alignItems:"center",gap:e.spacing(1),cursor:"pointer",WebkitTapHighlightColor:"transparent","&:hover":{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${N.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,backgroundColor:"transparent"},[`&.${N.focused}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${N.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ne(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:ne(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${N.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:ne(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`& .${N.iconContainer}`]:{width:16,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},[`& .${N.label}`]:T({width:"100%",boxSizing:"border-box",minWidth:0,position:"relative"},e.typography.body1)})),tn=H(Me,{name:"MuiTreeItem",slot:"GroupTransition",overridesResolver:(e,t)=>t.groupTransition})({margin:0,padding:0,paddingLeft:12}),nn=x.forwardRef(function(t,n){const{icons:r,runItemPlugins:s,selection:{multiSelect:i},disabledItemsFocusable:u,instance:l}=ye(),m=Se({props:t,name:"MuiTreeItem"}),{children:f,className:g,slots:o,slotProps:a,ContentComponent:y=Le,ContentProps:I,itemId:c,id:h,label:p,onClick:d,onMouseDown:b,onBlur:R,onKeyDown:v}=m,k=U(m,Gt),{contentRef:S,rootRef:Y}=s(m),ae=re(n,Y),F=re(I==null?void 0:I.ref,S),$={expandIcon:(o==null?void 0:o.expandIcon)??r.slots.expandIcon??Bt,collapseIcon:(o==null?void 0:o.collapseIcon)??r.slots.collapseIcon??qt,endIcon:(o==null?void 0:o.endIcon)??r.slots.endIcon,icon:o==null?void 0:o.icon,groupTransition:o==null?void 0:o.groupTransition},L=w=>Array.isArray(w)?w.length>0&&w.some(L):!!w,P=L(f),D=l.isItemExpanded(c),_=l.isItemFocused(c),X=l.isItemSelected(c),V=l.isItemDisabled(c),z=T({},m,{expanded:D,focused:_,selected:X,disabled:V}),A=Qt(z),ee=$.groupTransition??void 0,ce=q({elementType:ee,ownerState:{},externalSlotProps:a==null?void 0:a.groupTransition,additionalProps:{unmountOnExit:!0,in:D,component:"ul",role:"group"},className:A.groupTransition}),J=D?$.collapseIcon:$.expandIcon,ue=q({elementType:J,ownerState:{},externalSlotProps:w=>D?T({},B(r.slotProps.collapseIcon,w),B(a==null?void 0:a.collapseIcon,w)):T({},B(r.slotProps.expandIcon,w),B(a==null?void 0:a.expandIcon,w))}),de=U(ue,Xt),fe=P&&J?C.jsx(J,T({},de)):null,E=P?void 0:$.endIcon,M=q({elementType:E,ownerState:{},externalSlotProps:w=>P?{}:T({},B(r.slotProps.endIcon,w),B(a==null?void 0:a.endIcon,w))}),O=U(M,Jt),K=E?C.jsx(E,T({},O)):null,j=$.icon,te=q({elementType:j,ownerState:{},externalSlotProps:a==null?void 0:a.icon}),ze=U(te,Zt),Ke=j?C.jsx(j,T({},ze)):null;let pe;i?pe=X:X&&(pe=!0);function Ue(w){!_&&(!V||u)&&w.currentTarget===w.target&&l.focusItem(w,c)}function We(w){R==null||R(w),l.removeFocusedItem()}const He=w=>{v==null||v(w),l.handleItemKeyDown(w,c)},Be=l.getTreeItemIdAttribute(c,h),qe=l.canItemBeTabbed(c)?0:-1;return C.jsx(_e,{itemId:c,children:C.jsxs(Yt,T({className:Q(A.root,g),role:"treeitem","aria-expanded":P?D:void 0,"aria-selected":pe,"aria-disabled":V||void 0,id:Be,tabIndex:qe},k,{ownerState:z,onFocus:Ue,onBlur:We,onKeyDown:He,ref:ae,children:[C.jsx(en,T({as:y,classes:{root:A.content,expanded:A.expanded,selected:A.selected,focused:A.focused,disabled:A.disabled,iconContainer:A.iconContainer,label:A.label},label:p,itemId:c,onClick:d,onMouseDown:b,icon:Ke,expansionIcon:fe,displayIcon:K,ownerState:z},I,{ref:F})),f&&C.jsx(tn,T({as:ee},ce,{children:f}))]}))})}),on=e=>{const{classes:t}=e;return Re({root:["root"]},zt,t)},rn=H("ul",{name:"MuiRichTreeView",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,margin:0,listStyle:"none",outline:0,position:"relative"});function sn({slots:e,slotProps:t,label:n,id:r,itemId:s,children:i}){const u=(e==null?void 0:e.item)??nn,l=q({elementType:u,externalSlotProps:t==null?void 0:t.item,additionalProps:{itemId:s,id:r,label:n},ownerState:{itemId:s,label:n}});return C.jsx(u,T({},l,{children:i}))}const ln=x.forwardRef(function(t,n){const r=Se({props:t,name:"MuiRichTreeView"}),{pluginParams:s,slots:i,slotProps:u,otherProps:l}=_t({props:r,plugins:Nt,rootRef:n}),{getRootProps:m,contextValue:f,instance:g}=Et(s),o=on(r),a=(i==null?void 0:i.root)??rn,y=q({elementType:a,externalSlotProps:u==null?void 0:u.root,externalForwardedProps:l,className:o.root,getSlotProps:m,ownerState:r}),I=g.getItemsToRender(),c=({label:h,itemId:p,id:d,children:b})=>C.jsx(sn,{slots:i,slotProps:u,label:h,id:d,itemId:p,children:b==null?void 0:b.map(c)},p);return C.jsx(Tt,{value:f,children:C.jsx(a,T({},y,{children:I.map(c)}))})}),an=({alwaysExpandedIds:e=[],...t})=>{const n=ge(),[r,s]=x.useState(e),i={backgroundColor:n.palette.primary.main,color:n.palette.primary.contrastText};return Ge(ln,{expandedItems:r,onExpandedItemsChange:(u,l)=>{s([...new Set([...e,...l])])},...t,sx:{".MuiTreeItem-content":{":hover":{...i},"&.Mui-selected.Mui-focused":{...i,":hover":{...i}},"&.Mui-selected":{...i,":hover":{...i}}}}})};an.__docgenInfo={description:"",methods:[],displayName:"TreeView",props:{items:{required:!0,tsType:{name:"Array",elements:[{name:"Item"}],raw:"Item[]"},description:""},alwaysExpandedIds:{defaultValue:{value:"[]",computed:!1},required:!1}}};export{an as T};
