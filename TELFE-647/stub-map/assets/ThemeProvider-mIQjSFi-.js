import{G as E,k as b,a as i,D as j,_ as S,T as y}from"./DefaultPropsProvider-DokkfWXe.js";import{r as f}from"./index-Dl6G-zuu.js";import{j as l}from"./jsx-runtime-DMAvRu52.js";import{u as g,a as v}from"./useTheme-c__JTuJp.js";import{R as P}from"./index-Bg6tHTX3.js";import{u as _}from"./useId-CkA8naEk.js";import{u as C}from"./useEnhancedEffect-DZnfS5Iy.js";import{T as $}from"./emotion-react-jsx-runtime.browser.esm-BgDa5HT4.js";function d(t){const e=b(t);return t!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):t}function L({styles:t,themeId:e,defaultTheme:o={}}){const r=g(o),n=e&&r[e]||r;let s=typeof t=="function"?t(n):t;return n.modularCssLayers&&(Array.isArray(s)?s=s.map(u=>d(typeof u=="function"?u(n):u)):s=d(s)),l.jsx(E,{styles:s})}const T=f.createContext(null);function x(){return f.useContext(T)}const M=typeof Symbol=="function"&&Symbol.for,G=M?Symbol.for("mui.nested"):"__THEME_NESTED__";function D(t,e){return typeof e=="function"?e(t):i({},t,e)}function O(t){const{children:e,theme:o}=t,r=x(),n=f.useMemo(()=>{const s=r===null?o:D(r,o);return s!=null&&(s[G]=r!==null),s},[o,r]);return l.jsx(T.Provider,{value:n,children:e})}function H(t){const e=v(),o=_()||"",{modularCssLayers:r}=t;let n="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?n="":typeof r=="string"?n=r.replace(/mui(?!\.)/g,n):n=`@layer ${n};`,C(()=>{const s=document.querySelector("head");if(!s)return;const u=s.firstChild;if(n){var m;if(u&&(m=u.hasAttribute)!=null&&m.call(u,"data-mui-layer-order")&&u.getAttribute("data-mui-layer-order")===o)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",o),a.textContent=n,s.prepend(a)}else{var c;(c=s.querySelector(`style[data-mui-layer-order="${o}"]`))==null||c.remove()}},[n,o]),n?l.jsx(L,{styles:n}):null}const h={};function p(t,e,o,r=!1){return f.useMemo(()=>{const n=t&&e[t]||e;if(typeof o=="function"){const s=o(n),u=t?i({},e,{[t]:s}):s;return r?()=>u:u}return t?i({},e,{[t]:o}):i({},e,o)},[t,e,o,r])}function R(t){const{children:e,theme:o,themeId:r}=t,n=v(h),s=x()||h,u=p(r,n,o),m=p(r,s,o,!0),c=u.direction==="rtl",a=H(u);return l.jsx(O,{theme:m,children:l.jsx($.Provider,{value:u,children:l.jsx(P,{value:c,children:l.jsxs(j,{value:u==null?void 0:u.components,children:[a,e]})})})})}const z=["theme"];function B(t){let{theme:e}=t,o=S(t,z);const r=e[y];let n=r||e;return typeof e!="function"&&(r&&!r.vars?n=i({},r,{vars:null}):e&&!e.vars&&(n=i({},e,{vars:null}))),l.jsx(R,i({},o,{themeId:r?y:void 0,theme:n}))}export{L as G,B as T};
