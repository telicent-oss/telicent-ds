var ik=Object.defineProperty;var zx=n=>{throw TypeError(n)};var rk=(n,e,t)=>e in n?ik(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $x=(n,e,t)=>rk(n,typeof e!="symbol"?e+"":e,t),bg=(n,e,t)=>e.has(n)||zx("Cannot "+t);var ae=(n,e,t)=>(bg(n,e,"read from private field"),t?t.call(n):e.get(n)),Ft=(n,e,t)=>e.has(n)?zx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),it=(n,e,t,i)=>(bg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Kn=(n,e,t)=>(bg(n,e,"access private method"),t);var Rh=(n,e,t,i)=>({set _(r){it(n,e,r,t)},get _(){return ae(n,e,i)}});import{j as Q,a as Je,F as x0}from"./emotion-react-jsx-runtime.browser.esm-BgDa5HT4.js";import{r as ce,g as b0,c as _s,R as w0,b as sk}from"./index-Dl6G-zuu.js";import{e as Ih,d as Bx,b as Bw,D as Gw,a as Ww,u as qw,c as ok,g as Uw}from"./constants-MG3Nslaq.js";import{F as Xr,b as jw,A as ak,D as E0,c as lk,d as uk,e as C0,g as S0}from"./UserProfile-B-204ua-.js";import{a6 as ck,ar as yo,aF as oi,_ as Hi,X as bm,aq as vf,ai as wm,aJ as Em,aB as hk,ao as fk,W as Lr,a7 as Tu,aG as dk}from"./types-JQgdQoTs.js";import{B as qu,u as pk}from"./ButtonBase-DExEX2yL.js";import{_ as ve,a as Di,k as zn,l as Jo,t as Ro,u as Vw}from"./defaultTheme-DzLjz-dB.js";import{g as Ta,s as Ln,c as qn,a as Yr,r as od}from"./styled-gOU_XONt.js";import{u as Hw}from"./index-BbVSaS1S.js";import{g as Ra}from"./generateUtilityClasses-Btm8e7dB.js";import{j as gt}from"./jsx-runtime-DMAvRu52.js";import{u as Ms,r as gk}from"./DefaultPropsProvider-CJK-usBy.js";import{c as Xw,d as mk,o as Yw,M as Kw,G as Gx,b as Ah}from"./Popover-ChqH2Att.js";import{u as Kr}from"./useTheme-BorXEO18.js";import{c as hl,s as yk,u as ad,b as Ph,a as _k}from"./TransitionGroupContext-BU5kpZ0L.js";import{c as zu,u as Zw,f as vk,T as xk,I as bk,S as wk,b as Ek,O as Ck,d as Sk}from"./TextField-_uwvimc2.js";import{u as Jw}from"./useId-CkA8naEk.js";import{af as Tk,ag as pu,ah as T0,ai as R0}from"./AdapterDayjs-LX5PD6Iu.js";import{u as er,G as Rk,a as Ik,C as Ak}from"./TelicentHorizontalSVG-B3Sdezn-.js";import"./DataSetIcon-BPiH7weE.js";import{U as Pk}from"./UserIcon-DpDI8rF2.js";import{T as _a,c as Mk}from"./Text-BVIdl1Jw.js";import{L as xf,M as Qw,b as Lk}from"./Menu-z0RjVFYM.js";import{u as kk}from"./useEnhancedEffect-DZnfS5Iy.js";import{g as Ok,a as Fk,l as Wx,M as I0}from"./DateTimePicker-DBMjeEsM.js";import{z as gu,a as Dk}from"./UIThemeProvider-BS_sxDlI.js";import{I as _o}from"./IconButton-6csnvzSG.js";import{S as eE,F as vo}from"./FlexBox-DVTFmfFO.js";import"./Chip-tBdBanDh.js";import"./Divider-CByba2Al.js";import{B as Un}from"./Box-Dhn_9KCB.js";import"./TreeView-DJkxzt72.js";import"./UserProfileContent-CQNj73V_.js";import{G as qo,a as ld,F as Uu}from"./FlexGrid-BoEfBcU9.js";import"./LinearProgress-BvlhFhje.js";import{a as Mh}from"./colorManipulator-BRx-aaGP.js";import{B as Wl}from"./Button-2o7EfnUw.js";import"./LinkButton-udFJw26p.js";import"./Container-FF4Fdp1b.js";import"./TextField-Bjo93FIX.js";import"./DatePicker-D-OuTvCY.js";import{s as Nk}from"./styled-BrfVIC6E.js";import{P as A0}from"./Paper-BG42kFkz.js";import{T as vs}from"./Typography-Dhe6o_9I.js";import{B as tE}from"./Button-B3igqjqf.js";import"./Card-B74XhqI-.js";import"./CardActions-BsipVerF.js";import{p as nE}from"./index-BfyspvgH.js";import{r as ud}from"./index-B0kOWIl9.js";import{P as iE}from"./Popover-CqIy5M7D.js";import{P as zk}from"./Paper-BsJ-nzzS.js";import"./ErrorFallback-Db8jP4lY.js";import"./ErrorFallbackText-B2VVr9Qi.js";import"./ErrorFallbackWrapper-CwjhO7ym.js";import"./MapToggleButtonPresentational-DCqTgYa9.js";import{c as P0}from"./createSvgIcon-MUYTbX0p.js";import{C as $k,c as Bk,E as Gk,a as Wk,b as qk}from"./Edit-DTNJPwPG.js";import{T as Uk,g as qx,r as jk}from"./utils-BgVWvv5k.js";const Vk=n=>{const e=ce.useRef({});return ce.useEffect(()=>{e.current=n}),e.current};function Ux(n){return typeof n.normalize<"u"?n.normalize("NFD").replace(/[\u0300-\u036f]/g,""):n}function Hk(n={}){const{ignoreAccents:e=!0,ignoreCase:t=!0,limit:i,matchFrom:r="any",stringify:s,trim:o=!1}=n;return(a,{inputValue:u,getOptionLabel:c})=>{let f=o?u.trim():u;t&&(f=f.toLowerCase()),e&&(f=Ux(f));const d=f?a.filter(g=>{let m=(s||c)(g);return t&&(m=m.toLowerCase()),e&&(m=Ux(m)),r==="start"?m.indexOf(f)===0:m.indexOf(f)>-1}):a;return typeof i=="number"?d.slice(0,i):d}}function Lh(n,e){for(let t=0;t<n.length;t+=1)if(e(n[t]))return t;return-1}const Xk=Hk(),jx=5,Yk=n=>{var e;return n.current!==null&&((e=n.current.parentElement)==null?void 0:e.contains(document.activeElement))},Kk=[];function Zk(n){const{unstable_isActiveElementInListbox:e=Yk,unstable_classNamePrefix:t="Mui",autoComplete:i=!1,autoHighlight:r=!1,autoSelect:s=!1,blurOnSelect:o=!1,clearOnBlur:a=!n.freeSolo,clearOnEscape:u=!1,componentName:c="useAutocomplete",defaultValue:f=n.multiple?Kk:null,disableClearable:d=!1,disableCloseOnSelect:g=!1,disabled:m,disabledItemsFocusable:y=!1,disableListWrap:v=!1,filterOptions:x=Xk,filterSelectedOptions:C=!1,freeSolo:E=!1,getOptionDisabled:S,getOptionKey:R,getOptionLabel:T=re=>{var J;return(J=re.label)!=null?J:re},groupBy:F,handleHomeEndKeys:O=!n.freeSolo,id:N,includeInputInList:M=!1,inputValue:W,isOptionEqualToValue:B=(re,J)=>re===J,multiple:z=!1,onChange:V,onClose:Z,onHighlightChange:G,onInputChange:j,onOpen:q,open:Y,openOnFocus:te=!1,options:ne,readOnly:me=!1,selectOnFocus:he=!n.freeSolo,value:Ue}=n,oe=Jw(N);let Me=T;Me=re=>{const J=T(re);return typeof J!="string"?String(J):J};const ct=ce.useRef(!1),De=ce.useRef(!0),Re=ce.useRef(null),Se=ce.useRef(null),[ht,Bt]=ce.useState(null),[Ct,Jt]=ce.useState(-1),pe=r?0:-1,Ne=ce.useRef(pe),[be,ke]=zu({controlled:Ue,default:f,name:c}),[Ke,tn]=zu({controlled:W,default:"",name:c,state:"inputValue"}),[ft,k]=ce.useState(!1),Ze=ce.useCallback((re,J)=>{if(!(z?be.length<J.length:J!==null)&&!a)return;let Fe;if(z)Fe="";else if(J==null)Fe="";else{const vt=Me(J);Fe=typeof vt=="string"?vt:""}Ke!==Fe&&(tn(Fe),j&&j(re,Fe,"reset"))},[Me,Ke,z,j,tn,a,be]),[ze,bn]=zu({controlled:Y,default:!1,name:c,state:"open"}),[Ut,an]=ce.useState(!0),bt=!z&&be!=null&&Ke===Me(be),je=ze&&!me,Ae=je?x(ne.filter(re=>!(C&&(z?be:[be]).some(J=>J!==null&&B(re,J)))),{inputValue:bt&&Ut?"":Ke,getOptionLabel:Me}):[],Le=Vk({filteredOptions:Ae,value:be,inputValue:Ke});ce.useEffect(()=>{const re=be!==Le.value;ft&&!re||E&&!re||Ze(null,be)},[be,Ze,ft,Le.value,E]);const Ee=ze&&Ae.length>0&&!me,_t=hl(re=>{re===-1?Re.current.focus():ht.querySelector(`[data-tag-index="${re}"]`).focus()});ce.useEffect(()=>{z&&Ct>be.length-1&&(Jt(-1),_t(-1))},[be,z,Ct,_t]);function $e(re,J){if(!Se.current||re<0||re>=Ae.length)return-1;let xe=re;for(;;){const Fe=Se.current.querySelector(`[data-option-index="${xe}"]`),vt=y?!1:!Fe||Fe.disabled||Fe.getAttribute("aria-disabled")==="true";if(Fe&&Fe.hasAttribute("tabindex")&&!vt)return xe;if(J==="next"?xe=(xe+1)%Ae.length:xe=(xe-1+Ae.length)%Ae.length,xe===re)return-1}}const Be=hl(({event:re,index:J,reason:xe="auto"})=>{if(Ne.current=J,J===-1?Re.current.removeAttribute("aria-activedescendant"):Re.current.setAttribute("aria-activedescendant",`${oe}-option-${J}`),G&&G(re,J===-1?null:Ae[J],xe),!Se.current)return;const Fe=Se.current.querySelector(`[role="option"].${t}-focused`);Fe&&(Fe.classList.remove(`${t}-focused`),Fe.classList.remove(`${t}-focusVisible`));let vt=Se.current;if(Se.current.getAttribute("role")!=="listbox"&&(vt=Se.current.parentElement.querySelector('[role="listbox"]')),!vt)return;if(J===-1){vt.scrollTop=0;return}const Te=Se.current.querySelector(`[data-option-index="${J}"]`);if(Te&&(Te.classList.add(`${t}-focused`),xe==="keyboard"&&Te.classList.add(`${t}-focusVisible`),vt.scrollHeight>vt.clientHeight&&xe!=="mouse"&&xe!=="touch")){const mt=Te,In=vt.clientHeight+vt.scrollTop,et=mt.offsetTop+mt.offsetHeight;et>In?vt.scrollTop=et-vt.clientHeight:mt.offsetTop-mt.offsetHeight*(F?1.3:0)<vt.scrollTop&&(vt.scrollTop=mt.offsetTop-mt.offsetHeight*(F?1.3:0))}}),Qe=hl(({event:re,diff:J,direction:xe="next",reason:Fe="auto"})=>{if(!je)return;const Te=$e((()=>{const mt=Ae.length-1;if(J==="reset")return pe;if(J==="start")return 0;if(J==="end")return mt;const In=Ne.current+J;return In<0?In===-1&&M?-1:v&&Ne.current!==-1||Math.abs(J)>1?0:mt:In>mt?In===mt+1&&M?-1:v||Math.abs(J)>1?mt:0:In})(),xe);if(Be({index:Te,reason:Fe,event:re}),i&&J!=="reset")if(Te===-1)Re.current.value=Ke;else{const mt=Me(Ae[Te]);Re.current.value=mt,mt.toLowerCase().indexOf(Ke.toLowerCase())===0&&Ke.length>0&&Re.current.setSelectionRange(Ke.length,mt.length)}}),St=()=>{const re=(J,xe)=>{const Fe=J?Me(J):"",vt=xe?Me(xe):"";return Fe===vt};if(Ne.current!==-1&&Le.filteredOptions&&Le.filteredOptions.length!==Ae.length&&Le.inputValue===Ke&&(z?be.length===Le.value.length&&Le.value.every((J,xe)=>Me(be[xe])===Me(J)):re(Le.value,be))){const J=Le.filteredOptions[Ne.current];if(J)return Lh(Ae,xe=>Me(xe)===Me(J))}return-1},Xt=ce.useCallback(()=>{if(!je)return;const re=St();if(re!==-1){Ne.current=re;return}const J=z?be[0]:be;if(Ae.length===0||J==null){Qe({diff:"reset"});return}if(Se.current){if(J!=null){const xe=Ae[Ne.current];if(z&&xe&&Lh(be,vt=>B(xe,vt))!==-1)return;const Fe=Lh(Ae,vt=>B(vt,J));Fe===-1?Qe({diff:"reset"}):Be({index:Fe});return}if(Ne.current>=Ae.length-1){Be({index:Ae.length-1});return}Be({index:Ne.current})}},[Ae.length,z?!1:be,C,Qe,Be,je,Ke,z]),pn=hl(re=>{yk(Se,re),re&&Xt()});ce.useEffect(()=>{Xt()},[Xt]);const kt=re=>{ze||(bn(!0),an(!0),q&&q(re))},Ot=(re,J)=>{ze&&(bn(!1),Z&&Z(re,J))},st=(re,J,xe,Fe)=>{if(z){if(be.length===J.length&&be.every((vt,Te)=>vt===J[Te]))return}else if(be===J)return;V&&V(re,J,xe,Fe),ke(J)},wt=ce.useRef(!1),Ht=(re,J,xe="selectOption",Fe="options")=>{let vt=xe,Te=J;if(z){Te=Array.isArray(be)?be.slice():[];const mt=Lh(Te,In=>B(J,In));mt===-1?Te.push(J):Fe!=="freeSolo"&&(Te.splice(mt,1),vt="removeOption")}Ze(re,Te),st(re,Te,vt,{option:J}),!g&&(!re||!re.ctrlKey&&!re.metaKey)&&Ot(re,vt),(o===!0||o==="touch"&&wt.current||o==="mouse"&&!wt.current)&&Re.current.blur()};function Mt(re,J){if(re===-1)return-1;let xe=re;for(;;){if(J==="next"&&xe===be.length||J==="previous"&&xe===-1)return-1;const Fe=ht.querySelector(`[data-tag-index="${xe}"]`);if(!Fe||!Fe.hasAttribute("tabindex")||Fe.disabled||Fe.getAttribute("aria-disabled")==="true")xe+=J==="next"?1:-1;else return xe}}const Nt=(re,J)=>{if(!z)return;Ke===""&&Ot(re,"toggleInput");let xe=Ct;Ct===-1?Ke===""&&J==="previous"&&(xe=be.length-1):(xe+=J==="next"?1:-1,xe<0&&(xe=0),xe===be.length&&(xe=-1)),xe=Mt(xe,J),Jt(xe),_t(xe)},Rn=re=>{ct.current=!0,tn(""),j&&j(re,"","clear"),st(re,z?[]:null,"clear")},ln=re=>J=>{if(re.onKeyDown&&re.onKeyDown(J),!J.defaultMuiPrevented&&(Ct!==-1&&["ArrowLeft","ArrowRight"].indexOf(J.key)===-1&&(Jt(-1),_t(-1)),J.which!==229))switch(J.key){case"Home":je&&O&&(J.preventDefault(),Qe({diff:"start",direction:"next",reason:"keyboard",event:J}));break;case"End":je&&O&&(J.preventDefault(),Qe({diff:"end",direction:"previous",reason:"keyboard",event:J}));break;case"PageUp":J.preventDefault(),Qe({diff:-jx,direction:"previous",reason:"keyboard",event:J}),kt(J);break;case"PageDown":J.preventDefault(),Qe({diff:jx,direction:"next",reason:"keyboard",event:J}),kt(J);break;case"ArrowDown":J.preventDefault(),Qe({diff:1,direction:"next",reason:"keyboard",event:J}),kt(J);break;case"ArrowUp":J.preventDefault(),Qe({diff:-1,direction:"previous",reason:"keyboard",event:J}),kt(J);break;case"ArrowLeft":Nt(J,"previous");break;case"ArrowRight":Nt(J,"next");break;case"Enter":if(Ne.current!==-1&&je){const xe=Ae[Ne.current],Fe=S?S(xe):!1;if(J.preventDefault(),Fe)return;Ht(J,xe,"selectOption"),i&&Re.current.setSelectionRange(Re.current.value.length,Re.current.value.length)}else E&&Ke!==""&&bt===!1&&(z&&J.preventDefault(),Ht(J,Ke,"createOption","freeSolo"));break;case"Escape":je?(J.preventDefault(),J.stopPropagation(),Ot(J,"escape")):u&&(Ke!==""||z&&be.length>0)&&(J.preventDefault(),J.stopPropagation(),Rn(J));break;case"Backspace":if(z&&!me&&Ke===""&&be.length>0){const xe=Ct===-1?be.length-1:Ct,Fe=be.slice();Fe.splice(xe,1),st(J,Fe,"removeOption",{option:be[xe]})}break;case"Delete":if(z&&!me&&Ke===""&&be.length>0&&Ct!==-1){const xe=Ct,Fe=be.slice();Fe.splice(xe,1),st(J,Fe,"removeOption",{option:be[xe]})}break}},gn=re=>{k(!0),te&&!ct.current&&kt(re)},Yt=re=>{if(e(Se)){Re.current.focus();return}k(!1),De.current=!0,ct.current=!1,s&&Ne.current!==-1&&je?Ht(re,Ae[Ne.current],"blur"):s&&E&&Ke!==""?Ht(re,Ke,"blur","freeSolo"):a&&Ze(re,be),Ot(re,"blur")},kn=re=>{const J=re.target.value;Ke!==J&&(tn(J),an(!1),j&&j(re,J,"input")),J===""?!d&&!z&&st(re,null,"clear"):kt(re)},un=re=>{const J=Number(re.currentTarget.getAttribute("data-option-index"));Ne.current!==J&&Be({event:re,index:J,reason:"mouse"})},Lt=re=>{Be({event:re,index:Number(re.currentTarget.getAttribute("data-option-index")),reason:"touch"}),wt.current=!0},Tt=re=>{const J=Number(re.currentTarget.getAttribute("data-option-index"));Ht(re,Ae[J],"selectOption"),wt.current=!1},wn=re=>J=>{const xe=be.slice();xe.splice(re,1),st(J,xe,"removeOption",{option:be[re]})},Ir=re=>{ze?Ot(re,"toggleInput"):kt(re)},nr=re=>{re.currentTarget.contains(re.target)&&re.target.getAttribute("id")!==oe&&re.preventDefault()},ir=re=>{re.currentTarget.contains(re.target)&&(Re.current.focus(),he&&De.current&&Re.current.selectionEnd-Re.current.selectionStart===0&&Re.current.select(),De.current=!1)},mn=re=>{!m&&(Ke===""||!ze)&&Ir(re)};let rr=E&&Ke.length>0;rr=rr||(z?be.length>0:be!==null);let hi=Ae;return F&&(hi=Ae.reduce((re,J,xe)=>{const Fe=F(J);return re.length>0&&re[re.length-1].group===Fe?re[re.length-1].options.push(J):re.push({key:xe,index:xe,group:Fe,options:[J]}),re},[])),m&&ft&&Yt(),{getRootProps:(re={})=>ve({"aria-owns":Ee?`${oe}-listbox`:null},re,{onKeyDown:ln(re),onMouseDown:nr,onClick:ir}),getInputLabelProps:()=>({id:`${oe}-label`,htmlFor:oe}),getInputProps:()=>({id:oe,value:Ke,onBlur:Yt,onFocus:gn,onChange:kn,onMouseDown:mn,"aria-activedescendant":je?"":null,"aria-autocomplete":i?"both":"list","aria-controls":Ee?`${oe}-listbox`:void 0,"aria-expanded":Ee,autoComplete:"off",ref:Re,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:m}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:Rn}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:Ir}),getTagProps:({index:re})=>ve({key:re,"data-tag-index":re,tabIndex:-1},!me&&{onDelete:wn(re)}),getListboxProps:()=>({role:"listbox",id:`${oe}-listbox`,"aria-labelledby":`${oe}-label`,ref:pn,onMouseDown:re=>{re.preventDefault()}}),getOptionProps:({index:re,option:J})=>{var xe;const Fe=(z?be:[be]).some(Te=>Te!=null&&B(J,Te)),vt=S?S(J):!1;return{key:(xe=R==null?void 0:R(J))!=null?xe:Me(J),tabIndex:-1,role:"option",id:`${oe}-option-${re}`,onMouseMove:un,onClick:Tt,onTouchStart:Lt,"data-option-index":re,"aria-disabled":vt,"aria-selected":Fe}},id:oe,inputValue:Ke,value:be,dirty:rr,expanded:je&&ht,popupOpen:je,focused:ft||Ct!==-1,anchorEl:ht,setAnchorEl:Bt,focusedTag:Ct,groupedOptions:hi}}function Jk(n){return Ta("PrivateSwitchBase",n)}Ra("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Qk=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],eO=n=>{const{classes:e,checked:t,disabled:i,edge:r}=n,s={root:["root",t&&"checked",i&&"disabled",r&&`edge${zn(r)}`],input:["input"]};return Yr(s,Jk,e)},tO=Ln(qu,{name:"MuiSwitchBase"})(({ownerState:n})=>ve({padding:9,borderRadius:"50%"},n.edge==="start"&&{marginLeft:n.size==="small"?-3:-12},n.edge==="end"&&{marginRight:n.size==="small"?-3:-12})),nO=Ln("input",{name:"MuiSwitchBase",shouldForwardProp:od})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),iO=ce.forwardRef(function(e,t){const{autoFocus:i,checked:r,checkedIcon:s,className:o,defaultChecked:a,disabled:u,disableFocusRipple:c=!1,edge:f=!1,icon:d,id:g,inputProps:m,inputRef:y,name:v,onBlur:x,onChange:C,onFocus:E,readOnly:S,required:R=!1,tabIndex:T,type:F,value:O}=e,N=Di(e,Qk),[M,W]=zu({controlled:r,default:!!a,name:"SwitchBase",state:"checked"}),B=Zw(),z=te=>{E&&E(te),B&&B.onFocus&&B.onFocus(te)},V=te=>{x&&x(te),B&&B.onBlur&&B.onBlur(te)},Z=te=>{if(te.nativeEvent.defaultPrevented)return;const ne=te.target.checked;W(ne),C&&C(te,ne)};let G=u;B&&typeof G>"u"&&(G=B.disabled);const j=F==="checkbox"||F==="radio",q=ve({},e,{checked:M,disabled:G,disableFocusRipple:c,edge:f}),Y=eO(q);return gt.jsxs(tO,ve({component:"span",className:qn(Y.root,o),centerRipple:!0,focusRipple:!c,disabled:G,tabIndex:null,role:void 0,onFocus:z,onBlur:V,ownerState:q,ref:t},N,{children:[gt.jsx(nO,ve({autoFocus:i,checked:r,defaultChecked:a,className:Y.input,disabled:G,id:j?g:void 0,name:v,onChange:Z,readOnly:S,ref:y,required:R,ownerState:q,tabIndex:T,type:F},F==="checkbox"&&O===void 0?{}:{value:O},m)),M?s:d]}))}),rO=P0(gt.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),sO=P0(gt.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),oO=P0(gt.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function aO(n){return Ta("MuiCheckbox",n)}const wg=Ra("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),lO=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],uO=n=>{const{classes:e,indeterminate:t,color:i,size:r}=n,s={root:["root",t&&"indeterminate",`color${zn(i)}`,`size${zn(r)}`]},o=Yr(s,aO,e);return ve({},e,o)},cO=Ln(iO,{shouldForwardProp:n=>od(n)||n==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.indeterminate&&e.indeterminate,e[`size${zn(t.size)}`],t.color!=="default"&&e[`color${zn(t.color)}`]]}})(({theme:n,ownerState:e})=>ve({color:(n.vars||n).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${e.color==="default"?n.vars.palette.action.activeChannel:n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:Jo(e.color==="default"?n.palette.action.active:n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${wg.checked}, &.${wg.indeterminate}`]:{color:(n.vars||n).palette[e.color].main},[`&.${wg.disabled}`]:{color:(n.vars||n).palette.action.disabled}})),hO=gt.jsx(sO,{}),fO=gt.jsx(rO,{}),dO=gt.jsx(oO,{}),Vx=ce.forwardRef(function(e,t){var i,r;const s=Ms({props:e,name:"MuiCheckbox"}),{checkedIcon:o=hO,color:a="primary",icon:u=fO,indeterminate:c=!1,indeterminateIcon:f=dO,inputProps:d,size:g="medium",className:m}=s,y=Di(s,lO),v=c?f:u,x=c?f:o,C=ve({},s,{color:a,indeterminate:c,size:g}),E=uO(C);return gt.jsx(cO,ve({type:"checkbox",inputProps:ve({"data-indeterminate":c},d),icon:ce.cloneElement(v,{fontSize:(i=v.props.fontSize)!=null?i:g}),checkedIcon:ce.cloneElement(x,{fontSize:(r=x.props.fontSize)!=null?r:g}),ownerState:C,ref:t,className:qn(E.root,m)},y,{classes:E}))});function pO(n){return Ta("MuiCircularProgress",n)}Ra("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const gO=["className","color","disableShrink","size","style","thickness","value","variant"];let cd=n=>n,Hx,Xx,Yx,Kx;const js=44,mO=Vw(Hx||(Hx=cd`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),yO=Vw(Xx||(Xx=cd`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),_O=n=>{const{classes:e,variant:t,color:i,disableShrink:r}=n,s={root:["root",t,`color${zn(i)}`],svg:["svg"],circle:["circle",`circle${zn(t)}`,r&&"circleDisableShrink"]};return Yr(s,pO,e)},vO=Ln("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${zn(t.color)}`]]}})(({ownerState:n,theme:e})=>ve({display:"inline-block"},n.variant==="determinate"&&{transition:e.transitions.create("transform")},n.color!=="inherit"&&{color:(e.vars||e).palette[n.color].main}),({ownerState:n})=>n.variant==="indeterminate"&&Ro(Yx||(Yx=cd`
      animation: ${0} 1.4s linear infinite;
    `),mO)),xO=Ln("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(n,e)=>e.svg})({display:"block"}),bO=Ln("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${zn(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(({ownerState:n,theme:e})=>ve({stroke:"currentColor"},n.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},n.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:n})=>n.variant==="indeterminate"&&!n.disableShrink&&Ro(Kx||(Kx=cd`
      animation: ${0} 1.4s ease-in-out infinite;
    `),yO)),wO=ce.forwardRef(function(e,t){const i=Ms({props:e,name:"MuiCircularProgress"}),{className:r,color:s="primary",disableShrink:o=!1,size:a=40,style:u,thickness:c=3.6,value:f=0,variant:d="indeterminate"}=i,g=Di(i,gO),m=ve({},i,{color:s,disableShrink:o,size:a,thickness:c,value:f,variant:d}),y=_O(m),v={},x={},C={};if(d==="determinate"){const E=2*Math.PI*((js-c)/2);v.strokeDasharray=E.toFixed(3),C["aria-valuenow"]=Math.round(f),v.strokeDashoffset=`${((100-f)/100*E).toFixed(3)}px`,x.transform="rotate(-90deg)"}return gt.jsx(vO,ve({className:qn(y.root,r),style:ve({width:a,height:a},x,u),ownerState:m,ref:t,role:"progressbar"},C,g,{children:gt.jsx(xO,{className:y.svg,ownerState:m,viewBox:`${js/2} ${js/2} ${js} ${js}`,children:gt.jsx(bO,{className:y.circle,style:v,ownerState:m,cx:js,cy:js,r:(js-c)/2,fill:"none",strokeWidth:c})})}))}),EO=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function CO(n,e,t){const i=e.getBoundingClientRect(),r=t&&t.getBoundingClientRect(),s=Yw(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,u=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),u=parseInt(c[5],10)}return n==="left"?r?`translateX(${r.right+a-i.left}px)`:`translateX(${s.innerWidth+a-i.left}px)`:n==="right"?r?`translateX(-${i.right-r.left-a}px)`:`translateX(-${i.left+i.width-a}px)`:n==="up"?r?`translateY(${r.bottom+u-i.top}px)`:`translateY(${s.innerHeight+u-i.top}px)`:r?`translateY(-${i.top-r.top+i.height-u}px)`:`translateY(-${i.top+i.height-u}px)`}function SO(n){return typeof n=="function"?n():n}function kh(n,e,t){const i=SO(t),r=CO(n,e,i);r&&(e.style.webkitTransform=r,e.style.transform=r)}const TO=ce.forwardRef(function(e,t){const i=Kr(),r={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:u,container:c,direction:f="down",easing:d=r,in:g,onEnter:m,onEntered:y,onEntering:v,onExit:x,onExited:C,onExiting:E,style:S,timeout:R=s,TransitionComponent:T=Uk}=e,F=Di(e,EO),O=ce.useRef(null),N=ad(Xw(u),O,t),M=Y=>te=>{Y&&(te===void 0?Y(O.current):Y(O.current,te))},W=M((Y,te)=>{kh(f,Y,c),jk(Y),m&&m(Y,te)}),B=M((Y,te)=>{const ne=qx({timeout:R,style:S,easing:d},{mode:"enter"});Y.style.webkitTransition=i.transitions.create("-webkit-transform",ve({},ne)),Y.style.transition=i.transitions.create("transform",ve({},ne)),Y.style.webkitTransform="none",Y.style.transform="none",v&&v(Y,te)}),z=M(y),V=M(E),Z=M(Y=>{const te=qx({timeout:R,style:S,easing:d},{mode:"exit"});Y.style.webkitTransition=i.transitions.create("-webkit-transform",te),Y.style.transition=i.transitions.create("transform",te),kh(f,Y,c),x&&x(Y)}),G=M(Y=>{Y.style.webkitTransition="",Y.style.transition="",C&&C(Y)}),j=Y=>{o&&o(O.current,Y)},q=ce.useCallback(()=>{O.current&&kh(f,O.current,c)},[f,c]);return ce.useEffect(()=>{if(g||f==="down"||f==="right")return;const Y=mk(()=>{O.current&&kh(f,O.current,c)}),te=Yw(O.current);return te.addEventListener("resize",Y),()=>{Y.clear(),te.removeEventListener("resize",Y)}},[f,g,c]),ce.useEffect(()=>{g||q()},[g,q]),gt.jsx(T,ve({nodeRef:O,onEnter:W,onEntered:z,onEntering:B,onExit:Z,onExited:G,onExiting:V,addEndListener:j,appear:a,in:g,timeout:R},F,{children:(Y,te)=>ce.cloneElement(u,ve({ref:N,style:ve({visibility:Y==="exited"&&!g?"hidden":void 0},S,u.props.style)},te))}))});function RO(n){return Ta("MuiDrawer",n)}Ra("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const IO=["BackdropProps"],AO=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],rE=(n,e)=>{const{ownerState:t}=n;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},PO=n=>{const{classes:e,anchor:t,variant:i}=n,r={root:["root"],docked:[(i==="permanent"||i==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${zn(t)}`,i!=="temporary"&&`paperAnchorDocked${zn(t)}`]};return Yr(r,RO,e)},MO=Ln(Kw,{name:"MuiDrawer",slot:"Root",overridesResolver:rE})(({theme:n})=>({zIndex:(n.vars||n).zIndex.drawer})),Zx=Ln("div",{shouldForwardProp:od,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:rE})({flex:"0 0 auto"}),LO=Ln(A0,{name:"MuiDrawer",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`paperAnchor${zn(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${zn(t.anchor)}`]]}})(({theme:n,ownerState:e})=>ve({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(n.vars||n).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(n.vars||n).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(n.vars||n).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(n.vars||n).palette.divider}`})),sE={left:"right",right:"left",top:"down",bottom:"up"};function kO(n){return["left","right"].indexOf(n)!==-1}function OO({direction:n},e){return n==="rtl"&&kO(e)?sE[e]:e}const FO=ce.forwardRef(function(e,t){const i=Ms({props:e,name:"MuiDrawer"}),r=Kr(),s=Hw(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:u,children:c,className:f,elevation:d=16,hideBackdrop:g=!1,ModalProps:{BackdropProps:m}={},onClose:y,open:v=!1,PaperProps:x={},SlideProps:C,TransitionComponent:E=TO,transitionDuration:S=o,variant:R="temporary"}=i,T=Di(i.ModalProps,IO),F=Di(i,AO),O=ce.useRef(!1);ce.useEffect(()=>{O.current=!0},[]);const N=OO({direction:s?"rtl":"ltr"},a),W=ve({},i,{anchor:a,elevation:d,open:v,variant:R},F),B=PO(W),z=gt.jsx(LO,ve({elevation:R==="temporary"?d:0,square:!0},x,{className:qn(B.paper,x.className),ownerState:W,children:c}));if(R==="permanent")return gt.jsx(Zx,ve({className:qn(B.root,B.docked,f),ownerState:W,ref:t},F,{children:z}));const V=gt.jsx(E,ve({in:v,direction:sE[N],timeout:S,appear:O.current},C,{children:z}));return R==="persistent"?gt.jsx(Zx,ve({className:qn(B.root,B.docked,f),ownerState:W,ref:t},F,{children:V})):gt.jsx(MO,ve({BackdropProps:ve({},u,m,{transitionDuration:S}),className:qn(B.root,B.modal,f),open:v,ownerState:W,onClose:y,hideBackdrop:g,ref:t},F,T,{children:V}))});function DO(n){return Ta("MuiFormControlLabel",n)}const Ru=Ra("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),NO=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],zO=n=>{const{classes:e,disabled:t,labelPlacement:i,error:r,required:s}=n,o={root:["root",t&&"disabled",`labelPlacement${zn(i)}`,r&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",r&&"error"]};return Yr(o,DO,e)},$O=Ln("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Ru.label}`]:e.label},e.root,e[`labelPlacement${zn(t.labelPlacement)}`]]}})(({theme:n,ownerState:e})=>ve({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ru.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ru.label}`]:{[`&.${Ru.disabled}`]:{color:(n.vars||n).palette.text.disabled}}})),BO=Ln("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(n,e)=>e.asterisk})(({theme:n})=>({[`&.${Ru.error}`]:{color:(n.vars||n).palette.error.main}})),GO=ce.forwardRef(function(e,t){var i,r;const s=Ms({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:u,disabled:c,disableTypography:f,label:d,labelPlacement:g="end",required:m,slotProps:y={}}=s,v=Di(s,NO),x=Zw(),C=(i=c??u.props.disabled)!=null?i:x==null?void 0:x.disabled,E=m??u.props.required,S={disabled:C,required:E};["checked","name","onChange","value","inputRef"].forEach(M=>{typeof u.props[M]>"u"&&typeof s[M]<"u"&&(S[M]=s[M])});const R=vk({props:s,muiFormControl:x,states:["error"]}),T=ve({},s,{disabled:C,labelPlacement:g,required:E,error:R.error}),F=zO(T),O=(r=y.typography)!=null?r:a.typography;let N=d;return N!=null&&N.type!==vs&&!f&&(N=gt.jsx(vs,ve({component:"span"},O,{className:qn(F.label,O==null?void 0:O.className),children:N}))),gt.jsxs($O,ve({className:qn(F.root,o),ownerState:T,ref:t},v,{children:[ce.cloneElement(u,S),E?gt.jsxs(eE,{display:"block",children:[N,gt.jsxs(BO,{ownerState:T,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]}):N]}))}),WO=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],qO=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters]},UO=n=>{const{alignItems:e,classes:t,dense:i,disabled:r,disableGutters:s,divider:o,selected:a}=n,c=Yr({root:["root",i&&"dense",!s&&"gutters",o&&"divider",r&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},Tk,t);return ve({},t,c)},jO=Ln(qu,{shouldForwardProp:n=>od(n)||n==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:qO})(({theme:n,ownerState:e})=>ve({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${pu.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Jo(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${pu.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:Jo(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${pu.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Jo(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:Jo(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${pu.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${pu.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),M0=ce.forwardRef(function(e,t){const i=Ms({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:s=!1,component:o="div",children:a,dense:u=!1,disableGutters:c=!1,divider:f=!1,focusVisibleClassName:d,selected:g=!1,className:m}=i,y=Di(i,WO),v=ce.useContext(xf),x=ce.useMemo(()=>({dense:u||v.dense||!1,alignItems:r,disableGutters:c}),[r,v.dense,u,c]),C=ce.useRef(null);kk(()=>{s&&C.current&&C.current.focus()},[s]);const E=ve({},i,{alignItems:r,dense:x.dense,disableGutters:c,divider:f,selected:g}),S=UO(E),R=ad(C,t);return gt.jsx(xf.Provider,{value:x,children:gt.jsx(jO,ve({ref:R,href:y.href||y.to,component:(y.href||y.to)&&o==="div"?"button":o,focusVisibleClassName:qn(S.focusVisible,d),ownerState:E,className:qn(S.root,m)},y,{classes:S,children:a}))})}),VO=["className"],HO=n=>{const{alignItems:e,classes:t}=n;return Yr({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},Ok,t)},XO=Ln("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({theme:n,ownerState:e})=>ve({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex"},e.alignItems==="flex-start"&&{marginTop:8})),L0=ce.forwardRef(function(e,t){const i=Ms({props:e,name:"MuiListItemIcon"}),{className:r}=i,s=Di(i,VO),o=ce.useContext(xf),a=ve({},i,{alignItems:o.alignItems}),u=HO(a);return gt.jsx(XO,ve({className:qn(u.root,r),ownerState:a,ref:t},s))}),YO=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],KO=n=>{const{classes:e,inset:t,primary:i,secondary:r,dense:s}=n;return Yr({root:["root",t&&"inset",s&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},Fk,e)},ZO=Ln("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Wx.primary}`]:e.primary},{[`& .${Wx.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})(({ownerState:n})=>ve({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})),hd=ce.forwardRef(function(e,t){const i=Ms({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:o=!1,inset:a=!1,primary:u,primaryTypographyProps:c,secondary:f,secondaryTypographyProps:d}=i,g=Di(i,YO),{dense:m}=ce.useContext(xf);let y=u??r,v=f;const x=ve({},i,{disableTypography:o,inset:a,primary:!!y,secondary:!!v,dense:m}),C=KO(x);return y!=null&&y.type!==vs&&!o&&(y=gt.jsx(vs,ve({variant:m?"body2":"body1",className:C.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:y}))),v!=null&&v.type!==vs&&!o&&(v=gt.jsx(vs,ve({variant:"body2",className:C.secondary,color:"text.secondary",display:"block"},d,{children:v}))),gt.jsxs(ZO,ve({className:qn(C.root,s),ownerState:x,ref:t},g,{children:[y,v]}))});function JO(n){return Ta("MuiTooltip",n)}const xs=Ra("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),QO=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function eF(n){return Math.round(n*1e5)/1e5}const tF=n=>{const{classes:e,disableInteractive:t,arrow:i,touch:r,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",r&&"touch",`tooltipPlacement${zn(s.split("-")[0])}`],arrow:["arrow"]};return Yr(o,JO,e)},nF=Ln(T0,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(({theme:n,ownerState:e,open:t})=>ve({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!t&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${xs.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${xs.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${xs.arrow}`]:ve({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${xs.arrow}`]:ve({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),iF=Ln("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${zn(t.placement.split("-")[0])}`]]}})(({theme:n,ownerState:e})=>ve({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:Jo(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${eF(16/14)}em`,fontWeight:n.typography.fontWeightRegular},{[`.${xs.popper}[data-popper-placement*="left"] &`]:ve({transformOrigin:"right center"},e.isRtl?ve({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):ve({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${xs.popper}[data-popper-placement*="right"] &`]:ve({transformOrigin:"left center"},e.isRtl?ve({marginRight:"14px"},e.touch&&{marginRight:"24px"}):ve({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${xs.popper}[data-popper-placement*="top"] &`]:ve({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${xs.popper}[data-popper-placement*="bottom"] &`]:ve({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),rF=Ln("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(n,e)=>e.arrow})(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:Jo(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Oh=!1;const Jx=new _k;let mu={x:0,y:0};function Fh(n,e){return(t,...i)=>{e&&e(t,...i),n(t,...i)}}const k0=ce.forwardRef(function(e,t){var i,r,s,o,a,u,c,f,d,g,m,y,v,x,C,E,S,R,T;const F=Ms({props:e,name:"MuiTooltip"}),{arrow:O=!1,children:N,components:M={},componentsProps:W={},describeChild:B=!1,disableFocusListener:z=!1,disableHoverListener:V=!1,disableInteractive:Z=!1,disableTouchListener:G=!1,enterDelay:j=100,enterNextDelay:q=0,enterTouchDelay:Y=700,followCursor:te=!1,id:ne,leaveDelay:me=0,leaveTouchDelay:he=1500,onClose:Ue,onOpen:oe,open:Me,placement:ct="bottom",PopperComponent:De,PopperProps:Re={},slotProps:Se={},slots:ht={},title:Bt,TransitionComponent:Ct=Gx,TransitionProps:Jt}=F,pe=Di(F,QO),Ne=ce.isValidElement(N)?N:gt.jsx("span",{children:N}),be=Kr(),ke=Hw(),[Ke,tn]=ce.useState(),[ft,k]=ce.useState(null),Ze=ce.useRef(!1),ze=Z||te,bn=Ph(),Ut=Ph(),an=Ph(),bt=Ph(),[je,Ae]=zu({controlled:Me,default:!1,name:"Tooltip",state:"open"});let Le=je;const Ee=Jw(ne),_t=ce.useRef(),$e=hl(()=>{_t.current!==void 0&&(document.body.style.WebkitUserSelect=_t.current,_t.current=void 0),bt.clear()});ce.useEffect(()=>$e,[$e]);const Be=Te=>{Jx.clear(),Oh=!0,Ae(!0),oe&&!Le&&oe(Te)},Qe=hl(Te=>{Jx.start(800+me,()=>{Oh=!1}),Ae(!1),Ue&&Le&&Ue(Te),bn.start(be.transitions.duration.shortest,()=>{Ze.current=!1})}),St=Te=>{Ze.current&&Te.type!=="touchstart"||(Ke&&Ke.removeAttribute("title"),Ut.clear(),an.clear(),j||Oh&&q?Ut.start(Oh?q:j,()=>{Be(Te)}):Be(Te))},Xt=Te=>{Ut.clear(),an.start(me,()=>{Qe(Te)})},{isFocusVisibleRef:pn,onBlur:kt,onFocus:Ot,ref:st}=pk(),[,wt]=ce.useState(!1),Ht=Te=>{kt(Te),pn.current===!1&&(wt(!1),Xt(Te))},Mt=Te=>{Ke||tn(Te.currentTarget),Ot(Te),pn.current===!0&&(wt(!0),St(Te))},Nt=Te=>{Ze.current=!0;const mt=Ne.props;mt.onTouchStart&&mt.onTouchStart(Te)},Rn=Te=>{Nt(Te),an.clear(),bn.clear(),$e(),_t.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",bt.start(Y,()=>{document.body.style.WebkitUserSelect=_t.current,St(Te)})},ln=Te=>{Ne.props.onTouchEnd&&Ne.props.onTouchEnd(Te),$e(),an.start(he,()=>{Qe(Te)})};ce.useEffect(()=>{if(!Le)return;function Te(mt){(mt.key==="Escape"||mt.key==="Esc")&&Qe(mt)}return document.addEventListener("keydown",Te),()=>{document.removeEventListener("keydown",Te)}},[Qe,Le]);const gn=ad(Xw(Ne),st,tn,t);!Bt&&Bt!==0&&(Le=!1);const Yt=ce.useRef(),kn=Te=>{const mt=Ne.props;mt.onMouseMove&&mt.onMouseMove(Te),mu={x:Te.clientX,y:Te.clientY},Yt.current&&Yt.current.update()},un={},Lt=typeof Bt=="string";B?(un.title=!Le&&Lt&&!V?Bt:null,un["aria-describedby"]=Le?Ee:null):(un["aria-label"]=Lt?Bt:null,un["aria-labelledby"]=Le&&!Lt?Ee:null);const Tt=ve({},un,pe,Ne.props,{className:qn(pe.className,Ne.props.className),onTouchStart:Nt,ref:gn},te?{onMouseMove:kn}:{}),wn={};G||(Tt.onTouchStart=Rn,Tt.onTouchEnd=ln),V||(Tt.onMouseOver=Fh(St,Tt.onMouseOver),Tt.onMouseLeave=Fh(Xt,Tt.onMouseLeave),ze||(wn.onMouseOver=St,wn.onMouseLeave=Xt)),z||(Tt.onFocus=Fh(Mt,Tt.onFocus),Tt.onBlur=Fh(Ht,Tt.onBlur),ze||(wn.onFocus=Mt,wn.onBlur=Ht));const Ir=ce.useMemo(()=>{var Te;let mt=[{name:"arrow",enabled:!!ft,options:{element:ft,padding:4}}];return(Te=Re.popperOptions)!=null&&Te.modifiers&&(mt=mt.concat(Re.popperOptions.modifiers)),ve({},Re.popperOptions,{modifiers:mt})},[ft,Re]),nr=ve({},F,{isRtl:ke,arrow:O,disableInteractive:ze,placement:ct,PopperComponentProp:De,touch:Ze.current}),ir=tF(nr),mn=(i=(r=ht.popper)!=null?r:M.Popper)!=null?i:nF,rr=(s=(o=(a=ht.transition)!=null?a:M.Transition)!=null?o:Ct)!=null?s:Gx,hi=(u=(c=ht.tooltip)!=null?c:M.Tooltip)!=null?u:iF,re=(f=(d=ht.arrow)!=null?d:M.Arrow)!=null?f:rF,J=Ah(mn,ve({},Re,(g=Se.popper)!=null?g:W.popper,{className:qn(ir.popper,Re==null?void 0:Re.className,(m=(y=Se.popper)!=null?y:W.popper)==null?void 0:m.className)}),nr),xe=Ah(rr,ve({},Jt,(v=Se.transition)!=null?v:W.transition),nr),Fe=Ah(hi,ve({},(x=Se.tooltip)!=null?x:W.tooltip,{className:qn(ir.tooltip,(C=(E=Se.tooltip)!=null?E:W.tooltip)==null?void 0:C.className)}),nr),vt=Ah(re,ve({},(S=Se.arrow)!=null?S:W.arrow,{className:qn(ir.arrow,(R=(T=Se.arrow)!=null?T:W.arrow)==null?void 0:R.className)}),nr);return gt.jsxs(ce.Fragment,{children:[ce.cloneElement(Ne,Tt),gt.jsx(mn,ve({as:De??T0,placement:ct,anchorEl:te?{getBoundingClientRect:()=>({top:mu.y,left:mu.x,right:mu.x,bottom:mu.y,width:0,height:0})}:Ke,popperRef:Yt,open:Ke?Le:!1,id:Ee,transition:!0},wn,J,{popperOptions:Ir,children:({TransitionProps:Te})=>gt.jsx(rr,ve({timeout:be.transitions.duration.shorter},Te,xe,{children:gt.jsxs(hi,ve({},Fe,{children:[Bt,O?gt.jsx(re,ve({},vt,{ref:k})):null]}))}))}))]})});function sF(n){return Ta("MuiToggleButton",n)}const Qx=Ra("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),oF=ce.createContext({}),aF=ce.createContext(void 0);function lF(n,e){return e===void 0||n===void 0?!1:Array.isArray(e)?e.indexOf(n)>=0:n===e}const uF=["value"],cF=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],hF=n=>{const{classes:e,fullWidth:t,selected:i,disabled:r,size:s,color:o}=n,a={root:["root",i&&"selected",r&&"disabled",t&&"fullWidth",`size${zn(s)}`,o]};return Yr(a,sF,e)},fF=Ln(qu,{name:"MuiToggleButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`size${zn(t.size)}`]]}})(({theme:n,ownerState:e})=>{let t=e.color==="standard"?n.palette.text.primary:n.palette[e.color].main,i;return n.vars&&(t=e.color==="standard"?n.vars.palette.text.primary:n.vars.palette[e.color].main,i=e.color==="standard"?n.vars.palette.text.primaryChannel:n.vars.palette[e.color].mainChannel),ve({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active},e.fullWidth&&{width:"100%"},{[`&.${Qx.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Mh(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Qx.selected}`]:{color:t,backgroundColor:n.vars?`rgba(${i} / ${n.vars.palette.action.selectedOpacity})`:Mh(t,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${i} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Mh(t,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${i} / ${n.vars.palette.action.selectedOpacity})`:Mh(t,n.palette.action.selectedOpacity)}}}},e.size==="small"&&{padding:7,fontSize:n.typography.pxToRem(13)},e.size==="large"&&{padding:15,fontSize:n.typography.pxToRem(15)})}),oE=ce.forwardRef(function(e,t){const i=ce.useContext(oF),{value:r}=i,s=Di(i,uF),o=ce.useContext(aF),a=gk(ve({},s,{selected:lF(e.value,r)}),e),u=Ms({props:a,name:"MuiToggleButton"}),{children:c,className:f,color:d="standard",disabled:g=!1,disableFocusRipple:m=!1,fullWidth:y=!1,onChange:v,onClick:x,selected:C,size:E="medium",value:S}=u,R=Di(u,cF),T=ve({},u,{color:d,disabled:g,disableFocusRipple:m,fullWidth:y,size:E}),F=hF(T),O=M=>{x&&(x(M,S),M.defaultPrevented)||v&&v(M,S)},N=o||"";return gt.jsx(fF,ve({className:qn(s.className,F.root,f,N),disabled:g,focusRipple:!m,ref:t,onClick:O,onChange:v,value:S,ownerState:T,"aria-pressed":C},R,{children:c}))}),aE=({faIcon:n,id:e,size:t,...i})=>Q(Xr,{"aria-label":i["aria-label"],id:e,icon:n,size:t,...i});aE.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{faIcon:{required:!0,tsType:{name:"IconProp"},description:""}},composes:["Partial"]};const dF=n=>Q(aE,{faIcon:jw,...n});dF.__docgenInfo={description:"",methods:[],displayName:"TeliSearchIcon"};var lE={},uE={},O0={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){if(t=`${t}`,t==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(t))return t.replace(/^[+-]?/,r=>r==="-"?"":"-");let i=["var","calc","min","max","clamp"];for(const r of i)if(t.includes(`${r}(`))return`calc(${t} * -1)`}})(O0);var cE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});const e=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","contain","content","forcedColorAdjust"]})(cE);var hE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t,i){return t===void 0?i:Array.isArray(t)?t:[...new Set(i.filter(s=>t!==!1&&t[s]!==!1).concat(Object.keys(t).filter(s=>t[s]!==!1)))]}})(hE);var fE={},fd={},F0={exports:{}},lt=String,dE=function(){return{isColorSupported:!1,reset:lt,bold:lt,dim:lt,italic:lt,underline:lt,inverse:lt,hidden:lt,strikethrough:lt,black:lt,red:lt,green:lt,yellow:lt,blue:lt,magenta:lt,cyan:lt,white:lt,gray:lt,bgBlack:lt,bgRed:lt,bgGreen:lt,bgYellow:lt,bgBlue:lt,bgMagenta:lt,bgCyan:lt,bgWhite:lt,blackBright:lt,redBright:lt,greenBright:lt,yellowBright:lt,blueBright:lt,magentaBright:lt,cyanBright:lt,whiteBright:lt,bgBlackBright:lt,bgRedBright:lt,bgGreenBright:lt,bgYellowBright:lt,bgBlueBright:lt,bgMagentaBright:lt,bgCyanBright:lt,bgWhiteBright:lt}};F0.exports=dE();F0.exports.createColors=dE;var pE=F0.exports;(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});function t(c,f){for(var d in f)Object.defineProperty(c,d,{enumerable:!0,get:f[d]})}t(n,{dim:function(){return a},default:function(){return u}});const i=r(pE);function r(c){return c&&c.__esModule?c:{default:c}}let s=new Set;function o(c,f,d){typeof process<"u"&&e.JEST_WORKER_ID||d&&s.has(d)||(d&&s.add(d),console.warn(""),f.forEach(g=>console.warn(c,"-",g)))}function a(c){return i.default.dim(c)}const u={info(c,f){o(i.default.bold(i.default.cyan("info")),...Array.isArray(c)?[c]:[f,c])},warn(c,f){o(i.default.bold(i.default.yellow("warn")),...Array.isArray(c)?[c]:[f,c])},risk(c,f){o(i.default.bold(i.default.magenta("risk")),...Array.isArray(c)?[c]:[f,c])}}})(fd);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=t(fd);function t(s){return s&&s.__esModule?s:{default:s}}function i({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const r={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return i({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return i({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return i({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return i({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return i({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(fE);var gE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"defaults",{enumerable:!0,get:function(){return e}});function e(t,...i){for(let o of i){for(let a in o){var r;!(t==null||(r=t.hasOwnProperty)===null||r===void 0)&&r.call(t,a)||(t[a]=o[a])}for(let a of Object.getOwnPropertySymbols(o)){var s;!(t==null||(s=t.hasOwnProperty)===null||s===void 0)&&s.call(t,a)||(t[a]=o[a])}}return t}})(gE);var mE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"toPath",{enumerable:!0,get:function(){return e}});function e(t){if(Array.isArray(t))return t;let i=t.split("[").length-1,r=t.split("]").length-1;if(i!==r)throw new Error(`Path is invalid. Has unbalanced brackets: ${t}`);return t.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}})(mE);var yE={},dd={};(function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});function t(g,m){for(var y in m)Object.defineProperty(g,y,{enumerable:!0,get:m[y]})}t(n,{flagEnabled:function(){return u},issueFlagNotices:function(){return f},default:function(){return d}});const i=s(pE),r=s(fd);function s(g){return g&&g.__esModule?g:{default:g}}let o={optimizeUniversalDefaults:!1,generalizedModifiers:!0,disableColorOpacityUtilitiesByDefault:!1,relativeContentPathsByDefault:!1},a={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function u(g,m){if(a.future.includes(m)){var y,v,x;return g.future==="all"||((x=(v=g==null||(y=g.future)===null||y===void 0?void 0:y[m])!==null&&v!==void 0?v:o[m])!==null&&x!==void 0?x:!1)}if(a.experimental.includes(m)){var C,E,S;return g.experimental==="all"||((S=(E=g==null||(C=g.experimental)===null||C===void 0?void 0:C[m])!==null&&E!==void 0?E:o[m])!==null&&S!==void 0?S:!1)}return!1}function c(g){if(g.experimental==="all")return a.experimental;var m;return Object.keys((m=g==null?void 0:g.experimental)!==null&&m!==void 0?m:{}).filter(y=>a.experimental.includes(y)&&g.experimental[y])}function f(g){if(e.JEST_WORKER_ID===void 0&&c(g).length>0){let m=c(g).map(y=>i.default.yellow(y)).join(", ");r.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${m}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const d=a})(dd);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"normalizeConfig",{enumerable:!0,get:function(){return s}});const e=dd,t=r(fd);function i(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,u=new WeakMap;return(i=function(c){return c?u:a})(o)}function r(o,a){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var u=i(a);if(u&&u.has(o))return u.get(o);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in o)if(d!=="default"&&Object.prototype.hasOwnProperty.call(o,d)){var g=f?Object.getOwnPropertyDescriptor(o,d):null;g&&(g.get||g.set)?Object.defineProperty(c,d,g):c[d]=o[d]}return c.default=o,u&&u.set(o,c),c}function s(o){if((()=>{if(o.purge||!o.content||!Array.isArray(o.content)&&!(typeof o.content=="object"&&o.content!==null))return!1;if(Array.isArray(o.content))return o.content.every(c=>typeof c=="string"?!0:!(typeof(c==null?void 0:c.raw)!="string"||c!=null&&c.extension&&typeof(c==null?void 0:c.extension)!="string"));if(typeof o.content=="object"&&o.content!==null){if(Object.keys(o.content).some(c=>!["files","relative","extract","transform"].includes(c)))return!1;if(Array.isArray(o.content.files)){if(!o.content.files.every(c=>typeof c=="string"?!0:!(typeof(c==null?void 0:c.raw)!="string"||c!=null&&c.extension&&typeof(c==null?void 0:c.extension)!="string")))return!1;if(typeof o.content.extract=="object"){for(let c of Object.values(o.content.extract))if(typeof c!="function")return!1}else if(!(o.content.extract===void 0||typeof o.content.extract=="function"))return!1;if(typeof o.content.transform=="object"){for(let c of Object.values(o.content.transform))if(typeof c!="function")return!1}else if(!(o.content.transform===void 0||typeof o.content.transform=="function"))return!1;if(typeof o.content.relative!="boolean"&&typeof o.content.relative<"u")return!1}return!0}return!1})()||t.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),o.safelist=(()=>{var c;let{content:f,purge:d,safelist:g}=o;return Array.isArray(g)?g:Array.isArray(f==null?void 0:f.safelist)?f.safelist:Array.isArray(d==null?void 0:d.safelist)?d.safelist:Array.isArray(d==null||(c=d.options)===null||c===void 0?void 0:c.safelist)?d.options.safelist:[]})(),o.blocklist=(()=>{let{blocklist:c}=o;if(Array.isArray(c)){if(c.every(f=>typeof f=="string"))return c;t.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof o.prefix=="function")t.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),o.prefix="";else{var u;o.prefix=(u=o.prefix)!==null&&u!==void 0?u:""}o.content={relative:(()=>{let{content:c}=o;return c!=null&&c.relative?c.relative:(0,e.flagEnabled)(o,"relativeContentPathsByDefault")})(),files:(()=>{let{content:c,purge:f}=o;return Array.isArray(f)?f:Array.isArray(f==null?void 0:f.content)?f.content:Array.isArray(c)?c:Array.isArray(c==null?void 0:c.content)?c.content:Array.isArray(c==null?void 0:c.files)?c.files:[]})(),extract:(()=>{let c=(()=>{var g,m,y,v,x,C,E,S,R,T;return!((g=o.purge)===null||g===void 0)&&g.extract?o.purge.extract:!((m=o.content)===null||m===void 0)&&m.extract?o.content.extract:!((y=o.purge)===null||y===void 0||(v=y.extract)===null||v===void 0)&&v.DEFAULT?o.purge.extract.DEFAULT:!((x=o.content)===null||x===void 0||(C=x.extract)===null||C===void 0)&&C.DEFAULT?o.content.extract.DEFAULT:!((E=o.purge)===null||E===void 0||(S=E.options)===null||S===void 0)&&S.extractors?o.purge.options.extractors:!((R=o.content)===null||R===void 0||(T=R.options)===null||T===void 0)&&T.extractors?o.content.options.extractors:{}})(),f={},d=(()=>{var g,m,y,v;if(!((g=o.purge)===null||g===void 0||(m=g.options)===null||m===void 0)&&m.defaultExtractor)return o.purge.options.defaultExtractor;if(!((y=o.content)===null||y===void 0||(v=y.options)===null||v===void 0)&&v.defaultExtractor)return o.content.options.defaultExtractor})();if(d!==void 0&&(f.DEFAULT=d),typeof c=="function")f.DEFAULT=c;else if(Array.isArray(c))for(let{extensions:g,extractor:m}of c??[])for(let y of g)f[y]=m;else typeof c=="object"&&c!==null&&Object.assign(f,c);return f})(),transform:(()=>{let c=(()=>{var d,g,m,y,v,x;return!((d=o.purge)===null||d===void 0)&&d.transform?o.purge.transform:!((g=o.content)===null||g===void 0)&&g.transform?o.content.transform:!((m=o.purge)===null||m===void 0||(y=m.transform)===null||y===void 0)&&y.DEFAULT?o.purge.transform.DEFAULT:!((v=o.content)===null||v===void 0||(x=v.transform)===null||x===void 0)&&x.DEFAULT?o.content.transform.DEFAULT:{}})(),f={};return typeof c=="function"?f.DEFAULT=c:typeof c=="object"&&c!==null&&Object.assign(f,c),f})()};for(let c of o.content.files)if(typeof c=="string"&&/{([^,]*?)}/g.test(c)){t.default.warn("invalid-glob-braces",[`The glob pattern ${(0,t.dim)(c)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,t.dim)(c.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return o}})(yE);var _E={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const i=Object.getPrototypeOf(t);return i===null||Object.getPrototypeOf(i)===null}})(_E);var vE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cloneDeep",{enumerable:!0,get:function(){return e}});function e(t){return Array.isArray(t)?t.map(i=>e(i)):typeof t=="object"&&t!==null?Object.fromEntries(Object.entries(t).map(([i,r])=>[i,e(r)])):t}})(vE);var xE={},bE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){return t.replace(/\\,/g,"\\2c ")}})(bE);var D0={},N0={},wE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});const e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}})(wE);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(y,v){for(var x in v)Object.defineProperty(y,x,{enumerable:!0,get:v[x]})}e(n,{parseColor:function(){return g},formatColor:function(){return m}});const t=i(wE);function i(y){return y&&y.__esModule?y:{default:y}}let r=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,o=/(?:\d+|\d*\.\d+)%?/,a=/(?:\s*,\s*|\s+)/,u=/\s*[,/]\s*/,c=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,f=new RegExp(`^(rgba?)\\(\\s*(${o.source}|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${u.source}(${o.source}|${c.source}))?\\s*\\)$`),d=new RegExp(`^(hsla?)\\(\\s*((?:${o.source})(?:deg|rad|grad|turn)?|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${u.source}(${o.source}|${c.source}))?\\s*\\)$`);function g(y,{loose:v=!1}={}){var x,C;if(typeof y!="string")return null;if(y=y.trim(),y==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(y in t.default)return{mode:"rgb",color:t.default[y].map(F=>F.toString())};let E=y.replace(s,(F,O,N,M,W)=>["#",O,O,N,N,M,M,W?W+W:""].join("")).match(r);if(E!==null)return{mode:"rgb",color:[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)].map(F=>F.toString()),alpha:E[4]?(parseInt(E[4],16)/255).toString():void 0};var S;let R=(S=y.match(f))!==null&&S!==void 0?S:y.match(d);if(R===null)return null;let T=[R[2],R[3],R[4]].filter(Boolean).map(F=>F.toString());return T.length===2&&T[0].startsWith("var(")?{mode:R[1],color:[T[0]],alpha:T[1]}:!v&&T.length!==3||T.length<3&&!T.some(F=>/^var\(.*?\)$/.test(F))?null:{mode:R[1],color:T,alpha:(x=R[5])===null||x===void 0||(C=x.toString)===null||C===void 0?void 0:C.call(x)}}function m({mode:y,color:v,alpha:x}){let C=x!==void 0;return y==="rgba"||y==="hsla"?`${y}(${v.join(", ")}${C?`, ${x}`:""})`:`${y}(${v.join(" ")}${C?` / ${x}`:""})`}})(N0);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(s,o){for(var a in o)Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}e(n,{withAlphaValue:function(){return i},default:function(){return r}});const t=N0;function i(s,o,a){if(typeof s=="function")return s({opacityValue:o});let u=(0,t.parseColor)(s,{loose:!0});return u===null?a:(0,t.formatColor)({...u,alpha:o})}function r({color:s,property:o,variable:a}){let u=[].concat(o);if(typeof s=="function")return{[a]:"1",...Object.fromEntries(u.map(f=>[f,s({opacityVariable:a,opacityValue:`var(${a}, 1)`})]))};const c=(0,t.parseColor)(s);return c===null?Object.fromEntries(u.map(f=>[f,s])):c.alpha!==void 0?Object.fromEntries(u.map(f=>[f,s])):{[a]:"1",...Object.fromEntries(u.map(f=>[f,(0,t.formatColor)({...c,alpha:`var(${a}, 1)`})]))}}})(D0);var z0={},EE={},pd={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return e}});function e(t,i){let r=[],s=[],o=0,a=!1;for(let u=0;u<t.length;u++){let c=t[u];r.length===0&&c===i[0]&&!a&&(i.length===1||t.slice(u,u+i.length)===i)&&(s.push(t.slice(o,u)),o=u+i.length),a=a?!1:c==="\\",c==="("||c==="["||c==="{"?r.push(c):(c===")"&&r[r.length-1]==="("||c==="]"&&r[r.length-1]==="["||c==="}"&&r[r.length-1]==="{")&&r.pop()}return s.push(t.slice(o)),s}})(pd);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(u,c){for(var f in c)Object.defineProperty(u,f,{enumerable:!0,get:c[f]})}e(n,{parseBoxShadowValue:function(){return o},formatBoxShadowValue:function(){return a}});const t=pd;let i=new Set(["inset","inherit","initial","revert","unset"]),r=/\ +(?![^(]*\))/g,s=/^-?(\d+|\.\d+)(.*?)$/g;function o(u){return(0,t.splitAtTopLevelOnly)(u,",").map(f=>{let d=f.trim(),g={raw:d},m=d.split(r),y=new Set;for(let v of m)s.lastIndex=0,!y.has("KEYWORD")&&i.has(v)?(g.keyword=v,y.add("KEYWORD")):s.test(v)?y.has("X")?y.has("Y")?y.has("BLUR")?y.has("SPREAD")||(g.spread=v,y.add("SPREAD")):(g.blur=v,y.add("BLUR")):(g.y=v,y.add("Y")):(g.x=v,y.add("X")):g.color?(g.unknown||(g.unknown=[]),g.unknown.push(v)):g.color=v;return g.valid=g.x!==void 0&&g.y!==void 0,g})}function a(u){return u.map(c=>c.valid?[c.keyword,c.x,c.y,c.blur,c.spread,c.color].filter(Boolean).join(" "):c.raw).join(", ")}})(EE);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(q,Y){for(var te in Y)Object.defineProperty(q,te,{enumerable:!0,get:Y[te]})}e(n,{normalize:function(){return u},normalizeAttributeSelectors:function(){return c},url:function(){return d},number:function(){return g},percentage:function(){return m},length:function(){return x},lineWidth:function(){return E},shadow:function(){return S},color:function(){return R},image:function(){return T},gradient:function(){return O},position:function(){return M},familyName:function(){return W},genericName:function(){return z},absoluteSize:function(){return Z},relativeSize:function(){return j}});const t=N0,i=EE,r=pd;let s=["min","max","clamp","calc"];function o(q){return s.some(Y=>new RegExp(`^${Y}\\(.*\\)`).test(q))}const a=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","anchor-name","anchor-scope","position-anchor","position-try-options","scroll-timeline","animation-timeline","view-timeline","position-try"]);function u(q,Y=null,te=!0){let ne=Y&&a.has(Y.property);return q.startsWith("--")&&!ne?`var(${q})`:q.includes("url(")?q.split(/(url\(.*?\))/g).filter(Boolean).map(me=>/^url\(.*?\)$/.test(me)?me:u(me,Y,!1)).join(""):(q=q.replace(/([^\\])_+/g,(me,he)=>he+" ".repeat(me.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),te&&(q=q.trim()),q=f(q),q)}function c(q){return q.includes("=")&&(q=q.replace(/(=.*)/g,(Y,te)=>{if(te[1]==="'"||te[1]==='"')return te;if(te.length>2){let ne=te[te.length-1];if(te[te.length-2]===" "&&(ne==="i"||ne==="I"||ne==="s"||ne==="S"))return`="${te.slice(1,-2)}" ${te[te.length-1]}`}return`="${te.slice(1)}"`})),q}function f(q){let Y=["theme"],te=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height","radial-gradient","linear-gradient","conic-gradient","repeating-radial-gradient","repeating-linear-gradient","repeating-conic-gradient","anchor-size"];return q.replace(/(calc|min|max|clamp)\(.+\)/g,ne=>{let me="";function he(){let Ue=me.trimEnd();return Ue[Ue.length-1]}for(let Ue=0;Ue<ne.length;Ue++){let oe=function(De){return De.split("").every((Re,Se)=>ne[Ue+Se]===Re)},Me=function(De){let Re=1/0;for(let ht of De){let Bt=ne.indexOf(ht,Ue);Bt!==-1&&Bt<Re&&(Re=Bt)}let Se=ne.slice(Ue,Re);return Ue+=Se.length-1,Se},ct=ne[Ue];if(oe("var"))me+=Me([")",","]);else if(te.some(De=>oe(De))){let De=te.find(Re=>oe(Re));me+=De,Ue+=De.length-1}else Y.some(De=>oe(De))?me+=Me([")"]):oe("[")?me+=Me(["]"]):["+","-","*","/"].includes(ct)&&!["(","+","-","*","/",","].includes(he())?me+=` ${ct} `:me+=ct}return me.replace(/\s+/g," ")})}function d(q){return q.startsWith("url(")}function g(q){return!isNaN(Number(q))||o(q)}function m(q){return q.endsWith("%")&&g(q.slice(0,-1))||o(q)}let v=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function x(q){return q==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${v}$`).test(q)||o(q)}let C=new Set(["thin","medium","thick"]);function E(q){return C.has(q)}function S(q){let Y=(0,i.parseBoxShadowValue)(u(q));for(let te of Y)if(!te.valid)return!1;return!0}function R(q){let Y=0;return(0,r.splitAtTopLevelOnly)(q,"_").every(ne=>(ne=u(ne),ne.startsWith("var(")?!0:(0,t.parseColor)(ne,{loose:!0})!==null?(Y++,!0):!1))?Y>0:!1}function T(q){let Y=0;return(0,r.splitAtTopLevelOnly)(q,",").every(ne=>(ne=u(ne),ne.startsWith("var(")?!0:d(ne)||O(ne)||["element(","image(","cross-fade(","image-set("].some(me=>ne.startsWith(me))?(Y++,!0):!1))?Y>0:!1}let F=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function O(q){q=u(q);for(let Y of F)if(q.startsWith(`${Y}(`))return!0;return!1}let N=new Set(["center","top","right","bottom","left"]);function M(q){let Y=0;return(0,r.splitAtTopLevelOnly)(q,"_").every(ne=>(ne=u(ne),ne.startsWith("var(")?!0:N.has(ne)||x(ne)||m(ne)?(Y++,!0):!1))?Y>0:!1}function W(q){let Y=0;return(0,r.splitAtTopLevelOnly)(q,",").every(ne=>(ne=u(ne),ne.startsWith("var(")?!0:ne.includes(" ")&&!/(['"])([^"']+)\1/g.test(ne)||/^\d/g.test(ne)?!1:(Y++,!0)))?Y>0:!1}let B=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function z(q){return B.has(q)}let V=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"]);function Z(q){return V.has(q)}let G=new Set(["larger","smaller"]);function j(q){return G.has(q)}})(z0);var CE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"backgroundSize",{enumerable:!0,get:function(){return i}});const e=z0,t=pd;function i(r){let s=["cover","contain"];return(0,t.splitAtTopLevelOnly)(r,",").every(o=>{let a=(0,t.splitAtTopLevelOnly)(o,"_").filter(Boolean);return a.length===1&&s.includes(a[0])?!0:a.length!==1&&a.length!==2?!1:a.every(u=>(0,e.length)(u)||(0,e.percentage)(u)||u==="auto")})}})(CE);(function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(M,W){for(var B in W)Object.defineProperty(M,B,{enumerable:!0,get:W[B]})}e(n,{updateAllClasses:function(){return c},asValue:function(){return g},parseColorFormat:function(){return v},asColor:function(){return C},asLookupValue:function(){return E},typeMap:function(){return R},coerceValue:function(){return O},getMatchingTypes:function(){return N}});const t=u(bE),i=D0,r=z0,s=u(O0),o=CE,a=dd;function u(M){return M&&M.__esModule?M:{default:M}}function c(M,W){M.walkClasses(B=>{B.value=W(B.value),B.raws&&B.raws.value&&(B.raws.value=(0,t.default)(B.raws.value))})}function f(M,W){if(!m(M))return;let B=M.slice(1,-1);if(W(B))return(0,r.normalize)(B)}function d(M,W={},B){let z=W[M];if(z!==void 0)return(0,s.default)(z);if(m(M)){let V=f(M,B);return V===void 0?void 0:(0,s.default)(V)}}function g(M,W={},{validate:B=()=>!0}={}){var z;let V=(z=W.values)===null||z===void 0?void 0:z[M];return V!==void 0?V:W.supportsNegativeValues&&M.startsWith("-")?d(M.slice(1),W.values,B):f(M,B)}function m(M){return M.startsWith("[")&&M.endsWith("]")}function y(M){let W=M.lastIndexOf("/"),B=M.lastIndexOf("[",W),z=M.indexOf("]",W);return M[W-1]==="]"||M[W+1]==="["||B!==-1&&z!==-1&&B<W&&W<z&&(W=M.lastIndexOf("/",B)),W===-1||W===M.length-1?[M,void 0]:m(M)&&!M.includes("]/[")?[M,void 0]:[M.slice(0,W),M.slice(W+1)]}function v(M){if(typeof M=="string"&&M.includes("<alpha-value>")){let W=M;return({opacityValue:B=1})=>W.replace(/<alpha-value>/g,B)}return M}function x(M){return(0,r.normalize)(M.slice(1,-1))}function C(M,W={},{tailwindConfig:B={}}={}){var z;if(((z=W.values)===null||z===void 0?void 0:z[M])!==void 0){var V;return v((V=W.values)===null||V===void 0?void 0:V[M])}let[Z,G]=y(M);if(G!==void 0){var j,q,Y,te;let ne=(te=(j=W.values)===null||j===void 0?void 0:j[Z])!==null&&te!==void 0?te:m(Z)?Z.slice(1,-1):void 0;return ne===void 0?void 0:(ne=v(ne),m(G)?(0,i.withAlphaValue)(ne,x(G)):((q=B.theme)===null||q===void 0||(Y=q.opacity)===null||Y===void 0?void 0:Y[G])===void 0?void 0:(0,i.withAlphaValue)(ne,B.theme.opacity[G]))}return g(M,W,{validate:r.color})}function E(M,W={}){var B;return(B=W.values)===null||B===void 0?void 0:B[M]}function S(M){return(W,B)=>g(W,B,{validate:M})}let R={any:g,color:C,url:S(r.url),image:S(r.image),length:S(r.length),percentage:S(r.percentage),position:S(r.position),lookup:E,"generic-name":S(r.genericName),"family-name":S(r.familyName),number:S(r.number),"line-width":S(r.lineWidth),"absolute-size":S(r.absoluteSize),"relative-size":S(r.relativeSize),shadow:S(r.shadow),size:S(o.backgroundSize)},T=Object.keys(R);function F(M,W){let B=M.indexOf(W);return B===-1?[void 0,M]:[M.slice(0,B),M.slice(B+1)]}function O(M,W,B,z){if(B.values&&W in B.values)for(let{type:Z}of M??[]){let G=R[Z](W,B,{tailwindConfig:z});if(G!==void 0)return[G,Z,null]}if(m(W)){let Z=W.slice(1,-1),[G,j]=F(Z,":");if(!/^[\w-_]+$/g.test(G))j=Z;else if(G!==void 0&&!T.includes(G))return[];if(j.length>0&&T.includes(G))return[g(`[${j}]`,B),G,null]}let V=N(M,W,B,z);for(let Z of V)return Z;return[]}function*N(M,W,B,z){let V=(0,a.flagEnabled)(z,"generalizedModifiers"),[Z,G]=y(W);if(V&&B.modifiers!=null&&(B.modifiers==="any"||typeof B.modifiers=="object"&&(G&&m(G)||G in B.modifiers))||(Z=W,G=void 0),G!==void 0&&Z===""&&(Z="DEFAULT"),G!==void 0&&typeof B.modifiers=="object"){var q,Y;let te=(Y=(q=B.modifiers)===null||q===void 0?void 0:q[G])!==null&&Y!==void 0?Y:null;te!==null?G=te:m(G)&&(G=x(G))}for(let{type:te}of M??[]){let ne=R[te](Z,B,{tailwindConfig:z});ne!==void 0&&(yield[ne,te,G??null])}}})(xE);var SE={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){return typeof t=="function"?t({}):t}})(SE);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return B}});const e=m(O0),t=m(cE),i=m(hE),r=m(fE),s=gE,o=mE,a=yE,u=m(_E),c=vE,f=xE,d=D0,g=m(SE);function m(z){return z&&z.__esModule?z:{default:z}}function y(z){return typeof z=="function"}function v(z,...V){let Z=V.pop();for(let G of V)for(let j in G){let q=Z(z[j],G[j]);q===void 0?(0,u.default)(z[j])&&(0,u.default)(G[j])?z[j]=v({},z[j],G[j],Z):z[j]=G[j]:z[j]=q}return z}const x={colors:r.default,negative(z){return Object.keys(z).filter(V=>z[V]!=="0").reduce((V,Z)=>{let G=(0,e.default)(z[Z]);return G!==void 0&&(V[`-${Z}`]=G),V},{})},breakpoints(z){return Object.keys(z).filter(V=>typeof z[V]=="string").reduce((V,Z)=>({...V,[`screen-${Z}`]:z[Z]}),{})}};function C(z,...V){return y(z)?z(...V):z}function E(z){return z.reduce((V,{extend:Z})=>v(V,Z,(G,j)=>G===void 0?[j]:Array.isArray(G)?[j,...G]:[j,G]),{})}function S(z){return{...z.reduce((V,Z)=>(0,s.defaults)(V,Z),{}),extend:E(z)}}function R(z,V){if(Array.isArray(z)&&(0,u.default)(z[0]))return z.concat(V);if(Array.isArray(V)&&(0,u.default)(V[0])&&(0,u.default)(z))return[z,...V];if(Array.isArray(V))return V}function T({extend:z,...V}){return v(V,z,(Z,G)=>!y(Z)&&!G.some(y)?v({},Z,...G,R):(j,q)=>v({},...[Z,...G].map(Y=>C(Y,j,q)),R))}function*F(z){let V=(0,o.toPath)(z);if(V.length===0||(yield V,Array.isArray(z)))return;let Z=/^(.*?)\s*\/\s*([^/]+)$/,G=z.match(Z);if(G!==null){let[,j,q]=G,Y=(0,o.toPath)(j);Y.alpha=q,yield Y}}function O(z){const V=(Z,G)=>{for(const j of F(Z)){let q=0,Y=z;for(;Y!=null&&q<j.length;)Y=Y[j[q++]],Y=y(Y)&&(j.alpha===void 0||q<=j.length-1)?Y(V,x):Y;if(Y!==void 0){if(j.alpha!==void 0){let te=(0,f.parseColorFormat)(Y);return(0,d.withAlphaValue)(te,j.alpha,(0,g.default)(te))}return(0,u.default)(Y)?(0,c.cloneDeep)(Y):Y}}return G};return Object.assign(V,{theme:V,...x}),Object.keys(z).reduce((Z,G)=>(Z[G]=y(z[G])?z[G](V,x):z[G],Z),{})}function N(z){let V=[];return z.forEach(Z=>{V=[...V,Z];var G;const j=(G=Z==null?void 0:Z.plugins)!==null&&G!==void 0?G:[];j.length!==0&&j.forEach(q=>{q.__isOptionsFunction&&(q=q());var Y;V=[...V,...N([(Y=q==null?void 0:q.config)!==null&&Y!==void 0?Y:{}])]})}),V}function M(z){return[...z].reduceRight((Z,G)=>y(G)?G({corePlugins:Z}):(0,i.default)(G,Z),t.default)}function W(z){return[...z].reduceRight((Z,G)=>[...Z,...G],[])}function B(z){let V=[...N(z),{prefix:"",important:!1,separator:":"}];var Z,G;return(0,a.normalizeConfig)((0,s.defaults)({theme:O(T(S(V.map(j=>(Z=j==null?void 0:j.theme)!==null&&Z!==void 0?Z:{})))),corePlugins:M(V.map(j=>j.corePlugins)),plugins:W(z.map(j=>(G=j==null?void 0:j.plugins)!==null&&G!==void 0?G:[]))},...V))}})(uE);var TE={},pF={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:n})=>({...n("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:n})=>n("blur"),backdropBrightness:({theme:n})=>n("brightness"),backdropContrast:({theme:n})=>n("contrast"),backdropGrayscale:({theme:n})=>n("grayscale"),backdropHueRotate:({theme:n})=>n("hueRotate"),backdropInvert:({theme:n})=>n("invert"),backdropOpacity:({theme:n})=>n("opacity"),backdropSaturate:({theme:n})=>n("saturate"),backdropSepia:({theme:n})=>n("sepia"),backgroundColor:({theme:n})=>n("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:n})=>n("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:n})=>({...n("colors"),DEFAULT:n("colors.gray.200","currentColor")}),borderOpacity:({theme:n})=>n("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:n})=>({...n("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:n})=>n("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:n})=>n("colors"),colors:({colors:n})=>({inherit:n.inherit,current:n.current,transparent:n.transparent,black:n.black,white:n.white,slate:n.slate,gray:n.gray,zinc:n.zinc,neutral:n.neutral,stone:n.stone,red:n.red,orange:n.orange,amber:n.amber,yellow:n.yellow,lime:n.lime,green:n.green,emerald:n.emerald,teal:n.teal,cyan:n.cyan,sky:n.sky,blue:n.blue,indigo:n.indigo,violet:n.violet,purple:n.purple,fuchsia:n.fuchsia,pink:n.pink,rose:n.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:n})=>n("borderColor"),divideOpacity:({theme:n})=>n("borderOpacity"),divideWidth:({theme:n})=>n("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:n})=>({none:"none",...n("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:n})=>n("spacing"),gradientColorStops:({theme:n})=>n("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:n})=>({auto:"auto",...n("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:n})=>({...n("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:n,breakpoints:e})=>({...n("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...e(n("screens"))}),minHeight:({theme:n})=>({...n("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:n})=>({...n("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:n})=>n("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:n})=>n("spacing"),placeholderColor:({theme:n})=>n("colors"),placeholderOpacity:({theme:n})=>n("opacity"),ringColor:({theme:n})=>({DEFAULT:n("colors.blue.500","#3b82f6"),...n("colors")}),ringOffsetColor:({theme:n})=>n("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:n})=>({DEFAULT:"0.5",...n("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:n})=>({...n("spacing")}),scrollPadding:({theme:n})=>n("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:n})=>({...n("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:n})=>({none:"none",...n("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:n})=>n("colors"),textDecorationColor:({theme:n})=>n("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:n})=>({...n("spacing")}),textOpacity:({theme:n})=>n("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:n})=>({...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=i(pF),t=dd;function i(s){return s&&s.__esModule?s:{default:s}}function r(s){var o;const a=((o=s==null?void 0:s.presets)!==null&&o!==void 0?o:[e.default]).slice().reverse().flatMap(f=>r(f instanceof Function?f():f)),u={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:f})=>({DEFAULT:"#3b82f67f",...f("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},c=Object.keys(u).filter(f=>(0,t.flagEnabled)(s,f)).map(f=>u[f]);return[s,...c,...a]}})(TE);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=i(uE),t=i(TE);function i(s){return s&&s.__esModule?s:{default:s}}function r(...s){let[,...o]=(0,t.default)(s[0]);return(0,e.default)([...s,...o])}})(lE);let Eg=lE;var gF=(Eg.__esModule?Eg:{default:Eg}).default;const $0=b0(gF),B0={content:["./src/stories/**/*.{tsx,ts,js,jsx}","./src/components/**/*.{tsx,ts,js,jsx}","./src/layouts/**/*.{tsx,ts}"],darkMode:"class",theme:{fontFamily:{"teli-brand":['"Space Grotesk"',"system-ui","sans-serif"],"teli-body":["Figtree","Avenir","Corbel","source-sans-pro","sans-serif"]},colors:{transparent:"transparent","admin-app-color":"#20BCFA","document-app-color":"#FA6AAA","geo-app-color":"#9DDD31","graph-app-color":"#FFA22F","app-color":{DEFAULT:"rgba(var(--teli-app-color), <alpha-value>)",50:"rgba(var(--teli-app-color-50), <alpha-value>)",100:"rgba(var(--teli-app-color-100), <alpha-value>)",200:"rgba(var(--teli-app-color-200), <alpha-value>)",300:"rgba(var(--teli-app-color-300), <alpha-value>)",400:"rgba(var(--teli-app-color-400), <alpha-value>)",500:"rgba(var(--teli-app-color-500), <alpha-value>)",600:"rgba(var(--teli-app-color-600), <alpha-value>)",700:"rgba(var(--teli-app-color-700), <alpha-value>)",800:"rgba(var(--teli-app-color-800), <alpha-value>)",900:"rgba(var(--teli-app-color-900), <alpha-value>)",950:"rgba(var(--teli-app-color-950), <alpha-value>)"},"teli-whitesmoke":{DEFAULT:"#F5F5F5",50:"#F5F5F5",100:"#E9E9E9",200:"#DDDDDD",300:"#D0D0D0",400:"#C4C4C4",500:"#ACACAC",600:"#949494",700:"#7C7C7C",800:"#636363",900:"#4B4B4B",950:"#333333"},"teli-black":{DEFAULT:"#1D1D1D",50:"#A3A3A3",100:"#909090",200:"#7D7D7D",300:"#6A6A6A",400:"#575757",500:"#444444",600:"#303030",700:"#272727",800:"#1D1D1D",900:"#141414",950:"#0A0A0A"},"teli-red":{DEFAULT:"#DA1212",50:"#FBE7E7",100:"#F5BDBD",200:"#EE9292",300:"#E76767",400:"#E13D3D",500:"#DA1212",600:"#B30F0F",700:"#8C0C12",800:"#64080E",900:"#43040C",950:"#1B020A"},whiteSmoke:{DEFAULT:"#F5F5F5",50:"#E9E9E9",100:"#DDDDDD",200:"#D0D0D0",300:"#C4C4C4",400:"#ACACAC",500:"#949494",600:"#7C7C7C",700:"#636363",800:"#4B4B4B",900:"#333333"},black:{DEFAULT:"#0A0A0A",50:"#141414",100:"#1D1D1D",200:"#272727",300:"#303030",400:"#444444",500:"#575757",600:"#6A6A6A",700:"#7D7D7D",800:"#909090",900:"#A3A3A3"},"teli-green":{DEFAULT:"#59FAA3",50:"#EEFFF6",100:"#D1FEE5",200:"#B3FDD5",300:"#95FCC4",400:"#77FBB4",500:"#59FAA3",600:"#12DB8A",700:"#08B86E",800:"#06794B",900:"#144C31",950:"#051E11"}},extend:{borderWidth:{"1.5":"1.5px"},height:{"4.5":"18px"}}}},mF=$0(B0);var Aw;const bf=(Aw=mF.theme)==null?void 0:Aw.colors;getComputedStyle(document.body);bf.whiteSmoke[50],bf.whiteSmoke[200];bf.black[300],bf.black[100];const yF=$0(B0);var Pw;const _F=(Pw=yF.theme)==null?void 0:Pw.fontFamily;_F["teli-body"].join(",");ck(["dark","light"]);const vF=$0(B0);var Mw;(Mw=vF.theme)==null||Mw.colors;var gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},md=typeof window>"u"||"Deno"in globalThis;function hr(){}function xF(n,e){return typeof n=="function"?n(e):n}function bF(n){return typeof n=="number"&&n>=0&&n!==1/0}function wF(n,e){return Math.max(n+(e||0)-Date.now(),0)}function Cm(n,e){return typeof n=="function"?n(e):n}function EF(n,e){return typeof n=="function"?n(e):n}function e1(n,e){const{type:t="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=n;if(o){if(i){if(e.queryHash!==G0(o,e.options))return!1}else if(!Vu(e.queryKey,o))return!1}if(t!=="all"){const u=e.isActive();if(t==="active"&&!u||t==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function t1(n,e){const{exact:t,status:i,predicate:r,mutationKey:s}=n;if(s){if(!e.options.mutationKey)return!1;if(t){if(ju(e.options.mutationKey)!==ju(s))return!1}else if(!Vu(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function G0(n,e){return((e==null?void 0:e.queryKeyHashFn)||ju)(n)}function ju(n){return JSON.stringify(n,(e,t)=>Sm(t)?Object.keys(t).sort().reduce((i,r)=>(i[r]=t[r],i),{}):t)}function Vu(n,e){return n===e?!0:typeof n!=typeof e?!1:n&&e&&typeof n=="object"&&typeof e=="object"?Object.keys(e).every(t=>Vu(n[t],e[t])):!1}function RE(n,e){if(n===e)return n;const t=n1(n)&&n1(e);if(t||Sm(n)&&Sm(e)){const i=t?n:Object.keys(n),r=i.length,s=t?e:Object.keys(e),o=s.length,a=t?[]:{},u=new Set(i);let c=0;for(let f=0;f<o;f++){const d=t?f:s[f];(!t&&u.has(d)||t)&&n[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=RE(n[d],e[d]),a[d]===n[d]&&n[d]!==void 0&&c++)}return r===o&&c===r?n:a}return e}function n1(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function Sm(n){if(!i1(n))return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!i1(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function i1(n){return Object.prototype.toString.call(n)==="[object Object]"}function CF(n){return new Promise(e=>{setTimeout(e,n)})}function SF(n,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(n,e):t.structuralSharing!==!1?RE(n,e):e}function TF(n,e,t=0){const i=[...n,e];return t&&i.length>t?i.slice(1):i}function RF(n,e,t=0){const i=[e,...n];return t&&i.length>t?i.slice(0,-1):i}var W0=Symbol();function IE(n,e){return!n.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!n.queryFn||n.queryFn===W0?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}var sa,oo,wl,Lw,IF=(Lw=class extends gd{constructor(){super();Ft(this,sa);Ft(this,oo);Ft(this,wl);it(this,wl,e=>{if(!md&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){ae(this,oo)||this.setEventListener(ae(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=ae(this,oo))==null||e.call(this),it(this,oo,void 0))}setEventListener(e){var t;it(this,wl,e),(t=ae(this,oo))==null||t.call(this),it(this,oo,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){ae(this,sa)!==e&&(it(this,sa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof ae(this,sa)=="boolean"?ae(this,sa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},sa=new WeakMap,oo=new WeakMap,wl=new WeakMap,Lw),AE=new IF,El,ao,Cl,kw,AF=(kw=class extends gd{constructor(){super();Ft(this,El,!0);Ft(this,ao);Ft(this,Cl);it(this,Cl,e=>{if(!md&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}})}onSubscribe(){ae(this,ao)||this.setEventListener(ae(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=ae(this,ao))==null||e.call(this),it(this,ao,void 0))}setEventListener(e){var t;it(this,Cl,e),(t=ae(this,ao))==null||t.call(this),it(this,ao,e(this.setOnline.bind(this)))}setOnline(e){ae(this,El)!==e&&(it(this,El,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return ae(this,El)}},El=new WeakMap,ao=new WeakMap,Cl=new WeakMap,kw),wf=new AF;function PF(){let n,e;const t=new Promise((r,s)=>{n=r,e=s});t.status="pending",t.catch(()=>{});function i(r){Object.assign(t,r),delete t.resolve,delete t.reject}return t.resolve=r=>{i({status:"fulfilled",value:r}),n(r)},t.reject=r=>{i({status:"rejected",reason:r}),e(r)},t}function MF(n){return Math.min(1e3*2**n,3e4)}function PE(n){return(n??"online")==="online"?wf.isOnline():!0}var ME=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Cg(n){return n instanceof ME}function LE(n){let e=!1,t=0,i=!1,r;const s=PF(),o=v=>{var x;i||(g(new ME(v)),(x=n.abort)==null||x.call(n))},a=()=>{e=!0},u=()=>{e=!1},c=()=>AE.isFocused()&&(n.networkMode==="always"||wf.isOnline())&&n.canRun(),f=()=>PE(n.networkMode)&&n.canRun(),d=v=>{var x;i||(i=!0,(x=n.onSuccess)==null||x.call(n,v),r==null||r(),s.resolve(v))},g=v=>{var x;i||(i=!0,(x=n.onError)==null||x.call(n,v),r==null||r(),s.reject(v))},m=()=>new Promise(v=>{var x;r=C=>{(i||c())&&v(C)},(x=n.onPause)==null||x.call(n)}).then(()=>{var v;r=void 0,i||(v=n.onContinue)==null||v.call(n)}),y=()=>{if(i)return;let v;const x=t===0?n.initialPromise:void 0;try{v=x??n.fn()}catch(C){v=Promise.reject(C)}Promise.resolve(v).then(d).catch(C=>{var F;if(i)return;const E=n.retry??(md?0:3),S=n.retryDelay??MF,R=typeof S=="function"?S(t,C):S,T=E===!0||typeof E=="number"&&t<E||typeof E=="function"&&E(t,C);if(e||!T){g(C);return}t++,(F=n.onFail)==null||F.call(n,t,C),CF(R).then(()=>c()?void 0:m()).then(()=>{e?g(C):y()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:u,canStart:f,start:()=>(f()?y():m().then(y),s)}}var LF=n=>setTimeout(n,0);function kF(){let n=[],e=0,t=a=>{a()},i=a=>{a()},r=LF;const s=a=>{e?n.push(a):r(()=>{t(a)})},o=()=>{const a=n;n=[],a.length&&r(()=>{i(()=>{a.forEach(u=>{t(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{s(()=>{a(...u)})},schedule:s,setNotifyFunction:a=>{t=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var ai=kF(),oa,Ow,kE=(Ow=class{constructor(){Ft(this,oa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bF(this.gcTime)&&it(this,oa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(md?1/0:5*60*1e3))}clearGcTimeout(){ae(this,oa)&&(clearTimeout(ae(this,oa)),it(this,oa,void 0))}},oa=new WeakMap,Ow),Sl,aa,Xi,la,Jn,yc,ua,fr,ps,Fw,OF=(Fw=class extends kE{constructor(e){super();Ft(this,fr);Ft(this,Sl);Ft(this,aa);Ft(this,Xi);Ft(this,la);Ft(this,Jn);Ft(this,yc);Ft(this,ua);it(this,ua,!1),it(this,yc,e.defaultOptions),this.setOptions(e.options),this.observers=[],it(this,la,e.client),it(this,Xi,ae(this,la).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,it(this,Sl,DF(this.options)),this.state=e.state??ae(this,Sl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ae(this,Jn))==null?void 0:e.promise}setOptions(e){this.options={...ae(this,yc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ae(this,Xi).remove(this)}setData(e,t){const i=SF(this.state.data,e,this.options);return Kn(this,fr,ps).call(this,{data:i,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),i}setState(e,t){Kn(this,fr,ps).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var i,r;const t=(i=ae(this,Jn))==null?void 0:i.promise;return(r=ae(this,Jn))==null||r.cancel(e),t?t.then(hr).catch(hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ae(this,Sl))}isActive(){return this.observers.some(e=>EF(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===W0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Cm(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!wF(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=ae(this,Jn))==null||t.continue()}onOnline(){var t;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=ae(this,Jn))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ae(this,Xi).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(ae(this,Jn)&&(ae(this,ua)?ae(this,Jn).cancel({revert:!0}):ae(this,Jn).cancelRetry()),this.scheduleGc()),ae(this,Xi).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Kn(this,fr,ps).call(this,{type:"invalidate"})}fetch(e,t){var c,f,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(ae(this,Jn))return ae(this,Jn).continueRetry(),ae(this,Jn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const g=this.observers.find(m=>m.options.queryFn);g&&this.setOptions(g.options)}const i=new AbortController,r=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(it(this,ua,!0),i.signal)})},s=()=>{const g=IE(this.options,t),y=(()=>{const v={client:ae(this,la),queryKey:this.queryKey,meta:this.meta};return r(v),v})();return it(this,ua,!1),this.options.persister?this.options.persister(g,y,this):g(y)},a=(()=>{const g={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:ae(this,la),state:this.state,fetchFn:s};return r(g),g})();(c=this.options.behavior)==null||c.onFetch(a,this),it(this,aa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=a.fetchOptions)==null?void 0:f.meta))&&Kn(this,fr,ps).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const u=g=>{var m,y,v,x;Cg(g)&&g.silent||Kn(this,fr,ps).call(this,{type:"error",error:g}),Cg(g)||((y=(m=ae(this,Xi).config).onError)==null||y.call(m,g,this),(x=(v=ae(this,Xi).config).onSettled)==null||x.call(v,this.state.data,g,this)),this.scheduleGc()};return it(this,Jn,LE({initialPromise:t==null?void 0:t.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:g=>{var m,y,v,x;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(C){u(C);return}(y=(m=ae(this,Xi).config).onSuccess)==null||y.call(m,g,this),(x=(v=ae(this,Xi).config).onSettled)==null||x.call(v,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,m)=>{Kn(this,fr,ps).call(this,{type:"failed",failureCount:g,error:m})},onPause:()=>{Kn(this,fr,ps).call(this,{type:"pause"})},onContinue:()=>{Kn(this,fr,ps).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),ae(this,Jn).start()}},Sl=new WeakMap,aa=new WeakMap,Xi=new WeakMap,la=new WeakMap,Jn=new WeakMap,yc=new WeakMap,ua=new WeakMap,fr=new WeakSet,ps=function(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...FF(i.data,this.options),fetchMeta:e.meta??null};case"success":return it(this,aa,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Cg(r)&&r.revert&&ae(this,aa)?{...ae(this,aa),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),ai.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),ae(this,Xi).notify({query:this,type:"updated",action:e})})},Fw);function FF(n,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PE(e.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function DF(n){const e=typeof n.initialData=="function"?n.initialData():n.initialData,t=e!==void 0,i=t?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Or,Dw,NF=(Dw=class extends gd{constructor(e={}){super();Ft(this,Or);this.config=e,it(this,Or,new Map)}build(e,t,i){const r=t.queryKey,s=t.queryHash??G0(r,t);let o=this.get(s);return o||(o=new OF({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){ae(this,Or).has(e.queryHash)||(ae(this,Or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=ae(this,Or).get(e.queryHash);t&&(e.destroy(),t===e&&ae(this,Or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ai.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ae(this,Or).get(e)}getAll(){return[...ae(this,Or).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>e1(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>e1(e,i)):t}notify(e){ai.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ai.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ai.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Or=new WeakMap,Dw),Fr,si,ca,Dr,eo,Nw,zF=(Nw=class extends kE{constructor(e){super();Ft(this,Dr);Ft(this,Fr);Ft(this,si);Ft(this,ca);this.mutationId=e.mutationId,it(this,si,e.mutationCache),it(this,Fr,[]),this.state=e.state||$F(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ae(this,Fr).includes(e)||(ae(this,Fr).push(e),this.clearGcTimeout(),ae(this,si).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){it(this,Fr,ae(this,Fr).filter(t=>t!==e)),this.scheduleGc(),ae(this,si).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ae(this,Fr).length||(this.state.status==="pending"?this.scheduleGc():ae(this,si).remove(this))}continue(){var e;return((e=ae(this,ca))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,u,c,f,d,g,m,y,v,x,C,E,S,R,T,F,O,N;const t=()=>{Kn(this,Dr,eo).call(this,{type:"continue"})};it(this,ca,LE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,W)=>{Kn(this,Dr,eo).call(this,{type:"failed",failureCount:M,error:W})},onPause:()=>{Kn(this,Dr,eo).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ae(this,si).canRun(this)}));const i=this.state.status==="pending",r=!ae(this,ca).canStart();try{if(i)t();else{Kn(this,Dr,eo).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(s=ae(this,si).config).onMutate)==null?void 0:o.call(s,e,this));const W=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,e));W!==this.state.context&&Kn(this,Dr,eo).call(this,{type:"pending",context:W,variables:e,isPaused:r})}const M=await ae(this,ca).start();return await((f=(c=ae(this,si).config).onSuccess)==null?void 0:f.call(c,M,e,this.state.context,this)),await((g=(d=this.options).onSuccess)==null?void 0:g.call(d,M,e,this.state.context)),await((y=(m=ae(this,si).config).onSettled)==null?void 0:y.call(m,M,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,M,null,e,this.state.context)),Kn(this,Dr,eo).call(this,{type:"success",data:M}),M}catch(M){try{throw await((E=(C=ae(this,si).config).onError)==null?void 0:E.call(C,M,e,this.state.context,this)),await((R=(S=this.options).onError)==null?void 0:R.call(S,M,e,this.state.context)),await((F=(T=ae(this,si).config).onSettled)==null?void 0:F.call(T,void 0,M,this.state.variables,this.state.context,this)),await((N=(O=this.options).onSettled)==null?void 0:N.call(O,void 0,M,e,this.state.context)),M}finally{Kn(this,Dr,eo).call(this,{type:"error",error:M})}}finally{ae(this,si).runNext(this)}}},Fr=new WeakMap,si=new WeakMap,ca=new WeakMap,Dr=new WeakSet,eo=function(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ai.batch(()=>{ae(this,Fr).forEach(i=>{i.onMutationUpdate(e)}),ae(this,si).notify({mutation:this,type:"updated",action:e})})},Nw);function $F(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ys,dr,_c,zw,BF=(zw=class extends gd{constructor(e={}){super();Ft(this,ys);Ft(this,dr);Ft(this,_c);this.config=e,it(this,ys,new Set),it(this,dr,new Map),it(this,_c,0)}build(e,t,i){const r=new zF({mutationCache:this,mutationId:++Rh(this,_c)._,options:e.defaultMutationOptions(t),state:i});return this.add(r),r}add(e){ae(this,ys).add(e);const t=Dh(e);if(typeof t=="string"){const i=ae(this,dr).get(t);i?i.push(e):ae(this,dr).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ae(this,ys).delete(e)){const t=Dh(e);if(typeof t=="string"){const i=ae(this,dr).get(t);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&ae(this,dr).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Dh(e);if(typeof t=="string"){const i=ae(this,dr).get(t),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const t=Dh(e);if(typeof t=="string"){const r=(i=ae(this,dr).get(t))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ai.batch(()=>{ae(this,ys).forEach(e=>{this.notify({type:"removed",mutation:e})}),ae(this,ys).clear(),ae(this,dr).clear()})}getAll(){return Array.from(ae(this,ys))}find(e){const t={exact:!0,...e};return this.getAll().find(i=>t1(t,i))}findAll(e={}){return this.getAll().filter(t=>t1(e,t))}notify(e){ai.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ai.batch(()=>Promise.all(e.map(t=>t.continue().catch(hr))))}},ys=new WeakMap,dr=new WeakMap,_c=new WeakMap,zw);function Dh(n){var e;return(e=n.options.scope)==null?void 0:e.id}function r1(n){return{onFetch:(e,t)=>{var f,d,g,m,y;const i=e.options,r=(g=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:g.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let v=!1;const x=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},C=IE(e.options,e.fetchOptions),E=async(S,R,T)=>{if(v)return Promise.reject();if(R==null&&S.pages.length)return Promise.resolve(S);const O=(()=>{const B={client:e.client,queryKey:e.queryKey,pageParam:R,direction:T?"backward":"forward",meta:e.options.meta};return x(B),B})(),N=await C(O),{maxPages:M}=e.options,W=T?RF:TF;return{pages:W(S.pages,N,M),pageParams:W(S.pageParams,R,M)}};if(r&&s.length){const S=r==="backward",R=S?GF:s1,T={pages:s,pageParams:o},F=R(i,T);a=await E(T,F,S)}else{const S=n??s.length;do{const R=u===0?o[0]??i.initialPageParam:s1(i,a);if(u>0&&R==null)break;a=await E(a,R),u++}while(u<S)}return a};e.options.persister?e.fetchFn=()=>{var v,x;return(x=(v=e.options).persister)==null?void 0:x.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=c}}}function s1(n,{pages:e,pageParams:t}){const i=e.length-1;return e.length>0?n.getNextPageParam(e[i],e,t[i],t):void 0}function GF(n,{pages:e,pageParams:t}){var i;return e.length>0?(i=n.getPreviousPageParam)==null?void 0:i.call(n,e[0],e,t[0],t):void 0}var _n,lo,uo,Tl,Rl,co,Il,Al,$w,WF=($w=class{constructor(n={}){Ft(this,_n);Ft(this,lo);Ft(this,uo);Ft(this,Tl);Ft(this,Rl);Ft(this,co);Ft(this,Il);Ft(this,Al);it(this,_n,n.queryCache||new NF),it(this,lo,n.mutationCache||new BF),it(this,uo,n.defaultOptions||{}),it(this,Tl,new Map),it(this,Rl,new Map),it(this,co,0)}mount(){Rh(this,co)._++,ae(this,co)===1&&(it(this,Il,AE.subscribe(async n=>{n&&(await this.resumePausedMutations(),ae(this,_n).onFocus())})),it(this,Al,wf.subscribe(async n=>{n&&(await this.resumePausedMutations(),ae(this,_n).onOnline())})))}unmount(){var n,e;Rh(this,co)._--,ae(this,co)===0&&((n=ae(this,Il))==null||n.call(this),it(this,Il,void 0),(e=ae(this,Al))==null||e.call(this),it(this,Al,void 0))}isFetching(n){return ae(this,_n).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return ae(this,lo).findAll({...n,status:"pending"}).length}getQueryData(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ae(this,_n).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(n){const e=this.defaultQueryOptions(n),t=ae(this,_n).build(this,e),i=t.state.data;return i===void 0?this.fetchQuery(n):(n.revalidateIfStale&&t.isStaleByTime(Cm(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(n){return ae(this,_n).findAll(n).map(({queryKey:e,state:t})=>{const i=t.data;return[e,i]})}setQueryData(n,e,t){const i=this.defaultQueryOptions({queryKey:n}),r=ae(this,_n).get(i.queryHash),s=r==null?void 0:r.state.data,o=xF(e,s);if(o!==void 0)return ae(this,_n).build(this,i).setData(o,{...t,manual:!0})}setQueriesData(n,e,t){return ai.batch(()=>ae(this,_n).findAll(n).map(({queryKey:i})=>[i,this.setQueryData(i,e,t)]))}getQueryState(n){var t;const e=this.defaultQueryOptions({queryKey:n});return(t=ae(this,_n).get(e.queryHash))==null?void 0:t.state}removeQueries(n){const e=ae(this,_n);ai.batch(()=>{e.findAll(n).forEach(t=>{e.remove(t)})})}resetQueries(n,e){const t=ae(this,_n);return ai.batch(()=>(t.findAll(n).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...n},e)))}cancelQueries(n,e={}){const t={revert:!0,...e},i=ai.batch(()=>ae(this,_n).findAll(n).map(r=>r.cancel(t)));return Promise.all(i).then(hr).catch(hr)}invalidateQueries(n,e={}){return ai.batch(()=>(ae(this,_n).findAll(n).forEach(t=>{t.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},e)))}refetchQueries(n,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},i=ai.batch(()=>ae(this,_n).findAll(n).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,t);return t.throwOnError||(s=s.catch(hr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(hr)}fetchQuery(n){const e=this.defaultQueryOptions(n);e.retry===void 0&&(e.retry=!1);const t=ae(this,_n).build(this,e);return t.isStaleByTime(Cm(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(hr).catch(hr)}fetchInfiniteQuery(n){return n.behavior=r1(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(hr).catch(hr)}ensureInfiniteQueryData(n){return n.behavior=r1(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return wf.isOnline()?ae(this,lo).resumePausedMutations():Promise.resolve()}getQueryCache(){return ae(this,_n)}getMutationCache(){return ae(this,lo)}getDefaultOptions(){return ae(this,uo)}setDefaultOptions(n){it(this,uo,n)}setQueryDefaults(n,e){ae(this,Tl).set(ju(n),{queryKey:n,defaultOptions:e})}getQueryDefaults(n){const e=[...ae(this,Tl).values()],t={};return e.forEach(i=>{Vu(n,i.queryKey)&&Object.assign(t,i.defaultOptions)}),t}setMutationDefaults(n,e){ae(this,Rl).set(ju(n),{mutationKey:n,defaultOptions:e})}getMutationDefaults(n){const e=[...ae(this,Rl).values()],t={};return e.forEach(i=>{Vu(n,i.mutationKey)&&Object.assign(t,i.defaultOptions)}),t}defaultQueryOptions(n){if(n._defaulted)return n;const e={...ae(this,uo).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return e.queryHash||(e.queryHash=G0(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===W0&&(e.enabled=!1),e}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...ae(this,uo).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){ae(this,_n).clear(),ae(this,lo).clear()}},_n=new WeakMap,lo=new WeakMap,uo=new WeakMap,Tl=new WeakMap,Rl=new WeakMap,co=new WeakMap,Il=new WeakMap,Al=new WeakMap,$w);new WF({defaultOptions:{queries:{staleTime:60*5e3,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchOnReconnect:!1,retry:!1}}});const Tm=ce.forwardRef(({variant:n,linePosition:e="left",color:t,startIcon:i,endIcon:r,size:s="medium",disabled:o=!1,className:a,children:u,...c},f)=>{const d=n==="primary",g=n==="secondary",m=e==="left",y=e==="right",v=e==="center";return n==="link"?Je("div",{className:Ih("teli-button__link",{"teli-button__link-disabled":o}),children:[Je(qu,{ref:f,className:Ih("teli-button",{"teli-button__link--left":m,"teli-button__link--right":y},a),disabled:o,...c,children:[i,u,r]}),Q("div",{className:Ih("teli-button__link-line",{"teli-button__link--line-right":y,"teli-button__link--line-center":v})})]}):Je(qu,{ref:f,className:Ih("teli-button",{"teli-button--small":s==="small","teli-button--medium":s==="medium","teli-button--large":s==="large","teli-button__primary":d,"teli-button__secondary":g,"teli-button__tertiary":n==="tertiary","teli-button__primary--danger":d&&t==="danger"},a),disabled:o,...c,children:[i,u,r]})});Tm.__docgenInfo={description:"",methods:[],displayName:"TeliButtonBase",props:{variant:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "tertiary" | "link" | "basic"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"tertiary"'},{name:"literal",value:'"link"'},{name:"literal",value:'"basic"'}]},description:`The variant to use.**Note**: Use primary instead of contained, secondary
instead of outline and tertiary instead of text. These variants will be
removed in the next version
@default primary`},linePosition:{required:!1,tsType:{name:"union",raw:'"left" | "right" | "center"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"center"'}]},description:"",defaultValue:{value:'"left"',computed:!1}},color:{required:!1,tsType:{name:"literal",value:'"danger"'},description:"The color of the component."},href:{required:!1,tsType:{name:"string"},description:`The URL to link to when the button is clicked. If defined, an a element
will be used as the root node.`},startIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed before the children."},endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed after the children."},size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"The size of the component.",defaultValue:{value:'"medium"',computed:!1}},disabled:{defaultValue:{value:"false",computed:!1},required:!1}},composes:["MUIButtonBaseProps"]};const qF=ce.forwardRef(({tooltip:n,tooltipPlacement:e="bottom",...t},i)=>n?Q(k0,{arrow:!0,title:n,placement:e,PopperProps:{disablePortal:!0,modifiers:[{name:"offset",options:{offset:[0,-4]}}]},children:Q(Tm,{ref:i,...t})}):Q(Tm,{ref:i,...t}));qF.__docgenInfo={description:"",methods:[],displayName:"TeliButton",props:{variant:{required:!1,tsType:{name:"union",raw:'"primary" | "secondary" | "tertiary" | "link" | "basic"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"tertiary"'},{name:"literal",value:'"link"'},{name:"literal",value:'"basic"'}]},description:`The variant to use.**Note**: Use primary instead of contained, secondary
instead of outline and tertiary instead of text. These variants will be
removed in the next version
@default primary`},linePosition:{required:!1,tsType:{name:"union",raw:'"left" | "right" | "center"',elements:[{name:"literal",value:'"left"'},{name:"literal",value:'"right"'},{name:"literal",value:'"center"'}]},description:""},color:{required:!1,tsType:{name:"literal",value:'"danger"'},description:"The color of the component."},href:{required:!1,tsType:{name:"string"},description:`The URL to link to when the button is clicked. If defined, an a element
will be used as the root node.`},startIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed before the children."},endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed after the children."},size:{required:!1,tsType:{name:"union",raw:'"small" | "medium" | "large"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'}]},description:"The size of the component."},tooltip:{required:!1,tsType:{name:"string"},description:"Tooltip contents"},tooltipPlacement:{required:!1,tsType:{name:"union",raw:`| "bottom-end"
| "bottom-start"
| "bottom"
| "left-end"
| "left-start"
| "left"
| "right-end"
| "right-start"
| "right"
| "top-end"
| "top-start"
| "top"`,elements:[{name:"literal",value:'"bottom-end"'},{name:"literal",value:'"bottom-start"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"left-end"'},{name:"literal",value:'"left-start"'},{name:"literal",value:'"left"'},{name:"literal",value:'"right-end"'},{name:"literal",value:'"right-start"'},{name:"literal",value:'"right"'},{name:"literal",value:'"top-end"'},{name:"literal",value:'"top-start"'},{name:"literal",value:'"top"'}]},description:`Tooltip placement.
@default bottom`,defaultValue:{value:'"bottom"',computed:!1}}},composes:["MUIButtonBaseProps"]};const UF=yo({uri:oi(),primaryName:oi(),types:bm(oi()),literals:yo({"telicent:primaryName":bm(oi())}),isState:Hi(),inLocation:oi(),metadata:yo({documentFormat:oi(),generatedBy:oi(),generatorVersion:oi()})}),jF=yo({id:oi().url(),score:vf(),document:UF});yo({maybeMore:Hi(),limit:vf(),offset:vf(),query:oi(),type:wm("phrase"),results:bm(jF)});var VF={value:()=>{}};function OE(){for(var n=0,e=arguments.length,t={},i;n<e;++n){if(!(i=arguments[n]+"")||i in t||/[\s.]/.test(i))throw new Error("illegal type: "+i);t[i]=[]}return new ff(t)}function ff(n){this._=n}function HF(n,e){return n.trim().split(/^|\s+/).map(function(t){var i="",r=t.indexOf(".");if(r>=0&&(i=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:i}})}ff.prototype=OE.prototype={constructor:ff,on:function(n,e){var t=this._,i=HF(n+"",t),r,s=-1,o=i.length;if(arguments.length<2){for(;++s<o;)if((r=(n=i[s]).type)&&(r=XF(t[r],n.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(r=(n=i[s]).type)t[r]=o1(t[r],n.name,e);else if(e==null)for(r in t)t[r]=o1(t[r],n.name,null);return this},copy:function(){var n={},e=this._;for(var t in e)n[t]=e[t].slice();return new ff(n)},call:function(n,e){if((r=arguments.length-2)>0)for(var t=new Array(r),i=0,r,s;i<r;++i)t[i]=arguments[i+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(s=this._[n],i=0,r=s.length;i<r;++i)s[i].value.apply(e,t)},apply:function(n,e,t){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var i=this._[n],r=0,s=i.length;r<s;++r)i[r].value.apply(e,t)}};function XF(n,e){for(var t=0,i=n.length,r;t<i;++t)if((r=n[t]).name===e)return r.value}function o1(n,e,t){for(var i=0,r=n.length;i<r;++i)if(n[i].name===e){n[i]=VF,n=n.slice(0,i).concat(n.slice(i+1));break}return t!=null&&n.push({name:e,value:t}),n}var Rm="http://www.w3.org/1999/xhtml";const a1={svg:"http://www.w3.org/2000/svg",xhtml:Rm,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function yd(n){var e=n+="",t=e.indexOf(":");return t>=0&&(e=n.slice(0,t))!=="xmlns"&&(n=n.slice(t+1)),a1.hasOwnProperty(e)?{space:a1[e],local:n}:n}function YF(n){return function(){var e=this.ownerDocument,t=this.namespaceURI;return t===Rm&&e.documentElement.namespaceURI===Rm?e.createElement(n):e.createElementNS(t,n)}}function KF(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function FE(n){var e=yd(n);return(e.local?KF:YF)(e)}function ZF(){}function q0(n){return n==null?ZF:function(){return this.querySelector(n)}}function JF(n){typeof n!="function"&&(n=q0(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=new Array(o),u,c,f=0;f<o;++f)(u=s[f])&&(c=n.call(u,u.__data__,f,s))&&("__data__"in u&&(c.__data__=u.__data__),a[f]=c);return new Cr(i,this._parents)}function QF(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function eD(){return[]}function DE(n){return n==null?eD:function(){return this.querySelectorAll(n)}}function tD(n){return function(){return QF(n.apply(this,arguments))}}function nD(n){typeof n=="function"?n=tD(n):n=DE(n);for(var e=this._groups,t=e.length,i=[],r=[],s=0;s<t;++s)for(var o=e[s],a=o.length,u,c=0;c<a;++c)(u=o[c])&&(i.push(n.call(u,u.__data__,c,o)),r.push(u));return new Cr(i,r)}function NE(n){return function(){return this.matches(n)}}function zE(n){return function(e){return e.matches(n)}}var iD=Array.prototype.find;function rD(n){return function(){return iD.call(this.children,n)}}function sD(){return this.firstElementChild}function oD(n){return this.select(n==null?sD:rD(typeof n=="function"?n:zE(n)))}var aD=Array.prototype.filter;function lD(){return Array.from(this.children)}function uD(n){return function(){return aD.call(this.children,n)}}function cD(n){return this.selectAll(n==null?lD:uD(typeof n=="function"?n:zE(n)))}function hD(n){typeof n!="function"&&(n=NE(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],u,c=0;c<o;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&a.push(u);return new Cr(i,this._parents)}function $E(n){return new Array(n.length)}function fD(){return new Cr(this._enter||this._groups.map($E),this._parents)}function Ef(n,e){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=e}Ef.prototype={constructor:Ef,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,e){return this._parent.insertBefore(n,e)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function dD(n){return function(){return n}}function pD(n,e,t,i,r,s){for(var o=0,a,u=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],i[o]=a):t[o]=new Ef(n,s[o]);for(;o<u;++o)(a=e[o])&&(r[o]=a)}function gD(n,e,t,i,r,s,o){var a,u,c=new Map,f=e.length,d=s.length,g=new Array(f),m;for(a=0;a<f;++a)(u=e[a])&&(g[a]=m=o.call(u,u.__data__,a,e)+"",c.has(m)?r[a]=u:c.set(m,u));for(a=0;a<d;++a)m=o.call(n,s[a],a,s)+"",(u=c.get(m))?(i[a]=u,u.__data__=s[a],c.delete(m)):t[a]=new Ef(n,s[a]);for(a=0;a<f;++a)(u=e[a])&&c.get(g[a])===u&&(r[a]=u)}function mD(n){return n.__data__}function yD(n,e){if(!arguments.length)return Array.from(this,mD);var t=e?gD:pD,i=this._parents,r=this._groups;typeof n!="function"&&(n=dD(n));for(var s=r.length,o=new Array(s),a=new Array(s),u=new Array(s),c=0;c<s;++c){var f=i[c],d=r[c],g=d.length,m=_D(n.call(f,f&&f.__data__,c,i)),y=m.length,v=a[c]=new Array(y),x=o[c]=new Array(y),C=u[c]=new Array(g);t(f,d,v,x,C,m,e);for(var E=0,S=0,R,T;E<y;++E)if(R=v[E]){for(E>=S&&(S=E+1);!(T=x[S])&&++S<y;);R._next=T||null}}return o=new Cr(o,i),o._enter=a,o._exit=u,o}function _D(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function vD(){return new Cr(this._exit||this._groups.map($E),this._parents)}function xD(n,e,t){var i=this.enter(),r=this,s=this.exit();return typeof n=="function"?(i=n(i),i&&(i=i.selection())):i=i.append(n+""),e!=null&&(r=e(r),r&&(r=r.selection())),t==null?s.remove():t(s),i&&r?i.merge(r).order():r}function bD(n){for(var e=n.selection?n.selection():n,t=this._groups,i=e._groups,r=t.length,s=i.length,o=Math.min(r,s),a=new Array(r),u=0;u<o;++u)for(var c=t[u],f=i[u],d=c.length,g=a[u]=new Array(d),m,y=0;y<d;++y)(m=c[y]||f[y])&&(g[y]=m);for(;u<r;++u)a[u]=t[u];return new Cr(a,this._parents)}function wD(){for(var n=this._groups,e=-1,t=n.length;++e<t;)for(var i=n[e],r=i.length-1,s=i[r],o;--r>=0;)(o=i[r])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function ED(n){n||(n=CD);function e(d,g){return d&&g?n(d.__data__,g.__data__):!d-!g}for(var t=this._groups,i=t.length,r=new Array(i),s=0;s<i;++s){for(var o=t[s],a=o.length,u=r[s]=new Array(a),c,f=0;f<a;++f)(c=o[f])&&(u[f]=c);u.sort(e)}return new Cr(r,this._parents).order()}function CD(n,e){return n<e?-1:n>e?1:n>=e?0:NaN}function SD(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function TD(){return Array.from(this)}function RD(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length;r<s;++r){var o=i[r];if(o)return o}return null}function ID(){let n=0;for(const e of this)++n;return n}function AD(){return!this.node()}function PD(n){for(var e=this._groups,t=0,i=e.length;t<i;++t)for(var r=e[t],s=0,o=r.length,a;s<o;++s)(a=r[s])&&n.call(a,a.__data__,s,r);return this}function MD(n){return function(){this.removeAttribute(n)}}function LD(n){return function(){this.removeAttributeNS(n.space,n.local)}}function kD(n,e){return function(){this.setAttribute(n,e)}}function OD(n,e){return function(){this.setAttributeNS(n.space,n.local,e)}}function FD(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttribute(n):this.setAttribute(n,t)}}function DD(n,e){return function(){var t=e.apply(this,arguments);t==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}function ND(n,e){var t=yd(n);if(arguments.length<2){var i=this.node();return t.local?i.getAttributeNS(t.space,t.local):i.getAttribute(t)}return this.each((e==null?t.local?LD:MD:typeof e=="function"?t.local?DD:FD:t.local?OD:kD)(t,e))}function BE(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function zD(n){return function(){this.style.removeProperty(n)}}function $D(n,e,t){return function(){this.style.setProperty(n,e,t)}}function BD(n,e,t){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(n):this.style.setProperty(n,i,t)}}function GD(n,e,t){return arguments.length>1?this.each((e==null?zD:typeof e=="function"?BD:$D)(n,e,t??"")):Pl(this.node(),n)}function Pl(n,e){return n.style.getPropertyValue(e)||BE(n).getComputedStyle(n,null).getPropertyValue(e)}function WD(n){return function(){delete this[n]}}function qD(n,e){return function(){this[n]=e}}function UD(n,e){return function(){var t=e.apply(this,arguments);t==null?delete this[n]:this[n]=t}}function jD(n,e){return arguments.length>1?this.each((e==null?WD:typeof e=="function"?UD:qD)(n,e)):this.node()[n]}function GE(n){return n.trim().split(/^|\s+/)}function U0(n){return n.classList||new WE(n)}function WE(n){this._node=n,this._names=GE(n.getAttribute("class")||"")}WE.prototype={add:function(n){var e=this._names.indexOf(n);e<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var e=this._names.indexOf(n);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function qE(n,e){for(var t=U0(n),i=-1,r=e.length;++i<r;)t.add(e[i])}function UE(n,e){for(var t=U0(n),i=-1,r=e.length;++i<r;)t.remove(e[i])}function VD(n){return function(){qE(this,n)}}function HD(n){return function(){UE(this,n)}}function XD(n,e){return function(){(e.apply(this,arguments)?qE:UE)(this,n)}}function YD(n,e){var t=GE(n+"");if(arguments.length<2){for(var i=U0(this.node()),r=-1,s=t.length;++r<s;)if(!i.contains(t[r]))return!1;return!0}return this.each((typeof e=="function"?XD:e?VD:HD)(t,e))}function KD(){this.textContent=""}function ZD(n){return function(){this.textContent=n}}function JD(n){return function(){var e=n.apply(this,arguments);this.textContent=e??""}}function QD(n){return arguments.length?this.each(n==null?KD:(typeof n=="function"?JD:ZD)(n)):this.node().textContent}function e5(){this.innerHTML=""}function t5(n){return function(){this.innerHTML=n}}function n5(n){return function(){var e=n.apply(this,arguments);this.innerHTML=e??""}}function i5(n){return arguments.length?this.each(n==null?e5:(typeof n=="function"?n5:t5)(n)):this.node().innerHTML}function r5(){this.nextSibling&&this.parentNode.appendChild(this)}function s5(){return this.each(r5)}function o5(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function a5(){return this.each(o5)}function l5(n){var e=typeof n=="function"?n:FE(n);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function u5(){return null}function c5(n,e){var t=typeof n=="function"?n:FE(n),i=e==null?u5:typeof e=="function"?e:q0(e);return this.select(function(){return this.insertBefore(t.apply(this,arguments),i.apply(this,arguments)||null)})}function h5(){var n=this.parentNode;n&&n.removeChild(this)}function f5(){return this.each(h5)}function d5(){var n=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function p5(){var n=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(n,this.nextSibling):n}function g5(n){return this.select(n?p5:d5)}function m5(n){return arguments.length?this.property("__data__",n):this.node().__data__}function y5(n){return function(e){n.call(this,e,this.__data__)}}function _5(n){return n.trim().split(/^|\s+/).map(function(e){var t="",i=e.indexOf(".");return i>=0&&(t=e.slice(i+1),e=e.slice(0,i)),{type:e,name:t}})}function v5(n){return function(){var e=this.__on;if(e){for(var t=0,i=-1,r=e.length,s;t<r;++t)s=e[t],(!n.type||s.type===n.type)&&s.name===n.name?this.removeEventListener(s.type,s.listener,s.options):e[++i]=s;++i?e.length=i:delete this.__on}}}function x5(n,e,t){return function(){var i=this.__on,r,s=y5(e);if(i){for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===n.type&&r.name===n.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=t),r.value=e;return}}this.addEventListener(n.type,s,t),r={type:n.type,name:n.name,value:e,listener:s,options:t},i?i.push(r):this.__on=[r]}}function b5(n,e,t){var i=_5(n+""),r,s=i.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,f;u<c;++u)for(r=0,f=a[u];r<s;++r)if((o=i[r]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?x5:v5,r=0;r<s;++r)this.each(a(i[r],e,t));return this}function jE(n,e,t){var i=BE(n),r=i.CustomEvent;typeof r=="function"?r=new r(e,t):(r=i.document.createEvent("Event"),t?(r.initEvent(e,t.bubbles,t.cancelable),r.detail=t.detail):r.initEvent(e,!1,!1)),n.dispatchEvent(r)}function w5(n,e){return function(){return jE(this,n,e)}}function E5(n,e){return function(){return jE(this,n,e.apply(this,arguments))}}function C5(n,e){return this.each((typeof e=="function"?E5:w5)(n,e))}function*S5(){for(var n=this._groups,e=0,t=n.length;e<t;++e)for(var i=n[e],r=0,s=i.length,o;r<s;++r)(o=i[r])&&(yield o)}var T5=[null];function Cr(n,e){this._groups=n,this._parents=e}function vc(){return new Cr([[document.documentElement]],T5)}function R5(){return this}Cr.prototype=vc.prototype={constructor:Cr,select:JF,selectAll:nD,selectChild:oD,selectChildren:cD,filter:hD,data:yD,enter:fD,exit:vD,join:xD,merge:bD,selection:R5,order:wD,sort:ED,call:SD,nodes:TD,node:RD,size:ID,empty:AD,each:PD,attr:ND,style:GD,property:jD,classed:YD,text:QD,html:i5,raise:s5,lower:a5,append:l5,insert:c5,remove:f5,clone:g5,datum:m5,on:b5,dispatch:C5,[Symbol.iterator]:S5};function j0(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function VE(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function xc(){}var Hu=.7,Cf=1/Hu,pl="\\s*([+-]?\\d+)\\s*",Xu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Br="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I5=/^#([0-9a-f]{3,8})$/,A5=new RegExp(`^rgb\\(${pl},${pl},${pl}\\)$`),P5=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),M5=new RegExp(`^rgba\\(${pl},${pl},${pl},${Xu}\\)$`),L5=new RegExp(`^rgba\\(${Br},${Br},${Br},${Xu}\\)$`),k5=new RegExp(`^hsl\\(${Xu},${Br},${Br}\\)$`),O5=new RegExp(`^hsla\\(${Xu},${Br},${Br},${Xu}\\)$`),l1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};j0(xc,Yu,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:u1,formatHex:u1,formatHex8:F5,formatHsl:D5,formatRgb:c1,toString:c1});function u1(){return this.rgb().formatHex()}function F5(){return this.rgb().formatHex8()}function D5(){return HE(this).formatHsl()}function c1(){return this.rgb().formatRgb()}function Yu(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=I5.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?h1(e):t===3?new xi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Nh(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Nh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=A5.exec(n))?new xi(e[1],e[2],e[3],1):(e=P5.exec(n))?new xi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=M5.exec(n))?Nh(e[1],e[2],e[3],e[4]):(e=L5.exec(n))?Nh(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=k5.exec(n))?p1(e[1],e[2]/100,e[3]/100,1):(e=O5.exec(n))?p1(e[1],e[2]/100,e[3]/100,e[4]):l1.hasOwnProperty(n)?h1(l1[n]):n==="transparent"?new xi(NaN,NaN,NaN,0):null}function h1(n){return new xi(n>>16&255,n>>8&255,n&255,1)}function Nh(n,e,t,i){return i<=0&&(n=e=t=NaN),new xi(n,e,t,i)}function N5(n){return n instanceof xc||(n=Yu(n)),n?(n=n.rgb(),new xi(n.r,n.g,n.b,n.opacity)):new xi}function Im(n,e,t,i){return arguments.length===1?N5(n):new xi(n,e,t,i??1)}function xi(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}j0(xi,Im,VE(xc,{brighter(n){return n=n==null?Cf:Math.pow(Cf,n),new xi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Hu:Math.pow(Hu,n),new xi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new xi(ha(this.r),ha(this.g),ha(this.b),Sf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f1,formatHex:f1,formatHex8:z5,formatRgb:d1,toString:d1}));function f1(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}`}function z5(){return`#${Qo(this.r)}${Qo(this.g)}${Qo(this.b)}${Qo((isNaN(this.opacity)?1:this.opacity)*255)}`}function d1(){const n=Sf(this.opacity);return`${n===1?"rgb(":"rgba("}${ha(this.r)}, ${ha(this.g)}, ${ha(this.b)}${n===1?")":`, ${n})`}`}function Sf(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function ha(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Qo(n){return n=ha(n),(n<16?"0":"")+n.toString(16)}function p1(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new pr(n,e,t,i)}function HE(n){if(n instanceof pr)return new pr(n.h,n.s,n.l,n.opacity);if(n instanceof xc||(n=Yu(n)),!n)return new pr;if(n instanceof pr)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,a=s-r,u=(s+r)/2;return a?(e===s?o=(t-i)/a+(t<i)*6:t===s?o=(i-e)/a+2:o=(e-t)/a+4,a/=u<.5?s+r:2-s-r,o*=60):a=u>0&&u<1?0:o,new pr(o,a,u,n.opacity)}function $5(n,e,t,i){return arguments.length===1?HE(n):new pr(n,e,t,i??1)}function pr(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}j0(pr,$5,VE(xc,{brighter(n){return n=n==null?Cf:Math.pow(Cf,n),new pr(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Hu:Math.pow(Hu,n),new pr(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new xi(Sg(n>=240?n-240:n+120,r,i),Sg(n,r,i),Sg(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new pr(g1(this.h),zh(this.s),zh(this.l),Sf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Sf(this.opacity);return`${n===1?"hsl(":"hsla("}${g1(this.h)}, ${zh(this.s)*100}%, ${zh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function g1(n){return n=(n||0)%360,n<0?n+360:n}function zh(n){return Math.max(0,Math.min(1,n||0))}function Sg(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const XE=n=>()=>n;function B5(n,e){return function(t){return n+t*e}}function G5(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function W5(n){return(n=+n)==1?YE:function(e,t){return t-e?G5(e,t,n):XE(isNaN(e)?t:e)}}function YE(n,e){var t=e-n;return t?B5(n,t):XE(isNaN(n)?e:n)}const m1=function n(e){var t=W5(e);function i(r,s){var o=t((r=Im(r)).r,(s=Im(s)).r),a=t(r.g,s.g),u=t(r.b,s.b),c=YE(r.opacity,s.opacity);return function(f){return r.r=o(f),r.g=a(f),r.b=u(f),r.opacity=c(f),r+""}}return i.gamma=n,i}(1);function ro(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Am=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tg=new RegExp(Am.source,"g");function q5(n){return function(){return n}}function U5(n){return function(e){return n(e)+""}}function j5(n,e){var t=Am.lastIndex=Tg.lastIndex=0,i,r,s,o=-1,a=[],u=[];for(n=n+"",e=e+"";(i=Am.exec(n))&&(r=Tg.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),a[o]?a[o]+=s:a[++o]=s),(i=i[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,u.push({i:o,x:ro(i,r)})),t=Tg.lastIndex;return t<e.length&&(s=e.slice(t),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?U5(u[0].x):q5(e):(e=u.length,function(c){for(var f=0,d;f<e;++f)a[(d=u[f]).i]=d.x(c);return a.join("")})}var y1=180/Math.PI,Pm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function KE(n,e,t,i,r,s){var o,a,u;return(o=Math.sqrt(n*n+e*e))&&(n/=o,e/=o),(u=n*t+e*i)&&(t-=n*u,i-=e*u),(a=Math.sqrt(t*t+i*i))&&(t/=a,i/=a,u/=a),n*i<e*t&&(n=-n,e=-e,u=-u,o=-o),{translateX:r,translateY:s,rotate:Math.atan2(e,n)*y1,skewX:Math.atan(u)*y1,scaleX:o,scaleY:a}}var $h;function V5(n){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return e.isIdentity?Pm:KE(e.a,e.b,e.c,e.d,e.e,e.f)}function H5(n){return n==null||($h||($h=document.createElementNS("http://www.w3.org/2000/svg","g")),$h.setAttribute("transform",n),!(n=$h.transform.baseVal.consolidate()))?Pm:(n=n.matrix,KE(n.a,n.b,n.c,n.d,n.e,n.f))}function ZE(n,e,t,i){function r(c){return c.length?c.pop()+" ":""}function s(c,f,d,g,m,y){if(c!==d||f!==g){var v=m.push("translate(",null,e,null,t);y.push({i:v-4,x:ro(c,d)},{i:v-2,x:ro(f,g)})}else(d||g)&&m.push("translate("+d+e+g+t)}function o(c,f,d,g){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),g.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ro(c,f)})):f&&d.push(r(d)+"rotate("+f+i)}function a(c,f,d,g){c!==f?g.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ro(c,f)}):f&&d.push(r(d)+"skewX("+f+i)}function u(c,f,d,g,m,y){if(c!==d||f!==g){var v=m.push(r(m)+"scale(",null,",",null,")");y.push({i:v-4,x:ro(c,d)},{i:v-2,x:ro(f,g)})}else(d!==1||g!==1)&&m.push(r(m)+"scale("+d+","+g+")")}return function(c,f){var d=[],g=[];return c=n(c),f=n(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,g),o(c.rotate,f.rotate,d,g),a(c.skewX,f.skewX,d,g),u(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,g),c=f=null,function(m){for(var y=-1,v=g.length,x;++y<v;)d[(x=g[y]).i]=x.x(m);return d.join("")}}}var X5=ZE(V5,"px, ","px)","deg)"),Y5=ZE(H5,", ",")",")"),Ml=0,Iu=0,yu=0,JE=1e3,Tf,Au,Rf=0,va=0,_d=0,Ku=typeof performance=="object"&&performance.now?performance:Date,QE=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function V0(){return va||(QE(K5),va=Ku.now()+_d)}function K5(){va=0}function If(){this._call=this._time=this._next=null}If.prototype=eC.prototype={constructor:If,restart:function(n,e,t){if(typeof n!="function")throw new TypeError("callback is not a function");t=(t==null?V0():+t)+(e==null?0:+e),!this._next&&Au!==this&&(Au?Au._next=this:Tf=this,Au=this),this._call=n,this._time=t,Mm()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mm())}};function eC(n,e,t){var i=new If;return i.restart(n,e,t),i}function Z5(){V0(),++Ml;for(var n=Tf,e;n;)(e=va-n._time)>=0&&n._call.call(void 0,e),n=n._next;--Ml}function _1(){va=(Rf=Ku.now())+_d,Ml=Iu=0;try{Z5()}finally{Ml=0,Q5(),va=0}}function J5(){var n=Ku.now(),e=n-Rf;e>JE&&(_d-=e,Rf=n)}function Q5(){for(var n,e=Tf,t,i=1/0;e;)e._call?(i>e._time&&(i=e._time),n=e,e=e._next):(t=e._next,e._next=null,e=n?n._next=t:Tf=t);Au=n,Mm(i)}function Mm(n){if(!Ml){Iu&&(Iu=clearTimeout(Iu));var e=n-va;e>24?(n<1/0&&(Iu=setTimeout(_1,n-Ku.now()-_d)),yu&&(yu=clearInterval(yu))):(yu||(Rf=Ku.now(),yu=setInterval(J5,JE)),Ml=1,QE(_1))}}function v1(n,e,t){var i=new If;return e=e==null?0:+e,i.restart(r=>{i.stop(),n(r+e)},e,t),i}var e3=OE("start","end","cancel","interrupt"),t3=[],tC=0,x1=1,Lm=2,df=3,b1=4,km=5,pf=6;function vd(n,e,t,i,r,s){var o=n.__transition;if(!o)n.__transition={};else if(t in o)return;n3(n,t,{name:e,index:i,group:r,on:e3,tween:t3,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:tC})}function H0(n,e){var t=Rr(n,e);if(t.state>tC)throw new Error("too late; already scheduled");return t}function Zr(n,e){var t=Rr(n,e);if(t.state>df)throw new Error("too late; already running");return t}function Rr(n,e){var t=n.__transition;if(!t||!(t=t[e]))throw new Error("transition not found");return t}function n3(n,e,t){var i=n.__transition,r;i[e]=t,t.timer=eC(s,0,t.time);function s(c){t.state=x1,t.timer.restart(o,t.delay,t.time),t.delay<=c&&o(c-t.delay)}function o(c){var f,d,g,m;if(t.state!==x1)return u();for(f in i)if(m=i[f],m.name===t.name){if(m.state===df)return v1(o);m.state===b1?(m.state=pf,m.timer.stop(),m.on.call("interrupt",n,n.__data__,m.index,m.group),delete i[f]):+f<e&&(m.state=pf,m.timer.stop(),m.on.call("cancel",n,n.__data__,m.index,m.group),delete i[f])}if(v1(function(){t.state===df&&(t.state=b1,t.timer.restart(a,t.delay,t.time),a(c))}),t.state=Lm,t.on.call("start",n,n.__data__,t.index,t.group),t.state===Lm){for(t.state=df,r=new Array(g=t.tween.length),f=0,d=-1;f<g;++f)(m=t.tween[f].value.call(n,n.__data__,t.index,t.group))&&(r[++d]=m);r.length=d+1}}function a(c){for(var f=c<t.duration?t.ease.call(null,c/t.duration):(t.timer.restart(u),t.state=km,1),d=-1,g=r.length;++d<g;)r[d].call(n,f);t.state===km&&(t.on.call("end",n,n.__data__,t.index,t.group),u())}function u(){t.state=pf,t.timer.stop(),delete i[e];for(var c in i)return;delete n.__transition}}function i3(n,e){var t=n.__transition,i,r,s=!0,o;if(t){e=e==null?null:e+"";for(o in t){if((i=t[o]).name!==e){s=!1;continue}r=i.state>Lm&&i.state<km,i.state=pf,i.timer.stop(),i.on.call(r?"interrupt":"cancel",n,n.__data__,i.index,i.group),delete t[o]}s&&delete n.__transition}}function r3(n){return this.each(function(){i3(this,n)})}function s3(n,e){var t,i;return function(){var r=Zr(this,n),s=r.tween;if(s!==t){i=t=s;for(var o=0,a=i.length;o<a;++o)if(i[o].name===e){i=i.slice(),i.splice(o,1);break}}r.tween=i}}function o3(n,e,t){var i,r;if(typeof t!="function")throw new Error;return function(){var s=Zr(this,n),o=s.tween;if(o!==i){r=(i=o).slice();for(var a={name:e,value:t},u=0,c=r.length;u<c;++u)if(r[u].name===e){r[u]=a;break}u===c&&r.push(a)}s.tween=r}}function a3(n,e){var t=this._id;if(n+="",arguments.length<2){for(var i=Rr(this.node(),t).tween,r=0,s=i.length,o;r<s;++r)if((o=i[r]).name===n)return o.value;return null}return this.each((e==null?s3:o3)(t,n,e))}function X0(n,e,t){var i=n._id;return n.each(function(){var r=Zr(this,i);(r.value||(r.value={}))[e]=t.apply(this,arguments)}),function(r){return Rr(r,i).value[e]}}function nC(n,e){var t;return(typeof e=="number"?ro:e instanceof Yu?m1:(t=Yu(e))?(e=t,m1):j5)(n,e)}function l3(n){return function(){this.removeAttribute(n)}}function u3(n){return function(){this.removeAttributeNS(n.space,n.local)}}function c3(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttribute(n);return o===r?null:o===i?s:s=e(i=o,t)}}function h3(n,e,t){var i,r=t+"",s;return function(){var o=this.getAttributeNS(n.space,n.local);return o===r?null:o===i?s:s=e(i=o,t)}}function f3(n,e,t){var i,r,s;return function(){var o,a=t(this),u;return a==null?void this.removeAttribute(n):(o=this.getAttribute(n),u=a+"",o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,a)))}}function d3(n,e,t){var i,r,s;return function(){var o,a=t(this),u;return a==null?void this.removeAttributeNS(n.space,n.local):(o=this.getAttributeNS(n.space,n.local),u=a+"",o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,a)))}}function p3(n,e){var t=yd(n),i=t==="transform"?Y5:nC;return this.attrTween(n,typeof e=="function"?(t.local?d3:f3)(t,i,X0(this,"attr."+n,e)):e==null?(t.local?u3:l3)(t):(t.local?h3:c3)(t,i,e))}function g3(n,e){return function(t){this.setAttribute(n,e.call(this,t))}}function m3(n,e){return function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}}function y3(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&m3(n,s)),t}return r._value=e,r}function _3(n,e){var t,i;function r(){var s=e.apply(this,arguments);return s!==i&&(t=(i=s)&&g3(n,s)),t}return r._value=e,r}function v3(n,e){var t="attr."+n;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;var i=yd(n);return this.tween(t,(i.local?y3:_3)(i,e))}function x3(n,e){return function(){H0(this,n).delay=+e.apply(this,arguments)}}function b3(n,e){return e=+e,function(){H0(this,n).delay=e}}function w3(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?x3:b3)(e,n)):Rr(this.node(),e).delay}function E3(n,e){return function(){Zr(this,n).duration=+e.apply(this,arguments)}}function C3(n,e){return e=+e,function(){Zr(this,n).duration=e}}function S3(n){var e=this._id;return arguments.length?this.each((typeof n=="function"?E3:C3)(e,n)):Rr(this.node(),e).duration}function T3(n,e){if(typeof e!="function")throw new Error;return function(){Zr(this,n).ease=e}}function R3(n){var e=this._id;return arguments.length?this.each(T3(e,n)):Rr(this.node(),e).ease}function I3(n,e){return function(){var t=e.apply(this,arguments);if(typeof t!="function")throw new Error;Zr(this,n).ease=t}}function A3(n){if(typeof n!="function")throw new Error;return this.each(I3(this._id,n))}function P3(n){typeof n!="function"&&(n=NE(n));for(var e=this._groups,t=e.length,i=new Array(t),r=0;r<t;++r)for(var s=e[r],o=s.length,a=i[r]=[],u,c=0;c<o;++c)(u=s[c])&&n.call(u,u.__data__,c,s)&&a.push(u);return new Ss(i,this._parents,this._name,this._id)}function M3(n){if(n._id!==this._id)throw new Error;for(var e=this._groups,t=n._groups,i=e.length,r=t.length,s=Math.min(i,r),o=new Array(i),a=0;a<s;++a)for(var u=e[a],c=t[a],f=u.length,d=o[a]=new Array(f),g,m=0;m<f;++m)(g=u[m]||c[m])&&(d[m]=g);for(;a<i;++a)o[a]=e[a];return new Ss(o,this._parents,this._name,this._id)}function L3(n){return(n+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||e==="start"})}function k3(n,e,t){var i,r,s=L3(e)?H0:Zr;return function(){var o=s(this,n),a=o.on;a!==i&&(r=(i=a).copy()).on(e,t),o.on=r}}function O3(n,e){var t=this._id;return arguments.length<2?Rr(this.node(),t).on.on(n):this.each(k3(t,n,e))}function F3(n){return function(){var e=this.parentNode;for(var t in this.__transition)if(+t!==n)return;e&&e.removeChild(this)}}function D3(){return this.on("end.remove",F3(this._id))}function N3(n){var e=this._name,t=this._id;typeof n!="function"&&(n=q0(n));for(var i=this._groups,r=i.length,s=new Array(r),o=0;o<r;++o)for(var a=i[o],u=a.length,c=s[o]=new Array(u),f,d,g=0;g<u;++g)(f=a[g])&&(d=n.call(f,f.__data__,g,a))&&("__data__"in f&&(d.__data__=f.__data__),c[g]=d,vd(c[g],e,t,g,c,Rr(f,t)));return new Ss(s,this._parents,e,t)}function z3(n){var e=this._name,t=this._id;typeof n!="function"&&(n=DE(n));for(var i=this._groups,r=i.length,s=[],o=[],a=0;a<r;++a)for(var u=i[a],c=u.length,f,d=0;d<c;++d)if(f=u[d]){for(var g=n.call(f,f.__data__,d,u),m,y=Rr(f,t),v=0,x=g.length;v<x;++v)(m=g[v])&&vd(m,e,t,v,g,y);s.push(g),o.push(f)}return new Ss(s,o,e,t)}var $3=vc.prototype.constructor;function B3(){return new $3(this._groups,this._parents)}function G3(n,e){var t,i,r;return function(){var s=Pl(this,n),o=(this.style.removeProperty(n),Pl(this,n));return s===o?null:s===t&&o===i?r:r=e(t=s,i=o)}}function iC(n){return function(){this.style.removeProperty(n)}}function W3(n,e,t){var i,r=t+"",s;return function(){var o=Pl(this,n);return o===r?null:o===i?s:s=e(i=o,t)}}function q3(n,e,t){var i,r,s;return function(){var o=Pl(this,n),a=t(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(n),Pl(this,n))),o===u?null:o===i&&u===r?s:(r=u,s=e(i=o,a))}}function U3(n,e){var t,i,r,s="style."+e,o="end."+s,a;return function(){var u=Zr(this,n),c=u.on,f=u.value[s]==null?a||(a=iC(e)):void 0;(c!==t||r!==f)&&(i=(t=c).copy()).on(o,r=f),u.on=i}}function j3(n,e,t){var i=(n+="")=="transform"?X5:nC;return e==null?this.styleTween(n,G3(n,i)).on("end.style."+n,iC(n)):typeof e=="function"?this.styleTween(n,q3(n,i,X0(this,"style."+n,e))).each(U3(this._id,n)):this.styleTween(n,W3(n,i,e),t).on("end.style."+n,null)}function V3(n,e,t){return function(i){this.style.setProperty(n,e.call(this,i),t)}}function H3(n,e,t){var i,r;function s(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&V3(n,o,t)),i}return s._value=e,s}function X3(n,e,t){var i="style."+(n+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,H3(n,e,t??""))}function Y3(n){return function(){this.textContent=n}}function K3(n){return function(){var e=n(this);this.textContent=e??""}}function Z3(n){return this.tween("text",typeof n=="function"?K3(X0(this,"text",n)):Y3(n==null?"":n+""))}function J3(n){return function(e){this.textContent=n.call(this,e)}}function Q3(n){var e,t;function i(){var r=n.apply(this,arguments);return r!==t&&(e=(t=r)&&J3(r)),e}return i._value=n,i}function eN(n){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;return this.tween(e,Q3(n))}function tN(){for(var n=this._name,e=this._id,t=rC(),i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,u,c=0;c<a;++c)if(u=o[c]){var f=Rr(u,e);vd(u,n,t,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Ss(i,this._parents,n,t)}function nN(){var n,e,t=this,i=t._id,r=t.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--r===0&&s()}};t.each(function(){var c=Zr(this,i),f=c.on;f!==n&&(e=(n=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),c.on=e}),r===0&&s()})}var iN=0;function Ss(n,e,t,i){this._groups=n,this._parents=e,this._name=t,this._id=i}function rC(){return++iN}var hs=vc.prototype;Ss.prototype={constructor:Ss,select:N3,selectAll:z3,selectChild:hs.selectChild,selectChildren:hs.selectChildren,filter:P3,merge:M3,selection:B3,transition:tN,call:hs.call,nodes:hs.nodes,node:hs.node,size:hs.size,empty:hs.empty,each:hs.each,on:O3,attr:p3,attrTween:v3,style:j3,styleTween:X3,text:Z3,textTween:eN,remove:D3,tween:a3,delay:w3,duration:S3,ease:R3,easeVarying:A3,end:nN,[Symbol.iterator]:hs[Symbol.iterator]};function rN(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var sN={time:null,delay:0,duration:250,ease:rN};function oN(n,e){for(var t;!(t=n.__transition)||!(t=t[e]);)if(!(n=n.parentNode))throw new Error(`transition ${e} not found`);return t}function aN(n){var e,t;n instanceof Ss?(e=n._id,n=n._name):(e=rC(),(t=sN).time=V0(),n=n==null?null:n+"");for(var i=this._groups,r=i.length,s=0;s<r;++s)for(var o=i[s],a=o.length,u,c=0;c<a;++c)(u=o[c])&&vd(u,n,e,c,o,t||oN(u,e));return new Ss(i,this._parents,n,e)}vc.prototype.interrupt=r3;vc.prototype.transition=aN;function Pu(n,e,t){this.k=n,this.x=e,this.y=t}Pu.prototype={constructor:Pu,scale:function(n){return n===1?this:new Pu(this.k*n,this.x,this.y)},translate:function(n,e){return n===0&e===0?this:new Pu(this.k,this.x+this.k*n,this.y+this.k*e)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pu.prototype;var Af={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Af.exports;(function(n,e){(function(){var t,i="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",u="__lodash_hash_undefined__",c=500,f="__lodash_placeholder__",d=1,g=2,m=4,y=1,v=2,x=1,C=2,E=4,S=8,R=16,T=32,F=64,O=128,N=256,M=512,W=30,B="...",z=800,V=16,Z=1,G=2,j=3,q=1/0,Y=9007199254740991,te=17976931348623157e292,ne=NaN,me=4294967295,he=me-1,Ue=me>>>1,oe=[["ary",O],["bind",x],["bindKey",C],["curry",S],["curryRight",R],["flip",M],["partial",T],["partialRight",F],["rearg",N]],Me="[object Arguments]",ct="[object Array]",De="[object AsyncFunction]",Re="[object Boolean]",Se="[object Date]",ht="[object DOMException]",Bt="[object Error]",Ct="[object Function]",Jt="[object GeneratorFunction]",pe="[object Map]",Ne="[object Number]",be="[object Null]",ke="[object Object]",Ke="[object Promise]",tn="[object Proxy]",ft="[object RegExp]",k="[object Set]",Ze="[object String]",ze="[object Symbol]",bn="[object Undefined]",Ut="[object WeakMap]",an="[object WeakSet]",bt="[object ArrayBuffer]",je="[object DataView]",Ae="[object Float32Array]",Le="[object Float64Array]",Ee="[object Int8Array]",_t="[object Int16Array]",$e="[object Int32Array]",Be="[object Uint8Array]",Qe="[object Uint8ClampedArray]",St="[object Uint16Array]",Xt="[object Uint32Array]",pn=/\b__p \+= '';/g,kt=/\b(__p \+=) '' \+/g,Ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,st=/&(?:amp|lt|gt|quot|#39);/g,wt=/[&<>"']/g,Ht=RegExp(st.source),Mt=RegExp(wt.source),Nt=/<%-([\s\S]+?)%>/g,Rn=/<%([\s\S]+?)%>/g,ln=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yt=/^\w*$/,kn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,un=/[\\^$.*+?()[\]{}|]/g,Lt=RegExp(un.source),Tt=/^\s+/,wn=/\s/,Ir=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,nr=/\{\n\/\* \[wrapped with (.+)\] \*/,ir=/,? & /,mn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rr=/[()=,{}\[\]\/\s]/,hi=/\\(\\)?/g,re=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,J=/\w*$/,xe=/^[-+]0x[0-9a-f]+$/i,Fe=/^0b[01]+$/i,vt=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,mt=/^(?:0|[1-9]\d*)$/,In=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,et=/($^)/,hp=/['\n\r\u2028\u2029\\]/g,ts="\\ud800-\\udfff",Bc="\\u0300-\\u036f",Os="\\ufe20-\\ufe2f",w="\\u20d0-\\u20ff",A=Bc+Os+w,$="\\u2700-\\u27bf",L="a-z\\xdf-\\xf6\\xf8-\\xff",X="\\xac\\xb1\\xd7\\xf7",de="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fs="\\u2000-\\u206f",Jl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Mo="A-Z\\xc0-\\xd6\\xd8-\\xde",Oa="\\ufe0e\\ufe0f",Lo=X+de+Fs+Jl,ko="['’]",i2="["+ts+"]",v_="["+Lo+"]",Gc="["+A+"]",x_="\\d+",r2="["+$+"]",b_="["+L+"]",w_="[^"+ts+Lo+x_+$+L+Mo+"]",fp="\\ud83c[\\udffb-\\udfff]",s2="(?:"+Gc+"|"+fp+")",E_="[^"+ts+"]",dp="(?:\\ud83c[\\udde6-\\uddff]){2}",pp="[\\ud800-\\udbff][\\udc00-\\udfff]",Fa="["+Mo+"]",C_="\\u200d",S_="(?:"+b_+"|"+w_+")",o2="(?:"+Fa+"|"+w_+")",T_="(?:"+ko+"(?:d|ll|m|re|s|t|ve))?",R_="(?:"+ko+"(?:D|LL|M|RE|S|T|VE))?",I_=s2+"?",A_="["+Oa+"]?",a2="(?:"+C_+"(?:"+[E_,dp,pp].join("|")+")"+A_+I_+")*",l2="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",u2="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",P_=A_+I_+a2,c2="(?:"+[r2,dp,pp].join("|")+")"+P_,h2="(?:"+[E_+Gc+"?",Gc,dp,pp,i2].join("|")+")",f2=RegExp(ko,"g"),d2=RegExp(Gc,"g"),gp=RegExp(fp+"(?="+fp+")|"+h2+P_,"g"),p2=RegExp([Fa+"?"+b_+"+"+T_+"(?="+[v_,Fa,"$"].join("|")+")",o2+"+"+R_+"(?="+[v_,Fa+S_,"$"].join("|")+")",Fa+"?"+S_+"+"+T_,Fa+"+"+R_,u2,l2,x_,c2].join("|"),"g"),g2=RegExp("["+C_+ts+A+Oa+"]"),m2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,y2=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_2=-1,en={};en[Ae]=en[Le]=en[Ee]=en[_t]=en[$e]=en[Be]=en[Qe]=en[St]=en[Xt]=!0,en[Me]=en[ct]=en[bt]=en[Re]=en[je]=en[Se]=en[Bt]=en[Ct]=en[pe]=en[Ne]=en[ke]=en[ft]=en[k]=en[Ze]=en[Ut]=!1;var Qt={};Qt[Me]=Qt[ct]=Qt[bt]=Qt[je]=Qt[Re]=Qt[Se]=Qt[Ae]=Qt[Le]=Qt[Ee]=Qt[_t]=Qt[$e]=Qt[pe]=Qt[Ne]=Qt[ke]=Qt[ft]=Qt[k]=Qt[Ze]=Qt[ze]=Qt[Be]=Qt[Qe]=Qt[St]=Qt[Xt]=!0,Qt[Bt]=Qt[Ct]=Qt[Ut]=!1;var v2={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},x2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b2={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},w2={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},E2=parseFloat,C2=parseInt,M_=typeof _s=="object"&&_s&&_s.Object===Object&&_s,S2=typeof self=="object"&&self&&self.Object===Object&&self,jn=M_||S2||Function("return this")(),mp=e&&!e.nodeType&&e,Oo=mp&&!0&&n&&!n.nodeType&&n,L_=Oo&&Oo.exports===mp,yp=L_&&M_.process,zi=function(){try{var H=Oo&&Oo.require&&Oo.require("util").types;return H||yp&&yp.binding&&yp.binding("util")}catch{}}(),k_=zi&&zi.isArrayBuffer,O_=zi&&zi.isDate,F_=zi&&zi.isMap,D_=zi&&zi.isRegExp,N_=zi&&zi.isSet,z_=zi&&zi.isTypedArray;function wi(H,ie,ee){switch(ee.length){case 0:return H.call(ie);case 1:return H.call(ie,ee[0]);case 2:return H.call(ie,ee[0],ee[1]);case 3:return H.call(ie,ee[0],ee[1],ee[2])}return H.apply(ie,ee)}function T2(H,ie,ee,we){for(var tt=-1,zt=H==null?0:H.length;++tt<zt;){var On=H[tt];ie(we,On,ee(On),H)}return we}function $i(H,ie){for(var ee=-1,we=H==null?0:H.length;++ee<we&&ie(H[ee],ee,H)!==!1;);return H}function R2(H,ie){for(var ee=H==null?0:H.length;ee--&&ie(H[ee],ee,H)!==!1;);return H}function $_(H,ie){for(var ee=-1,we=H==null?0:H.length;++ee<we;)if(!ie(H[ee],ee,H))return!1;return!0}function Ds(H,ie){for(var ee=-1,we=H==null?0:H.length,tt=0,zt=[];++ee<we;){var On=H[ee];ie(On,ee,H)&&(zt[tt++]=On)}return zt}function Wc(H,ie){var ee=H==null?0:H.length;return!!ee&&Da(H,ie,0)>-1}function _p(H,ie,ee){for(var we=-1,tt=H==null?0:H.length;++we<tt;)if(ee(ie,H[we]))return!0;return!1}function nn(H,ie){for(var ee=-1,we=H==null?0:H.length,tt=Array(we);++ee<we;)tt[ee]=ie(H[ee],ee,H);return tt}function Ns(H,ie){for(var ee=-1,we=ie.length,tt=H.length;++ee<we;)H[tt+ee]=ie[ee];return H}function vp(H,ie,ee,we){var tt=-1,zt=H==null?0:H.length;for(we&&zt&&(ee=H[++tt]);++tt<zt;)ee=ie(ee,H[tt],tt,H);return ee}function I2(H,ie,ee,we){var tt=H==null?0:H.length;for(we&&tt&&(ee=H[--tt]);tt--;)ee=ie(ee,H[tt],tt,H);return ee}function xp(H,ie){for(var ee=-1,we=H==null?0:H.length;++ee<we;)if(ie(H[ee],ee,H))return!0;return!1}var A2=bp("length");function P2(H){return H.split("")}function M2(H){return H.match(mn)||[]}function B_(H,ie,ee){var we;return ee(H,function(tt,zt,On){if(ie(tt,zt,On))return we=zt,!1}),we}function qc(H,ie,ee,we){for(var tt=H.length,zt=ee+(we?1:-1);we?zt--:++zt<tt;)if(ie(H[zt],zt,H))return zt;return-1}function Da(H,ie,ee){return ie===ie?q2(H,ie,ee):qc(H,G_,ee)}function L2(H,ie,ee,we){for(var tt=ee-1,zt=H.length;++tt<zt;)if(we(H[tt],ie))return tt;return-1}function G_(H){return H!==H}function W_(H,ie){var ee=H==null?0:H.length;return ee?Ep(H,ie)/ee:ne}function bp(H){return function(ie){return ie==null?t:ie[H]}}function wp(H){return function(ie){return H==null?t:H[ie]}}function q_(H,ie,ee,we,tt){return tt(H,function(zt,On,Kt){ee=we?(we=!1,zt):ie(ee,zt,On,Kt)}),ee}function k2(H,ie){var ee=H.length;for(H.sort(ie);ee--;)H[ee]=H[ee].value;return H}function Ep(H,ie){for(var ee,we=-1,tt=H.length;++we<tt;){var zt=ie(H[we]);zt!==t&&(ee=ee===t?zt:ee+zt)}return ee}function Cp(H,ie){for(var ee=-1,we=Array(H);++ee<H;)we[ee]=ie(ee);return we}function O2(H,ie){return nn(ie,function(ee){return[ee,H[ee]]})}function U_(H){return H&&H.slice(0,X_(H)+1).replace(Tt,"")}function Ei(H){return function(ie){return H(ie)}}function Sp(H,ie){return nn(ie,function(ee){return H[ee]})}function Ql(H,ie){return H.has(ie)}function j_(H,ie){for(var ee=-1,we=H.length;++ee<we&&Da(ie,H[ee],0)>-1;);return ee}function V_(H,ie){for(var ee=H.length;ee--&&Da(ie,H[ee],0)>-1;);return ee}function F2(H,ie){for(var ee=H.length,we=0;ee--;)H[ee]===ie&&++we;return we}var D2=wp(v2),N2=wp(x2);function z2(H){return"\\"+w2[H]}function $2(H,ie){return H==null?t:H[ie]}function Na(H){return g2.test(H)}function B2(H){return m2.test(H)}function G2(H){for(var ie,ee=[];!(ie=H.next()).done;)ee.push(ie.value);return ee}function Tp(H){var ie=-1,ee=Array(H.size);return H.forEach(function(we,tt){ee[++ie]=[tt,we]}),ee}function H_(H,ie){return function(ee){return H(ie(ee))}}function zs(H,ie){for(var ee=-1,we=H.length,tt=0,zt=[];++ee<we;){var On=H[ee];(On===ie||On===f)&&(H[ee]=f,zt[tt++]=ee)}return zt}function Uc(H){var ie=-1,ee=Array(H.size);return H.forEach(function(we){ee[++ie]=we}),ee}function W2(H){var ie=-1,ee=Array(H.size);return H.forEach(function(we){ee[++ie]=[we,we]}),ee}function q2(H,ie,ee){for(var we=ee-1,tt=H.length;++we<tt;)if(H[we]===ie)return we;return-1}function U2(H,ie,ee){for(var we=ee+1;we--;)if(H[we]===ie)return we;return we}function za(H){return Na(H)?V2(H):A2(H)}function sr(H){return Na(H)?H2(H):P2(H)}function X_(H){for(var ie=H.length;ie--&&wn.test(H.charAt(ie)););return ie}var j2=wp(b2);function V2(H){for(var ie=gp.lastIndex=0;gp.test(H);)++ie;return ie}function H2(H){return H.match(gp)||[]}function X2(H){return H.match(p2)||[]}var Y2=function H(ie){ie=ie==null?jn:$a.defaults(jn.Object(),ie,$a.pick(jn,y2));var ee=ie.Array,we=ie.Date,tt=ie.Error,zt=ie.Function,On=ie.Math,Kt=ie.Object,Rp=ie.RegExp,K2=ie.String,Bi=ie.TypeError,jc=ee.prototype,Z2=zt.prototype,Ba=Kt.prototype,Vc=ie["__core-js_shared__"],Hc=Z2.toString,jt=Ba.hasOwnProperty,J2=0,Y_=function(){var l=/[^.]+$/.exec(Vc&&Vc.keys&&Vc.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Xc=Ba.toString,Q2=Hc.call(Kt),eR=jn._,tR=Rp("^"+Hc.call(jt).replace(un,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yc=L_?ie.Buffer:t,$s=ie.Symbol,Kc=ie.Uint8Array,K_=Yc?Yc.allocUnsafe:t,Zc=H_(Kt.getPrototypeOf,Kt),Z_=Kt.create,J_=Ba.propertyIsEnumerable,Jc=jc.splice,Q_=$s?$s.isConcatSpreadable:t,eu=$s?$s.iterator:t,Fo=$s?$s.toStringTag:t,Qc=function(){try{var l=Bo(Kt,"defineProperty");return l({},"",{}),l}catch{}}(),nR=ie.clearTimeout!==jn.clearTimeout&&ie.clearTimeout,iR=we&&we.now!==jn.Date.now&&we.now,rR=ie.setTimeout!==jn.setTimeout&&ie.setTimeout,eh=On.ceil,th=On.floor,Ip=Kt.getOwnPropertySymbols,sR=Yc?Yc.isBuffer:t,ev=ie.isFinite,oR=jc.join,aR=H_(Kt.keys,Kt),Fn=On.max,Xn=On.min,lR=we.now,uR=ie.parseInt,tv=On.random,cR=jc.reverse,Ap=Bo(ie,"DataView"),tu=Bo(ie,"Map"),Pp=Bo(ie,"Promise"),Ga=Bo(ie,"Set"),nu=Bo(ie,"WeakMap"),iu=Bo(Kt,"create"),nh=nu&&new nu,Wa={},hR=Go(Ap),fR=Go(tu),dR=Go(Pp),pR=Go(Ga),gR=Go(nu),ih=$s?$s.prototype:t,ru=ih?ih.valueOf:t,nv=ih?ih.toString:t;function I(l){if(yn(l)&&!nt(l)&&!(l instanceof Et)){if(l instanceof Gi)return l;if(jt.call(l,"__wrapped__"))return ix(l)}return new Gi(l)}var qa=function(){function l(){}return function(h){if(!cn(h))return{};if(Z_)return Z_(h);l.prototype=h;var p=new l;return l.prototype=t,p}}();function rh(){}function Gi(l,h){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!h,this.__index__=0,this.__values__=t}I.templateSettings={escape:Nt,evaluate:Rn,interpolate:ln,variable:"",imports:{_:I}},I.prototype=rh.prototype,I.prototype.constructor=I,Gi.prototype=qa(rh.prototype),Gi.prototype.constructor=Gi;function Et(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=me,this.__views__=[]}function mR(){var l=new Et(this.__wrapped__);return l.__actions__=fi(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=fi(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=fi(this.__views__),l}function yR(){if(this.__filtered__){var l=new Et(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function _R(){var l=this.__wrapped__.value(),h=this.__dir__,p=nt(l),_=h<0,b=p?l.length:0,P=PI(0,b,this.__views__),D=P.start,U=P.end,K=U-D,le=_?U:D-1,ue=this.__iteratees__,fe=ue.length,_e=0,Pe=Xn(K,this.__takeCount__);if(!p||!_&&b==K&&Pe==K)return Tv(l,this.__actions__);var We=[];e:for(;K--&&_e<Pe;){le+=h;for(var dt=-1,qe=l[le];++dt<fe;){var xt=ue[dt],Rt=xt.iteratee,Ti=xt.type,ii=Rt(qe);if(Ti==G)qe=ii;else if(!ii){if(Ti==Z)continue e;break e}}We[_e++]=qe}return We}Et.prototype=qa(rh.prototype),Et.prototype.constructor=Et;function Do(l){var h=-1,p=l==null?0:l.length;for(this.clear();++h<p;){var _=l[h];this.set(_[0],_[1])}}function vR(){this.__data__=iu?iu(null):{},this.size=0}function xR(l){var h=this.has(l)&&delete this.__data__[l];return this.size-=h?1:0,h}function bR(l){var h=this.__data__;if(iu){var p=h[l];return p===u?t:p}return jt.call(h,l)?h[l]:t}function wR(l){var h=this.__data__;return iu?h[l]!==t:jt.call(h,l)}function ER(l,h){var p=this.__data__;return this.size+=this.has(l)?0:1,p[l]=iu&&h===t?u:h,this}Do.prototype.clear=vR,Do.prototype.delete=xR,Do.prototype.get=bR,Do.prototype.has=wR,Do.prototype.set=ER;function ns(l){var h=-1,p=l==null?0:l.length;for(this.clear();++h<p;){var _=l[h];this.set(_[0],_[1])}}function CR(){this.__data__=[],this.size=0}function SR(l){var h=this.__data__,p=sh(h,l);if(p<0)return!1;var _=h.length-1;return p==_?h.pop():Jc.call(h,p,1),--this.size,!0}function TR(l){var h=this.__data__,p=sh(h,l);return p<0?t:h[p][1]}function RR(l){return sh(this.__data__,l)>-1}function IR(l,h){var p=this.__data__,_=sh(p,l);return _<0?(++this.size,p.push([l,h])):p[_][1]=h,this}ns.prototype.clear=CR,ns.prototype.delete=SR,ns.prototype.get=TR,ns.prototype.has=RR,ns.prototype.set=IR;function is(l){var h=-1,p=l==null?0:l.length;for(this.clear();++h<p;){var _=l[h];this.set(_[0],_[1])}}function AR(){this.size=0,this.__data__={hash:new Do,map:new(tu||ns),string:new Do}}function PR(l){var h=yh(this,l).delete(l);return this.size-=h?1:0,h}function MR(l){return yh(this,l).get(l)}function LR(l){return yh(this,l).has(l)}function kR(l,h){var p=yh(this,l),_=p.size;return p.set(l,h),this.size+=p.size==_?0:1,this}is.prototype.clear=AR,is.prototype.delete=PR,is.prototype.get=MR,is.prototype.has=LR,is.prototype.set=kR;function No(l){var h=-1,p=l==null?0:l.length;for(this.__data__=new is;++h<p;)this.add(l[h])}function OR(l){return this.__data__.set(l,u),this}function FR(l){return this.__data__.has(l)}No.prototype.add=No.prototype.push=OR,No.prototype.has=FR;function or(l){var h=this.__data__=new ns(l);this.size=h.size}function DR(){this.__data__=new ns,this.size=0}function NR(l){var h=this.__data__,p=h.delete(l);return this.size=h.size,p}function zR(l){return this.__data__.get(l)}function $R(l){return this.__data__.has(l)}function BR(l,h){var p=this.__data__;if(p instanceof ns){var _=p.__data__;if(!tu||_.length<r-1)return _.push([l,h]),this.size=++p.size,this;p=this.__data__=new is(_)}return p.set(l,h),this.size=p.size,this}or.prototype.clear=DR,or.prototype.delete=NR,or.prototype.get=zR,or.prototype.has=$R,or.prototype.set=BR;function iv(l,h){var p=nt(l),_=!p&&Wo(l),b=!p&&!_&&Us(l),P=!p&&!_&&!b&&Ha(l),D=p||_||b||P,U=D?Cp(l.length,K2):[],K=U.length;for(var le in l)(h||jt.call(l,le))&&!(D&&(le=="length"||b&&(le=="offset"||le=="parent")||P&&(le=="buffer"||le=="byteLength"||le=="byteOffset")||as(le,K)))&&U.push(le);return U}function rv(l){var h=l.length;return h?l[Gp(0,h-1)]:t}function GR(l,h){return _h(fi(l),zo(h,0,l.length))}function WR(l){return _h(fi(l))}function Mp(l,h,p){(p!==t&&!ar(l[h],p)||p===t&&!(h in l))&&rs(l,h,p)}function su(l,h,p){var _=l[h];(!(jt.call(l,h)&&ar(_,p))||p===t&&!(h in l))&&rs(l,h,p)}function sh(l,h){for(var p=l.length;p--;)if(ar(l[p][0],h))return p;return-1}function qR(l,h,p,_){return Bs(l,function(b,P,D){h(_,b,p(b),D)}),_}function sv(l,h){return l&&Pr(h,$n(h),l)}function UR(l,h){return l&&Pr(h,pi(h),l)}function rs(l,h,p){h=="__proto__"&&Qc?Qc(l,h,{configurable:!0,enumerable:!0,value:p,writable:!0}):l[h]=p}function Lp(l,h){for(var p=-1,_=h.length,b=ee(_),P=l==null;++p<_;)b[p]=P?t:fg(l,h[p]);return b}function zo(l,h,p){return l===l&&(p!==t&&(l=l<=p?l:p),h!==t&&(l=l>=h?l:h)),l}function Wi(l,h,p,_,b,P){var D,U=h&d,K=h&g,le=h&m;if(p&&(D=b?p(l,_,b,P):p(l)),D!==t)return D;if(!cn(l))return l;var ue=nt(l);if(ue){if(D=LI(l),!U)return fi(l,D)}else{var fe=Yn(l),_e=fe==Ct||fe==Jt;if(Us(l))return Av(l,U);if(fe==ke||fe==Me||_e&&!b){if(D=K||_e?{}:Xv(l),!U)return K?bI(l,UR(D,l)):xI(l,sv(D,l))}else{if(!Qt[fe])return b?l:{};D=kI(l,fe,U)}}P||(P=new or);var Pe=P.get(l);if(Pe)return Pe;P.set(l,D),Ex(l)?l.forEach(function(qe){D.add(Wi(qe,h,p,qe,l,P))}):bx(l)&&l.forEach(function(qe,xt){D.set(xt,Wi(qe,h,p,xt,l,P))});var We=le?K?Jp:Zp:K?pi:$n,dt=ue?t:We(l);return $i(dt||l,function(qe,xt){dt&&(xt=qe,qe=l[xt]),su(D,xt,Wi(qe,h,p,xt,l,P))}),D}function jR(l){var h=$n(l);return function(p){return ov(p,l,h)}}function ov(l,h,p){var _=p.length;if(l==null)return!_;for(l=Kt(l);_--;){var b=p[_],P=h[b],D=l[b];if(D===t&&!(b in l)||!P(D))return!1}return!0}function av(l,h,p){if(typeof l!="function")throw new Bi(o);return fu(function(){l.apply(t,p)},h)}function ou(l,h,p,_){var b=-1,P=Wc,D=!0,U=l.length,K=[],le=h.length;if(!U)return K;p&&(h=nn(h,Ei(p))),_?(P=_p,D=!1):h.length>=r&&(P=Ql,D=!1,h=new No(h));e:for(;++b<U;){var ue=l[b],fe=p==null?ue:p(ue);if(ue=_||ue!==0?ue:0,D&&fe===fe){for(var _e=le;_e--;)if(h[_e]===fe)continue e;K.push(ue)}else P(h,fe,_)||K.push(ue)}return K}var Bs=Ov(Ar),lv=Ov(Op,!0);function VR(l,h){var p=!0;return Bs(l,function(_,b,P){return p=!!h(_,b,P),p}),p}function oh(l,h,p){for(var _=-1,b=l.length;++_<b;){var P=l[_],D=h(P);if(D!=null&&(U===t?D===D&&!Si(D):p(D,U)))var U=D,K=P}return K}function HR(l,h,p,_){var b=l.length;for(p=at(p),p<0&&(p=-p>b?0:b+p),_=_===t||_>b?b:at(_),_<0&&(_+=b),_=p>_?0:Sx(_);p<_;)l[p++]=h;return l}function uv(l,h){var p=[];return Bs(l,function(_,b,P){h(_,b,P)&&p.push(_)}),p}function Vn(l,h,p,_,b){var P=-1,D=l.length;for(p||(p=FI),b||(b=[]);++P<D;){var U=l[P];h>0&&p(U)?h>1?Vn(U,h-1,p,_,b):Ns(b,U):_||(b[b.length]=U)}return b}var kp=Fv(),cv=Fv(!0);function Ar(l,h){return l&&kp(l,h,$n)}function Op(l,h){return l&&cv(l,h,$n)}function ah(l,h){return Ds(h,function(p){return ls(l[p])})}function $o(l,h){h=Ws(h,l);for(var p=0,_=h.length;l!=null&&p<_;)l=l[Mr(h[p++])];return p&&p==_?l:t}function hv(l,h,p){var _=h(l);return nt(l)?_:Ns(_,p(l))}function ti(l){return l==null?l===t?bn:be:Fo&&Fo in Kt(l)?AI(l):WI(l)}function Fp(l,h){return l>h}function XR(l,h){return l!=null&&jt.call(l,h)}function YR(l,h){return l!=null&&h in Kt(l)}function KR(l,h,p){return l>=Xn(h,p)&&l<Fn(h,p)}function Dp(l,h,p){for(var _=p?_p:Wc,b=l[0].length,P=l.length,D=P,U=ee(P),K=1/0,le=[];D--;){var ue=l[D];D&&h&&(ue=nn(ue,Ei(h))),K=Xn(ue.length,K),U[D]=!p&&(h||b>=120&&ue.length>=120)?new No(D&&ue):t}ue=l[0];var fe=-1,_e=U[0];e:for(;++fe<b&&le.length<K;){var Pe=ue[fe],We=h?h(Pe):Pe;if(Pe=p||Pe!==0?Pe:0,!(_e?Ql(_e,We):_(le,We,p))){for(D=P;--D;){var dt=U[D];if(!(dt?Ql(dt,We):_(l[D],We,p)))continue e}_e&&_e.push(We),le.push(Pe)}}return le}function ZR(l,h,p,_){return Ar(l,function(b,P,D){h(_,p(b),P,D)}),_}function au(l,h,p){h=Ws(h,l),l=Jv(l,h);var _=l==null?l:l[Mr(Ui(h))];return _==null?t:wi(_,l,p)}function fv(l){return yn(l)&&ti(l)==Me}function JR(l){return yn(l)&&ti(l)==bt}function QR(l){return yn(l)&&ti(l)==Se}function lu(l,h,p,_,b){return l===h?!0:l==null||h==null||!yn(l)&&!yn(h)?l!==l&&h!==h:eI(l,h,p,_,lu,b)}function eI(l,h,p,_,b,P){var D=nt(l),U=nt(h),K=D?ct:Yn(l),le=U?ct:Yn(h);K=K==Me?ke:K,le=le==Me?ke:le;var ue=K==ke,fe=le==ke,_e=K==le;if(_e&&Us(l)){if(!Us(h))return!1;D=!0,ue=!1}if(_e&&!ue)return P||(P=new or),D||Ha(l)?jv(l,h,p,_,b,P):RI(l,h,K,p,_,b,P);if(!(p&y)){var Pe=ue&&jt.call(l,"__wrapped__"),We=fe&&jt.call(h,"__wrapped__");if(Pe||We){var dt=Pe?l.value():l,qe=We?h.value():h;return P||(P=new or),b(dt,qe,p,_,P)}}return _e?(P||(P=new or),II(l,h,p,_,b,P)):!1}function tI(l){return yn(l)&&Yn(l)==pe}function Np(l,h,p,_){var b=p.length,P=b,D=!_;if(l==null)return!P;for(l=Kt(l);b--;){var U=p[b];if(D&&U[2]?U[1]!==l[U[0]]:!(U[0]in l))return!1}for(;++b<P;){U=p[b];var K=U[0],le=l[K],ue=U[1];if(D&&U[2]){if(le===t&&!(K in l))return!1}else{var fe=new or;if(_)var _e=_(le,ue,K,l,h,fe);if(!(_e===t?lu(ue,le,y|v,_,fe):_e))return!1}}return!0}function dv(l){if(!cn(l)||NI(l))return!1;var h=ls(l)?tR:vt;return h.test(Go(l))}function nI(l){return yn(l)&&ti(l)==ft}function iI(l){return yn(l)&&Yn(l)==k}function rI(l){return yn(l)&&Ch(l.length)&&!!en[ti(l)]}function pv(l){return typeof l=="function"?l:l==null?gi:typeof l=="object"?nt(l)?yv(l[0],l[1]):mv(l):Dx(l)}function zp(l){if(!hu(l))return aR(l);var h=[];for(var p in Kt(l))jt.call(l,p)&&p!="constructor"&&h.push(p);return h}function sI(l){if(!cn(l))return GI(l);var h=hu(l),p=[];for(var _ in l)_=="constructor"&&(h||!jt.call(l,_))||p.push(_);return p}function $p(l,h){return l<h}function gv(l,h){var p=-1,_=di(l)?ee(l.length):[];return Bs(l,function(b,P,D){_[++p]=h(b,P,D)}),_}function mv(l){var h=eg(l);return h.length==1&&h[0][2]?Kv(h[0][0],h[0][1]):function(p){return p===l||Np(p,l,h)}}function yv(l,h){return ng(l)&&Yv(h)?Kv(Mr(l),h):function(p){var _=fg(p,l);return _===t&&_===h?dg(p,l):lu(h,_,y|v)}}function lh(l,h,p,_,b){l!==h&&kp(h,function(P,D){if(b||(b=new or),cn(P))oI(l,h,D,p,lh,_,b);else{var U=_?_(rg(l,D),P,D+"",l,h,b):t;U===t&&(U=P),Mp(l,D,U)}},pi)}function oI(l,h,p,_,b,P,D){var U=rg(l,p),K=rg(h,p),le=D.get(K);if(le){Mp(l,p,le);return}var ue=P?P(U,K,p+"",l,h,D):t,fe=ue===t;if(fe){var _e=nt(K),Pe=!_e&&Us(K),We=!_e&&!Pe&&Ha(K);ue=K,_e||Pe||We?nt(U)?ue=U:En(U)?ue=fi(U):Pe?(fe=!1,ue=Av(K,!0)):We?(fe=!1,ue=Pv(K,!0)):ue=[]:du(K)||Wo(K)?(ue=U,Wo(U)?ue=Tx(U):(!cn(U)||ls(U))&&(ue=Xv(K))):fe=!1}fe&&(D.set(K,ue),b(ue,K,_,P,D),D.delete(K)),Mp(l,p,ue)}function _v(l,h){var p=l.length;if(p)return h+=h<0?p:0,as(h,p)?l[h]:t}function vv(l,h,p){h.length?h=nn(h,function(P){return nt(P)?function(D){return $o(D,P.length===1?P[0]:P)}:P}):h=[gi];var _=-1;h=nn(h,Ei(Ge()));var b=gv(l,function(P,D,U){var K=nn(h,function(le){return le(P)});return{criteria:K,index:++_,value:P}});return k2(b,function(P,D){return vI(P,D,p)})}function aI(l,h){return xv(l,h,function(p,_){return dg(l,_)})}function xv(l,h,p){for(var _=-1,b=h.length,P={};++_<b;){var D=h[_],U=$o(l,D);p(U,D)&&uu(P,Ws(D,l),U)}return P}function lI(l){return function(h){return $o(h,l)}}function Bp(l,h,p,_){var b=_?L2:Da,P=-1,D=h.length,U=l;for(l===h&&(h=fi(h)),p&&(U=nn(l,Ei(p)));++P<D;)for(var K=0,le=h[P],ue=p?p(le):le;(K=b(U,ue,K,_))>-1;)U!==l&&Jc.call(U,K,1),Jc.call(l,K,1);return l}function bv(l,h){for(var p=l?h.length:0,_=p-1;p--;){var b=h[p];if(p==_||b!==P){var P=b;as(b)?Jc.call(l,b,1):Up(l,b)}}return l}function Gp(l,h){return l+th(tv()*(h-l+1))}function uI(l,h,p,_){for(var b=-1,P=Fn(eh((h-l)/(p||1)),0),D=ee(P);P--;)D[_?P:++b]=l,l+=p;return D}function Wp(l,h){var p="";if(!l||h<1||h>Y)return p;do h%2&&(p+=l),h=th(h/2),h&&(l+=l);while(h);return p}function yt(l,h){return sg(Zv(l,h,gi),l+"")}function cI(l){return rv(Xa(l))}function hI(l,h){var p=Xa(l);return _h(p,zo(h,0,p.length))}function uu(l,h,p,_){if(!cn(l))return l;h=Ws(h,l);for(var b=-1,P=h.length,D=P-1,U=l;U!=null&&++b<P;){var K=Mr(h[b]),le=p;if(K==="__proto__"||K==="constructor"||K==="prototype")return l;if(b!=D){var ue=U[K];le=_?_(ue,K,U):t,le===t&&(le=cn(ue)?ue:as(h[b+1])?[]:{})}su(U,K,le),U=U[K]}return l}var wv=nh?function(l,h){return nh.set(l,h),l}:gi,fI=Qc?function(l,h){return Qc(l,"toString",{configurable:!0,enumerable:!1,value:gg(h),writable:!0})}:gi;function dI(l){return _h(Xa(l))}function qi(l,h,p){var _=-1,b=l.length;h<0&&(h=-h>b?0:b+h),p=p>b?b:p,p<0&&(p+=b),b=h>p?0:p-h>>>0,h>>>=0;for(var P=ee(b);++_<b;)P[_]=l[_+h];return P}function pI(l,h){var p;return Bs(l,function(_,b,P){return p=h(_,b,P),!p}),!!p}function uh(l,h,p){var _=0,b=l==null?_:l.length;if(typeof h=="number"&&h===h&&b<=Ue){for(;_<b;){var P=_+b>>>1,D=l[P];D!==null&&!Si(D)&&(p?D<=h:D<h)?_=P+1:b=P}return b}return qp(l,h,gi,p)}function qp(l,h,p,_){var b=0,P=l==null?0:l.length;if(P===0)return 0;h=p(h);for(var D=h!==h,U=h===null,K=Si(h),le=h===t;b<P;){var ue=th((b+P)/2),fe=p(l[ue]),_e=fe!==t,Pe=fe===null,We=fe===fe,dt=Si(fe);if(D)var qe=_||We;else le?qe=We&&(_||_e):U?qe=We&&_e&&(_||!Pe):K?qe=We&&_e&&!Pe&&(_||!dt):Pe||dt?qe=!1:qe=_?fe<=h:fe<h;qe?b=ue+1:P=ue}return Xn(P,he)}function Ev(l,h){for(var p=-1,_=l.length,b=0,P=[];++p<_;){var D=l[p],U=h?h(D):D;if(!p||!ar(U,K)){var K=U;P[b++]=D===0?0:D}}return P}function Cv(l){return typeof l=="number"?l:Si(l)?ne:+l}function Ci(l){if(typeof l=="string")return l;if(nt(l))return nn(l,Ci)+"";if(Si(l))return nv?nv.call(l):"";var h=l+"";return h=="0"&&1/l==-q?"-0":h}function Gs(l,h,p){var _=-1,b=Wc,P=l.length,D=!0,U=[],K=U;if(p)D=!1,b=_p;else if(P>=r){var le=h?null:SI(l);if(le)return Uc(le);D=!1,b=Ql,K=new No}else K=h?[]:U;e:for(;++_<P;){var ue=l[_],fe=h?h(ue):ue;if(ue=p||ue!==0?ue:0,D&&fe===fe){for(var _e=K.length;_e--;)if(K[_e]===fe)continue e;h&&K.push(fe),U.push(ue)}else b(K,fe,p)||(K!==U&&K.push(fe),U.push(ue))}return U}function Up(l,h){return h=Ws(h,l),l=Jv(l,h),l==null||delete l[Mr(Ui(h))]}function Sv(l,h,p,_){return uu(l,h,p($o(l,h)),_)}function ch(l,h,p,_){for(var b=l.length,P=_?b:-1;(_?P--:++P<b)&&h(l[P],P,l););return p?qi(l,_?0:P,_?P+1:b):qi(l,_?P+1:0,_?b:P)}function Tv(l,h){var p=l;return p instanceof Et&&(p=p.value()),vp(h,function(_,b){return b.func.apply(b.thisArg,Ns([_],b.args))},p)}function jp(l,h,p){var _=l.length;if(_<2)return _?Gs(l[0]):[];for(var b=-1,P=ee(_);++b<_;)for(var D=l[b],U=-1;++U<_;)U!=b&&(P[b]=ou(P[b]||D,l[U],h,p));return Gs(Vn(P,1),h,p)}function Rv(l,h,p){for(var _=-1,b=l.length,P=h.length,D={};++_<b;){var U=_<P?h[_]:t;p(D,l[_],U)}return D}function Vp(l){return En(l)?l:[]}function Hp(l){return typeof l=="function"?l:gi}function Ws(l,h){return nt(l)?l:ng(l,h)?[l]:nx(Gt(l))}var gI=yt;function qs(l,h,p){var _=l.length;return p=p===t?_:p,!h&&p>=_?l:qi(l,h,p)}var Iv=nR||function(l){return jn.clearTimeout(l)};function Av(l,h){if(h)return l.slice();var p=l.length,_=K_?K_(p):new l.constructor(p);return l.copy(_),_}function Xp(l){var h=new l.constructor(l.byteLength);return new Kc(h).set(new Kc(l)),h}function mI(l,h){var p=h?Xp(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.byteLength)}function yI(l){var h=new l.constructor(l.source,J.exec(l));return h.lastIndex=l.lastIndex,h}function _I(l){return ru?Kt(ru.call(l)):{}}function Pv(l,h){var p=h?Xp(l.buffer):l.buffer;return new l.constructor(p,l.byteOffset,l.length)}function Mv(l,h){if(l!==h){var p=l!==t,_=l===null,b=l===l,P=Si(l),D=h!==t,U=h===null,K=h===h,le=Si(h);if(!U&&!le&&!P&&l>h||P&&D&&K&&!U&&!le||_&&D&&K||!p&&K||!b)return 1;if(!_&&!P&&!le&&l<h||le&&p&&b&&!_&&!P||U&&p&&b||!D&&b||!K)return-1}return 0}function vI(l,h,p){for(var _=-1,b=l.criteria,P=h.criteria,D=b.length,U=p.length;++_<D;){var K=Mv(b[_],P[_]);if(K){if(_>=U)return K;var le=p[_];return K*(le=="desc"?-1:1)}}return l.index-h.index}function Lv(l,h,p,_){for(var b=-1,P=l.length,D=p.length,U=-1,K=h.length,le=Fn(P-D,0),ue=ee(K+le),fe=!_;++U<K;)ue[U]=h[U];for(;++b<D;)(fe||b<P)&&(ue[p[b]]=l[b]);for(;le--;)ue[U++]=l[b++];return ue}function kv(l,h,p,_){for(var b=-1,P=l.length,D=-1,U=p.length,K=-1,le=h.length,ue=Fn(P-U,0),fe=ee(ue+le),_e=!_;++b<ue;)fe[b]=l[b];for(var Pe=b;++K<le;)fe[Pe+K]=h[K];for(;++D<U;)(_e||b<P)&&(fe[Pe+p[D]]=l[b++]);return fe}function fi(l,h){var p=-1,_=l.length;for(h||(h=ee(_));++p<_;)h[p]=l[p];return h}function Pr(l,h,p,_){var b=!p;p||(p={});for(var P=-1,D=h.length;++P<D;){var U=h[P],K=_?_(p[U],l[U],U,p,l):t;K===t&&(K=l[U]),b?rs(p,U,K):su(p,U,K)}return p}function xI(l,h){return Pr(l,tg(l),h)}function bI(l,h){return Pr(l,Vv(l),h)}function hh(l,h){return function(p,_){var b=nt(p)?T2:qR,P=h?h():{};return b(p,l,Ge(_,2),P)}}function Ua(l){return yt(function(h,p){var _=-1,b=p.length,P=b>1?p[b-1]:t,D=b>2?p[2]:t;for(P=l.length>3&&typeof P=="function"?(b--,P):t,D&&ni(p[0],p[1],D)&&(P=b<3?t:P,b=1),h=Kt(h);++_<b;){var U=p[_];U&&l(h,U,_,P)}return h})}function Ov(l,h){return function(p,_){if(p==null)return p;if(!di(p))return l(p,_);for(var b=p.length,P=h?b:-1,D=Kt(p);(h?P--:++P<b)&&_(D[P],P,D)!==!1;);return p}}function Fv(l){return function(h,p,_){for(var b=-1,P=Kt(h),D=_(h),U=D.length;U--;){var K=D[l?U:++b];if(p(P[K],K,P)===!1)break}return h}}function wI(l,h,p){var _=h&x,b=cu(l);function P(){var D=this&&this!==jn&&this instanceof P?b:l;return D.apply(_?p:this,arguments)}return P}function Dv(l){return function(h){h=Gt(h);var p=Na(h)?sr(h):t,_=p?p[0]:h.charAt(0),b=p?qs(p,1).join(""):h.slice(1);return _[l]()+b}}function ja(l){return function(h){return vp(Ox(kx(h).replace(f2,"")),l,"")}}function cu(l){return function(){var h=arguments;switch(h.length){case 0:return new l;case 1:return new l(h[0]);case 2:return new l(h[0],h[1]);case 3:return new l(h[0],h[1],h[2]);case 4:return new l(h[0],h[1],h[2],h[3]);case 5:return new l(h[0],h[1],h[2],h[3],h[4]);case 6:return new l(h[0],h[1],h[2],h[3],h[4],h[5]);case 7:return new l(h[0],h[1],h[2],h[3],h[4],h[5],h[6])}var p=qa(l.prototype),_=l.apply(p,h);return cn(_)?_:p}}function EI(l,h,p){var _=cu(l);function b(){for(var P=arguments.length,D=ee(P),U=P,K=Va(b);U--;)D[U]=arguments[U];var le=P<3&&D[0]!==K&&D[P-1]!==K?[]:zs(D,K);if(P-=le.length,P<p)return Gv(l,h,fh,b.placeholder,t,D,le,t,t,p-P);var ue=this&&this!==jn&&this instanceof b?_:l;return wi(ue,this,D)}return b}function Nv(l){return function(h,p,_){var b=Kt(h);if(!di(h)){var P=Ge(p,3);h=$n(h),p=function(U){return P(b[U],U,b)}}var D=l(h,p,_);return D>-1?b[P?h[D]:D]:t}}function zv(l){return os(function(h){var p=h.length,_=p,b=Gi.prototype.thru;for(l&&h.reverse();_--;){var P=h[_];if(typeof P!="function")throw new Bi(o);if(b&&!D&&mh(P)=="wrapper")var D=new Gi([],!0)}for(_=D?_:p;++_<p;){P=h[_];var U=mh(P),K=U=="wrapper"?Qp(P):t;K&&ig(K[0])&&K[1]==(O|S|T|N)&&!K[4].length&&K[9]==1?D=D[mh(K[0])].apply(D,K[3]):D=P.length==1&&ig(P)?D[U]():D.thru(P)}return function(){var le=arguments,ue=le[0];if(D&&le.length==1&&nt(ue))return D.plant(ue).value();for(var fe=0,_e=p?h[fe].apply(this,le):ue;++fe<p;)_e=h[fe].call(this,_e);return _e}})}function fh(l,h,p,_,b,P,D,U,K,le){var ue=h&O,fe=h&x,_e=h&C,Pe=h&(S|R),We=h&M,dt=_e?t:cu(l);function qe(){for(var xt=arguments.length,Rt=ee(xt),Ti=xt;Ti--;)Rt[Ti]=arguments[Ti];if(Pe)var ii=Va(qe),Ri=F2(Rt,ii);if(_&&(Rt=Lv(Rt,_,b,Pe)),P&&(Rt=kv(Rt,P,D,Pe)),xt-=Ri,Pe&&xt<le){var Cn=zs(Rt,ii);return Gv(l,h,fh,qe.placeholder,p,Rt,Cn,U,K,le-xt)}var lr=fe?p:this,cs=_e?lr[l]:l;return xt=Rt.length,U?Rt=qI(Rt,U):We&&xt>1&&Rt.reverse(),ue&&K<xt&&(Rt.length=K),this&&this!==jn&&this instanceof qe&&(cs=dt||cu(cs)),cs.apply(lr,Rt)}return qe}function $v(l,h){return function(p,_){return ZR(p,l,h(_),{})}}function dh(l,h){return function(p,_){var b;if(p===t&&_===t)return h;if(p!==t&&(b=p),_!==t){if(b===t)return _;typeof p=="string"||typeof _=="string"?(p=Ci(p),_=Ci(_)):(p=Cv(p),_=Cv(_)),b=l(p,_)}return b}}function Yp(l){return os(function(h){return h=nn(h,Ei(Ge())),yt(function(p){var _=this;return l(h,function(b){return wi(b,_,p)})})})}function ph(l,h){h=h===t?" ":Ci(h);var p=h.length;if(p<2)return p?Wp(h,l):h;var _=Wp(h,eh(l/za(h)));return Na(h)?qs(sr(_),0,l).join(""):_.slice(0,l)}function CI(l,h,p,_){var b=h&x,P=cu(l);function D(){for(var U=-1,K=arguments.length,le=-1,ue=_.length,fe=ee(ue+K),_e=this&&this!==jn&&this instanceof D?P:l;++le<ue;)fe[le]=_[le];for(;K--;)fe[le++]=arguments[++U];return wi(_e,b?p:this,fe)}return D}function Bv(l){return function(h,p,_){return _&&typeof _!="number"&&ni(h,p,_)&&(p=_=t),h=us(h),p===t?(p=h,h=0):p=us(p),_=_===t?h<p?1:-1:us(_),uI(h,p,_,l)}}function gh(l){return function(h,p){return typeof h=="string"&&typeof p=="string"||(h=ji(h),p=ji(p)),l(h,p)}}function Gv(l,h,p,_,b,P,D,U,K,le){var ue=h&S,fe=ue?D:t,_e=ue?t:D,Pe=ue?P:t,We=ue?t:P;h|=ue?T:F,h&=~(ue?F:T),h&E||(h&=-4);var dt=[l,h,b,Pe,fe,We,_e,U,K,le],qe=p.apply(t,dt);return ig(l)&&Qv(qe,dt),qe.placeholder=_,ex(qe,l,h)}function Kp(l){var h=On[l];return function(p,_){if(p=ji(p),_=_==null?0:Xn(at(_),292),_&&ev(p)){var b=(Gt(p)+"e").split("e"),P=h(b[0]+"e"+(+b[1]+_));return b=(Gt(P)+"e").split("e"),+(b[0]+"e"+(+b[1]-_))}return h(p)}}var SI=Ga&&1/Uc(new Ga([,-0]))[1]==q?function(l){return new Ga(l)}:_g;function Wv(l){return function(h){var p=Yn(h);return p==pe?Tp(h):p==k?W2(h):O2(h,l(h))}}function ss(l,h,p,_,b,P,D,U){var K=h&C;if(!K&&typeof l!="function")throw new Bi(o);var le=_?_.length:0;if(le||(h&=-97,_=b=t),D=D===t?D:Fn(at(D),0),U=U===t?U:at(U),le-=b?b.length:0,h&F){var ue=_,fe=b;_=b=t}var _e=K?t:Qp(l),Pe=[l,h,p,_,b,ue,fe,P,D,U];if(_e&&BI(Pe,_e),l=Pe[0],h=Pe[1],p=Pe[2],_=Pe[3],b=Pe[4],U=Pe[9]=Pe[9]===t?K?0:l.length:Fn(Pe[9]-le,0),!U&&h&(S|R)&&(h&=-25),!h||h==x)var We=wI(l,h,p);else h==S||h==R?We=EI(l,h,U):(h==T||h==(x|T))&&!b.length?We=CI(l,h,p,_):We=fh.apply(t,Pe);var dt=_e?wv:Qv;return ex(dt(We,Pe),l,h)}function qv(l,h,p,_){return l===t||ar(l,Ba[p])&&!jt.call(_,p)?h:l}function Uv(l,h,p,_,b,P){return cn(l)&&cn(h)&&(P.set(h,l),lh(l,h,t,Uv,P),P.delete(h)),l}function TI(l){return du(l)?t:l}function jv(l,h,p,_,b,P){var D=p&y,U=l.length,K=h.length;if(U!=K&&!(D&&K>U))return!1;var le=P.get(l),ue=P.get(h);if(le&&ue)return le==h&&ue==l;var fe=-1,_e=!0,Pe=p&v?new No:t;for(P.set(l,h),P.set(h,l);++fe<U;){var We=l[fe],dt=h[fe];if(_)var qe=D?_(dt,We,fe,h,l,P):_(We,dt,fe,l,h,P);if(qe!==t){if(qe)continue;_e=!1;break}if(Pe){if(!xp(h,function(xt,Rt){if(!Ql(Pe,Rt)&&(We===xt||b(We,xt,p,_,P)))return Pe.push(Rt)})){_e=!1;break}}else if(!(We===dt||b(We,dt,p,_,P))){_e=!1;break}}return P.delete(l),P.delete(h),_e}function RI(l,h,p,_,b,P,D){switch(p){case je:if(l.byteLength!=h.byteLength||l.byteOffset!=h.byteOffset)return!1;l=l.buffer,h=h.buffer;case bt:return!(l.byteLength!=h.byteLength||!P(new Kc(l),new Kc(h)));case Re:case Se:case Ne:return ar(+l,+h);case Bt:return l.name==h.name&&l.message==h.message;case ft:case Ze:return l==h+"";case pe:var U=Tp;case k:var K=_&y;if(U||(U=Uc),l.size!=h.size&&!K)return!1;var le=D.get(l);if(le)return le==h;_|=v,D.set(l,h);var ue=jv(U(l),U(h),_,b,P,D);return D.delete(l),ue;case ze:if(ru)return ru.call(l)==ru.call(h)}return!1}function II(l,h,p,_,b,P){var D=p&y,U=Zp(l),K=U.length,le=Zp(h),ue=le.length;if(K!=ue&&!D)return!1;for(var fe=K;fe--;){var _e=U[fe];if(!(D?_e in h:jt.call(h,_e)))return!1}var Pe=P.get(l),We=P.get(h);if(Pe&&We)return Pe==h&&We==l;var dt=!0;P.set(l,h),P.set(h,l);for(var qe=D;++fe<K;){_e=U[fe];var xt=l[_e],Rt=h[_e];if(_)var Ti=D?_(Rt,xt,_e,h,l,P):_(xt,Rt,_e,l,h,P);if(!(Ti===t?xt===Rt||b(xt,Rt,p,_,P):Ti)){dt=!1;break}qe||(qe=_e=="constructor")}if(dt&&!qe){var ii=l.constructor,Ri=h.constructor;ii!=Ri&&"constructor"in l&&"constructor"in h&&!(typeof ii=="function"&&ii instanceof ii&&typeof Ri=="function"&&Ri instanceof Ri)&&(dt=!1)}return P.delete(l),P.delete(h),dt}function os(l){return sg(Zv(l,t,ox),l+"")}function Zp(l){return hv(l,$n,tg)}function Jp(l){return hv(l,pi,Vv)}var Qp=nh?function(l){return nh.get(l)}:_g;function mh(l){for(var h=l.name+"",p=Wa[h],_=jt.call(Wa,h)?p.length:0;_--;){var b=p[_],P=b.func;if(P==null||P==l)return b.name}return h}function Va(l){var h=jt.call(I,"placeholder")?I:l;return h.placeholder}function Ge(){var l=I.iteratee||mg;return l=l===mg?pv:l,arguments.length?l(arguments[0],arguments[1]):l}function yh(l,h){var p=l.__data__;return DI(h)?p[typeof h=="string"?"string":"hash"]:p.map}function eg(l){for(var h=$n(l),p=h.length;p--;){var _=h[p],b=l[_];h[p]=[_,b,Yv(b)]}return h}function Bo(l,h){var p=$2(l,h);return dv(p)?p:t}function AI(l){var h=jt.call(l,Fo),p=l[Fo];try{l[Fo]=t;var _=!0}catch{}var b=Xc.call(l);return _&&(h?l[Fo]=p:delete l[Fo]),b}var tg=Ip?function(l){return l==null?[]:(l=Kt(l),Ds(Ip(l),function(h){return J_.call(l,h)}))}:vg,Vv=Ip?function(l){for(var h=[];l;)Ns(h,tg(l)),l=Zc(l);return h}:vg,Yn=ti;(Ap&&Yn(new Ap(new ArrayBuffer(1)))!=je||tu&&Yn(new tu)!=pe||Pp&&Yn(Pp.resolve())!=Ke||Ga&&Yn(new Ga)!=k||nu&&Yn(new nu)!=Ut)&&(Yn=function(l){var h=ti(l),p=h==ke?l.constructor:t,_=p?Go(p):"";if(_)switch(_){case hR:return je;case fR:return pe;case dR:return Ke;case pR:return k;case gR:return Ut}return h});function PI(l,h,p){for(var _=-1,b=p.length;++_<b;){var P=p[_],D=P.size;switch(P.type){case"drop":l+=D;break;case"dropRight":h-=D;break;case"take":h=Xn(h,l+D);break;case"takeRight":l=Fn(l,h-D);break}}return{start:l,end:h}}function MI(l){var h=l.match(nr);return h?h[1].split(ir):[]}function Hv(l,h,p){h=Ws(h,l);for(var _=-1,b=h.length,P=!1;++_<b;){var D=Mr(h[_]);if(!(P=l!=null&&p(l,D)))break;l=l[D]}return P||++_!=b?P:(b=l==null?0:l.length,!!b&&Ch(b)&&as(D,b)&&(nt(l)||Wo(l)))}function LI(l){var h=l.length,p=new l.constructor(h);return h&&typeof l[0]=="string"&&jt.call(l,"index")&&(p.index=l.index,p.input=l.input),p}function Xv(l){return typeof l.constructor=="function"&&!hu(l)?qa(Zc(l)):{}}function kI(l,h,p){var _=l.constructor;switch(h){case bt:return Xp(l);case Re:case Se:return new _(+l);case je:return mI(l,p);case Ae:case Le:case Ee:case _t:case $e:case Be:case Qe:case St:case Xt:return Pv(l,p);case pe:return new _;case Ne:case Ze:return new _(l);case ft:return yI(l);case k:return new _;case ze:return _I(l)}}function OI(l,h){var p=h.length;if(!p)return l;var _=p-1;return h[_]=(p>1?"& ":"")+h[_],h=h.join(p>2?", ":" "),l.replace(Ir,`{
/* [wrapped with `+h+`] */
`)}function FI(l){return nt(l)||Wo(l)||!!(Q_&&l&&l[Q_])}function as(l,h){var p=typeof l;return h=h??Y,!!h&&(p=="number"||p!="symbol"&&mt.test(l))&&l>-1&&l%1==0&&l<h}function ni(l,h,p){if(!cn(p))return!1;var _=typeof h;return(_=="number"?di(p)&&as(h,p.length):_=="string"&&h in p)?ar(p[h],l):!1}function ng(l,h){if(nt(l))return!1;var p=typeof l;return p=="number"||p=="symbol"||p=="boolean"||l==null||Si(l)?!0:Yt.test(l)||!gn.test(l)||h!=null&&l in Kt(h)}function DI(l){var h=typeof l;return h=="string"||h=="number"||h=="symbol"||h=="boolean"?l!=="__proto__":l===null}function ig(l){var h=mh(l),p=I[h];if(typeof p!="function"||!(h in Et.prototype))return!1;if(l===p)return!0;var _=Qp(p);return!!_&&l===_[0]}function NI(l){return!!Y_&&Y_ in l}var zI=Vc?ls:xg;function hu(l){var h=l&&l.constructor,p=typeof h=="function"&&h.prototype||Ba;return l===p}function Yv(l){return l===l&&!cn(l)}function Kv(l,h){return function(p){return p==null?!1:p[l]===h&&(h!==t||l in Kt(p))}}function $I(l){var h=wh(l,function(_){return p.size===c&&p.clear(),_}),p=h.cache;return h}function BI(l,h){var p=l[1],_=h[1],b=p|_,P=b<(x|C|O),D=_==O&&p==S||_==O&&p==N&&l[7].length<=h[8]||_==(O|N)&&h[7].length<=h[8]&&p==S;if(!(P||D))return l;_&x&&(l[2]=h[2],b|=p&x?0:E);var U=h[3];if(U){var K=l[3];l[3]=K?Lv(K,U,h[4]):U,l[4]=K?zs(l[3],f):h[4]}return U=h[5],U&&(K=l[5],l[5]=K?kv(K,U,h[6]):U,l[6]=K?zs(l[5],f):h[6]),U=h[7],U&&(l[7]=U),_&O&&(l[8]=l[8]==null?h[8]:Xn(l[8],h[8])),l[9]==null&&(l[9]=h[9]),l[0]=h[0],l[1]=b,l}function GI(l){var h=[];if(l!=null)for(var p in Kt(l))h.push(p);return h}function WI(l){return Xc.call(l)}function Zv(l,h,p){return h=Fn(h===t?l.length-1:h,0),function(){for(var _=arguments,b=-1,P=Fn(_.length-h,0),D=ee(P);++b<P;)D[b]=_[h+b];b=-1;for(var U=ee(h+1);++b<h;)U[b]=_[b];return U[h]=p(D),wi(l,this,U)}}function Jv(l,h){return h.length<2?l:$o(l,qi(h,0,-1))}function qI(l,h){for(var p=l.length,_=Xn(h.length,p),b=fi(l);_--;){var P=h[_];l[_]=as(P,p)?b[P]:t}return l}function rg(l,h){if(!(h==="constructor"&&typeof l[h]=="function")&&h!="__proto__")return l[h]}var Qv=tx(wv),fu=rR||function(l,h){return jn.setTimeout(l,h)},sg=tx(fI);function ex(l,h,p){var _=h+"";return sg(l,OI(_,UI(MI(_),p)))}function tx(l){var h=0,p=0;return function(){var _=lR(),b=V-(_-p);if(p=_,b>0){if(++h>=z)return arguments[0]}else h=0;return l.apply(t,arguments)}}function _h(l,h){var p=-1,_=l.length,b=_-1;for(h=h===t?_:h;++p<h;){var P=Gp(p,b),D=l[P];l[P]=l[p],l[p]=D}return l.length=h,l}var nx=$I(function(l){var h=[];return l.charCodeAt(0)===46&&h.push(""),l.replace(kn,function(p,_,b,P){h.push(b?P.replace(hi,"$1"):_||p)}),h});function Mr(l){if(typeof l=="string"||Si(l))return l;var h=l+"";return h=="0"&&1/l==-q?"-0":h}function Go(l){if(l!=null){try{return Hc.call(l)}catch{}try{return l+""}catch{}}return""}function UI(l,h){return $i(oe,function(p){var _="_."+p[0];h&p[1]&&!Wc(l,_)&&l.push(_)}),l.sort()}function ix(l){if(l instanceof Et)return l.clone();var h=new Gi(l.__wrapped__,l.__chain__);return h.__actions__=fi(l.__actions__),h.__index__=l.__index__,h.__values__=l.__values__,h}function jI(l,h,p){(p?ni(l,h,p):h===t)?h=1:h=Fn(at(h),0);var _=l==null?0:l.length;if(!_||h<1)return[];for(var b=0,P=0,D=ee(eh(_/h));b<_;)D[P++]=qi(l,b,b+=h);return D}function VI(l){for(var h=-1,p=l==null?0:l.length,_=0,b=[];++h<p;){var P=l[h];P&&(b[_++]=P)}return b}function HI(){var l=arguments.length;if(!l)return[];for(var h=ee(l-1),p=arguments[0],_=l;_--;)h[_-1]=arguments[_];return Ns(nt(p)?fi(p):[p],Vn(h,1))}var XI=yt(function(l,h){return En(l)?ou(l,Vn(h,1,En,!0)):[]}),YI=yt(function(l,h){var p=Ui(h);return En(p)&&(p=t),En(l)?ou(l,Vn(h,1,En,!0),Ge(p,2)):[]}),KI=yt(function(l,h){var p=Ui(h);return En(p)&&(p=t),En(l)?ou(l,Vn(h,1,En,!0),t,p):[]});function ZI(l,h,p){var _=l==null?0:l.length;return _?(h=p||h===t?1:at(h),qi(l,h<0?0:h,_)):[]}function JI(l,h,p){var _=l==null?0:l.length;return _?(h=p||h===t?1:at(h),h=_-h,qi(l,0,h<0?0:h)):[]}function QI(l,h){return l&&l.length?ch(l,Ge(h,3),!0,!0):[]}function eA(l,h){return l&&l.length?ch(l,Ge(h,3),!0):[]}function tA(l,h,p,_){var b=l==null?0:l.length;return b?(p&&typeof p!="number"&&ni(l,h,p)&&(p=0,_=b),HR(l,h,p,_)):[]}function rx(l,h,p){var _=l==null?0:l.length;if(!_)return-1;var b=p==null?0:at(p);return b<0&&(b=Fn(_+b,0)),qc(l,Ge(h,3),b)}function sx(l,h,p){var _=l==null?0:l.length;if(!_)return-1;var b=_-1;return p!==t&&(b=at(p),b=p<0?Fn(_+b,0):Xn(b,_-1)),qc(l,Ge(h,3),b,!0)}function ox(l){var h=l==null?0:l.length;return h?Vn(l,1):[]}function nA(l){var h=l==null?0:l.length;return h?Vn(l,q):[]}function iA(l,h){var p=l==null?0:l.length;return p?(h=h===t?1:at(h),Vn(l,h)):[]}function rA(l){for(var h=-1,p=l==null?0:l.length,_={};++h<p;){var b=l[h];_[b[0]]=b[1]}return _}function ax(l){return l&&l.length?l[0]:t}function sA(l,h,p){var _=l==null?0:l.length;if(!_)return-1;var b=p==null?0:at(p);return b<0&&(b=Fn(_+b,0)),Da(l,h,b)}function oA(l){var h=l==null?0:l.length;return h?qi(l,0,-1):[]}var aA=yt(function(l){var h=nn(l,Vp);return h.length&&h[0]===l[0]?Dp(h):[]}),lA=yt(function(l){var h=Ui(l),p=nn(l,Vp);return h===Ui(p)?h=t:p.pop(),p.length&&p[0]===l[0]?Dp(p,Ge(h,2)):[]}),uA=yt(function(l){var h=Ui(l),p=nn(l,Vp);return h=typeof h=="function"?h:t,h&&p.pop(),p.length&&p[0]===l[0]?Dp(p,t,h):[]});function cA(l,h){return l==null?"":oR.call(l,h)}function Ui(l){var h=l==null?0:l.length;return h?l[h-1]:t}function hA(l,h,p){var _=l==null?0:l.length;if(!_)return-1;var b=_;return p!==t&&(b=at(p),b=b<0?Fn(_+b,0):Xn(b,_-1)),h===h?U2(l,h,b):qc(l,G_,b,!0)}function fA(l,h){return l&&l.length?_v(l,at(h)):t}var dA=yt(lx);function lx(l,h){return l&&l.length&&h&&h.length?Bp(l,h):l}function pA(l,h,p){return l&&l.length&&h&&h.length?Bp(l,h,Ge(p,2)):l}function gA(l,h,p){return l&&l.length&&h&&h.length?Bp(l,h,t,p):l}var mA=os(function(l,h){var p=l==null?0:l.length,_=Lp(l,h);return bv(l,nn(h,function(b){return as(b,p)?+b:b}).sort(Mv)),_});function yA(l,h){var p=[];if(!(l&&l.length))return p;var _=-1,b=[],P=l.length;for(h=Ge(h,3);++_<P;){var D=l[_];h(D,_,l)&&(p.push(D),b.push(_))}return bv(l,b),p}function og(l){return l==null?l:cR.call(l)}function _A(l,h,p){var _=l==null?0:l.length;return _?(p&&typeof p!="number"&&ni(l,h,p)?(h=0,p=_):(h=h==null?0:at(h),p=p===t?_:at(p)),qi(l,h,p)):[]}function vA(l,h){return uh(l,h)}function xA(l,h,p){return qp(l,h,Ge(p,2))}function bA(l,h){var p=l==null?0:l.length;if(p){var _=uh(l,h);if(_<p&&ar(l[_],h))return _}return-1}function wA(l,h){return uh(l,h,!0)}function EA(l,h,p){return qp(l,h,Ge(p,2),!0)}function CA(l,h){var p=l==null?0:l.length;if(p){var _=uh(l,h,!0)-1;if(ar(l[_],h))return _}return-1}function SA(l){return l&&l.length?Ev(l):[]}function TA(l,h){return l&&l.length?Ev(l,Ge(h,2)):[]}function RA(l){var h=l==null?0:l.length;return h?qi(l,1,h):[]}function IA(l,h,p){return l&&l.length?(h=p||h===t?1:at(h),qi(l,0,h<0?0:h)):[]}function AA(l,h,p){var _=l==null?0:l.length;return _?(h=p||h===t?1:at(h),h=_-h,qi(l,h<0?0:h,_)):[]}function PA(l,h){return l&&l.length?ch(l,Ge(h,3),!1,!0):[]}function MA(l,h){return l&&l.length?ch(l,Ge(h,3)):[]}var LA=yt(function(l){return Gs(Vn(l,1,En,!0))}),kA=yt(function(l){var h=Ui(l);return En(h)&&(h=t),Gs(Vn(l,1,En,!0),Ge(h,2))}),OA=yt(function(l){var h=Ui(l);return h=typeof h=="function"?h:t,Gs(Vn(l,1,En,!0),t,h)});function FA(l){return l&&l.length?Gs(l):[]}function DA(l,h){return l&&l.length?Gs(l,Ge(h,2)):[]}function NA(l,h){return h=typeof h=="function"?h:t,l&&l.length?Gs(l,t,h):[]}function ag(l){if(!(l&&l.length))return[];var h=0;return l=Ds(l,function(p){if(En(p))return h=Fn(p.length,h),!0}),Cp(h,function(p){return nn(l,bp(p))})}function ux(l,h){if(!(l&&l.length))return[];var p=ag(l);return h==null?p:nn(p,function(_){return wi(h,t,_)})}var zA=yt(function(l,h){return En(l)?ou(l,h):[]}),$A=yt(function(l){return jp(Ds(l,En))}),BA=yt(function(l){var h=Ui(l);return En(h)&&(h=t),jp(Ds(l,En),Ge(h,2))}),GA=yt(function(l){var h=Ui(l);return h=typeof h=="function"?h:t,jp(Ds(l,En),t,h)}),WA=yt(ag);function qA(l,h){return Rv(l||[],h||[],su)}function UA(l,h){return Rv(l||[],h||[],uu)}var jA=yt(function(l){var h=l.length,p=h>1?l[h-1]:t;return p=typeof p=="function"?(l.pop(),p):t,ux(l,p)});function cx(l){var h=I(l);return h.__chain__=!0,h}function VA(l,h){return h(l),l}function vh(l,h){return h(l)}var HA=os(function(l){var h=l.length,p=h?l[0]:0,_=this.__wrapped__,b=function(P){return Lp(P,l)};return h>1||this.__actions__.length||!(_ instanceof Et)||!as(p)?this.thru(b):(_=_.slice(p,+p+(h?1:0)),_.__actions__.push({func:vh,args:[b],thisArg:t}),new Gi(_,this.__chain__).thru(function(P){return h&&!P.length&&P.push(t),P}))});function XA(){return cx(this)}function YA(){return new Gi(this.value(),this.__chain__)}function KA(){this.__values__===t&&(this.__values__=Cx(this.value()));var l=this.__index__>=this.__values__.length,h=l?t:this.__values__[this.__index__++];return{done:l,value:h}}function ZA(){return this}function JA(l){for(var h,p=this;p instanceof rh;){var _=ix(p);_.__index__=0,_.__values__=t,h?b.__wrapped__=_:h=_;var b=_;p=p.__wrapped__}return b.__wrapped__=l,h}function QA(){var l=this.__wrapped__;if(l instanceof Et){var h=l;return this.__actions__.length&&(h=new Et(this)),h=h.reverse(),h.__actions__.push({func:vh,args:[og],thisArg:t}),new Gi(h,this.__chain__)}return this.thru(og)}function eP(){return Tv(this.__wrapped__,this.__actions__)}var tP=hh(function(l,h,p){jt.call(l,p)?++l[p]:rs(l,p,1)});function nP(l,h,p){var _=nt(l)?$_:VR;return p&&ni(l,h,p)&&(h=t),_(l,Ge(h,3))}function iP(l,h){var p=nt(l)?Ds:uv;return p(l,Ge(h,3))}var rP=Nv(rx),sP=Nv(sx);function oP(l,h){return Vn(xh(l,h),1)}function aP(l,h){return Vn(xh(l,h),q)}function lP(l,h,p){return p=p===t?1:at(p),Vn(xh(l,h),p)}function hx(l,h){var p=nt(l)?$i:Bs;return p(l,Ge(h,3))}function fx(l,h){var p=nt(l)?R2:lv;return p(l,Ge(h,3))}var uP=hh(function(l,h,p){jt.call(l,p)?l[p].push(h):rs(l,p,[h])});function cP(l,h,p,_){l=di(l)?l:Xa(l),p=p&&!_?at(p):0;var b=l.length;return p<0&&(p=Fn(b+p,0)),Sh(l)?p<=b&&l.indexOf(h,p)>-1:!!b&&Da(l,h,p)>-1}var hP=yt(function(l,h,p){var _=-1,b=typeof h=="function",P=di(l)?ee(l.length):[];return Bs(l,function(D){P[++_]=b?wi(h,D,p):au(D,h,p)}),P}),fP=hh(function(l,h,p){rs(l,p,h)});function xh(l,h){var p=nt(l)?nn:gv;return p(l,Ge(h,3))}function dP(l,h,p,_){return l==null?[]:(nt(h)||(h=h==null?[]:[h]),p=_?t:p,nt(p)||(p=p==null?[]:[p]),vv(l,h,p))}var pP=hh(function(l,h,p){l[p?0:1].push(h)},function(){return[[],[]]});function gP(l,h,p){var _=nt(l)?vp:q_,b=arguments.length<3;return _(l,Ge(h,4),p,b,Bs)}function mP(l,h,p){var _=nt(l)?I2:q_,b=arguments.length<3;return _(l,Ge(h,4),p,b,lv)}function yP(l,h){var p=nt(l)?Ds:uv;return p(l,Eh(Ge(h,3)))}function _P(l){var h=nt(l)?rv:cI;return h(l)}function vP(l,h,p){(p?ni(l,h,p):h===t)?h=1:h=at(h);var _=nt(l)?GR:hI;return _(l,h)}function xP(l){var h=nt(l)?WR:dI;return h(l)}function bP(l){if(l==null)return 0;if(di(l))return Sh(l)?za(l):l.length;var h=Yn(l);return h==pe||h==k?l.size:zp(l).length}function wP(l,h,p){var _=nt(l)?xp:pI;return p&&ni(l,h,p)&&(h=t),_(l,Ge(h,3))}var EP=yt(function(l,h){if(l==null)return[];var p=h.length;return p>1&&ni(l,h[0],h[1])?h=[]:p>2&&ni(h[0],h[1],h[2])&&(h=[h[0]]),vv(l,Vn(h,1),[])}),bh=iR||function(){return jn.Date.now()};function CP(l,h){if(typeof h!="function")throw new Bi(o);return l=at(l),function(){if(--l<1)return h.apply(this,arguments)}}function dx(l,h,p){return h=p?t:h,h=l&&h==null?l.length:h,ss(l,O,t,t,t,t,h)}function px(l,h){var p;if(typeof h!="function")throw new Bi(o);return l=at(l),function(){return--l>0&&(p=h.apply(this,arguments)),l<=1&&(h=t),p}}var lg=yt(function(l,h,p){var _=x;if(p.length){var b=zs(p,Va(lg));_|=T}return ss(l,_,h,p,b)}),gx=yt(function(l,h,p){var _=x|C;if(p.length){var b=zs(p,Va(gx));_|=T}return ss(h,_,l,p,b)});function mx(l,h,p){h=p?t:h;var _=ss(l,S,t,t,t,t,t,h);return _.placeholder=mx.placeholder,_}function yx(l,h,p){h=p?t:h;var _=ss(l,R,t,t,t,t,t,h);return _.placeholder=yx.placeholder,_}function _x(l,h,p){var _,b,P,D,U,K,le=0,ue=!1,fe=!1,_e=!0;if(typeof l!="function")throw new Bi(o);h=ji(h)||0,cn(p)&&(ue=!!p.leading,fe="maxWait"in p,P=fe?Fn(ji(p.maxWait)||0,h):P,_e="trailing"in p?!!p.trailing:_e);function Pe(Cn){var lr=_,cs=b;return _=b=t,le=Cn,D=l.apply(cs,lr),D}function We(Cn){return le=Cn,U=fu(xt,h),ue?Pe(Cn):D}function dt(Cn){var lr=Cn-K,cs=Cn-le,Nx=h-lr;return fe?Xn(Nx,P-cs):Nx}function qe(Cn){var lr=Cn-K,cs=Cn-le;return K===t||lr>=h||lr<0||fe&&cs>=P}function xt(){var Cn=bh();if(qe(Cn))return Rt(Cn);U=fu(xt,dt(Cn))}function Rt(Cn){return U=t,_e&&_?Pe(Cn):(_=b=t,D)}function Ti(){U!==t&&Iv(U),le=0,_=K=b=U=t}function ii(){return U===t?D:Rt(bh())}function Ri(){var Cn=bh(),lr=qe(Cn);if(_=arguments,b=this,K=Cn,lr){if(U===t)return We(K);if(fe)return Iv(U),U=fu(xt,h),Pe(K)}return U===t&&(U=fu(xt,h)),D}return Ri.cancel=Ti,Ri.flush=ii,Ri}var SP=yt(function(l,h){return av(l,1,h)}),TP=yt(function(l,h,p){return av(l,ji(h)||0,p)});function RP(l){return ss(l,M)}function wh(l,h){if(typeof l!="function"||h!=null&&typeof h!="function")throw new Bi(o);var p=function(){var _=arguments,b=h?h.apply(this,_):_[0],P=p.cache;if(P.has(b))return P.get(b);var D=l.apply(this,_);return p.cache=P.set(b,D)||P,D};return p.cache=new(wh.Cache||is),p}wh.Cache=is;function Eh(l){if(typeof l!="function")throw new Bi(o);return function(){var h=arguments;switch(h.length){case 0:return!l.call(this);case 1:return!l.call(this,h[0]);case 2:return!l.call(this,h[0],h[1]);case 3:return!l.call(this,h[0],h[1],h[2])}return!l.apply(this,h)}}function IP(l){return px(2,l)}var AP=gI(function(l,h){h=h.length==1&&nt(h[0])?nn(h[0],Ei(Ge())):nn(Vn(h,1),Ei(Ge()));var p=h.length;return yt(function(_){for(var b=-1,P=Xn(_.length,p);++b<P;)_[b]=h[b].call(this,_[b]);return wi(l,this,_)})}),ug=yt(function(l,h){var p=zs(h,Va(ug));return ss(l,T,t,h,p)}),vx=yt(function(l,h){var p=zs(h,Va(vx));return ss(l,F,t,h,p)}),PP=os(function(l,h){return ss(l,N,t,t,t,h)});function MP(l,h){if(typeof l!="function")throw new Bi(o);return h=h===t?h:at(h),yt(l,h)}function LP(l,h){if(typeof l!="function")throw new Bi(o);return h=h==null?0:Fn(at(h),0),yt(function(p){var _=p[h],b=qs(p,0,h);return _&&Ns(b,_),wi(l,this,b)})}function kP(l,h,p){var _=!0,b=!0;if(typeof l!="function")throw new Bi(o);return cn(p)&&(_="leading"in p?!!p.leading:_,b="trailing"in p?!!p.trailing:b),_x(l,h,{leading:_,maxWait:h,trailing:b})}function OP(l){return dx(l,1)}function FP(l,h){return ug(Hp(h),l)}function DP(){if(!arguments.length)return[];var l=arguments[0];return nt(l)?l:[l]}function NP(l){return Wi(l,m)}function zP(l,h){return h=typeof h=="function"?h:t,Wi(l,m,h)}function $P(l){return Wi(l,d|m)}function BP(l,h){return h=typeof h=="function"?h:t,Wi(l,d|m,h)}function GP(l,h){return h==null||ov(l,h,$n(h))}function ar(l,h){return l===h||l!==l&&h!==h}var WP=gh(Fp),qP=gh(function(l,h){return l>=h}),Wo=fv(function(){return arguments}())?fv:function(l){return yn(l)&&jt.call(l,"callee")&&!J_.call(l,"callee")},nt=ee.isArray,UP=k_?Ei(k_):JR;function di(l){return l!=null&&Ch(l.length)&&!ls(l)}function En(l){return yn(l)&&di(l)}function jP(l){return l===!0||l===!1||yn(l)&&ti(l)==Re}var Us=sR||xg,VP=O_?Ei(O_):QR;function HP(l){return yn(l)&&l.nodeType===1&&!du(l)}function XP(l){if(l==null)return!0;if(di(l)&&(nt(l)||typeof l=="string"||typeof l.splice=="function"||Us(l)||Ha(l)||Wo(l)))return!l.length;var h=Yn(l);if(h==pe||h==k)return!l.size;if(hu(l))return!zp(l).length;for(var p in l)if(jt.call(l,p))return!1;return!0}function YP(l,h){return lu(l,h)}function KP(l,h,p){p=typeof p=="function"?p:t;var _=p?p(l,h):t;return _===t?lu(l,h,t,p):!!_}function cg(l){if(!yn(l))return!1;var h=ti(l);return h==Bt||h==ht||typeof l.message=="string"&&typeof l.name=="string"&&!du(l)}function ZP(l){return typeof l=="number"&&ev(l)}function ls(l){if(!cn(l))return!1;var h=ti(l);return h==Ct||h==Jt||h==De||h==tn}function xx(l){return typeof l=="number"&&l==at(l)}function Ch(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=Y}function cn(l){var h=typeof l;return l!=null&&(h=="object"||h=="function")}function yn(l){return l!=null&&typeof l=="object"}var bx=F_?Ei(F_):tI;function JP(l,h){return l===h||Np(l,h,eg(h))}function QP(l,h,p){return p=typeof p=="function"?p:t,Np(l,h,eg(h),p)}function eM(l){return wx(l)&&l!=+l}function tM(l){if(zI(l))throw new tt(s);return dv(l)}function nM(l){return l===null}function iM(l){return l==null}function wx(l){return typeof l=="number"||yn(l)&&ti(l)==Ne}function du(l){if(!yn(l)||ti(l)!=ke)return!1;var h=Zc(l);if(h===null)return!0;var p=jt.call(h,"constructor")&&h.constructor;return typeof p=="function"&&p instanceof p&&Hc.call(p)==Q2}var hg=D_?Ei(D_):nI;function rM(l){return xx(l)&&l>=-Y&&l<=Y}var Ex=N_?Ei(N_):iI;function Sh(l){return typeof l=="string"||!nt(l)&&yn(l)&&ti(l)==Ze}function Si(l){return typeof l=="symbol"||yn(l)&&ti(l)==ze}var Ha=z_?Ei(z_):rI;function sM(l){return l===t}function oM(l){return yn(l)&&Yn(l)==Ut}function aM(l){return yn(l)&&ti(l)==an}var lM=gh($p),uM=gh(function(l,h){return l<=h});function Cx(l){if(!l)return[];if(di(l))return Sh(l)?sr(l):fi(l);if(eu&&l[eu])return G2(l[eu]());var h=Yn(l),p=h==pe?Tp:h==k?Uc:Xa;return p(l)}function us(l){if(!l)return l===0?l:0;if(l=ji(l),l===q||l===-q){var h=l<0?-1:1;return h*te}return l===l?l:0}function at(l){var h=us(l),p=h%1;return h===h?p?h-p:h:0}function Sx(l){return l?zo(at(l),0,me):0}function ji(l){if(typeof l=="number")return l;if(Si(l))return ne;if(cn(l)){var h=typeof l.valueOf=="function"?l.valueOf():l;l=cn(h)?h+"":h}if(typeof l!="string")return l===0?l:+l;l=U_(l);var p=Fe.test(l);return p||Te.test(l)?C2(l.slice(2),p?2:8):xe.test(l)?ne:+l}function Tx(l){return Pr(l,pi(l))}function cM(l){return l?zo(at(l),-Y,Y):l===0?l:0}function Gt(l){return l==null?"":Ci(l)}var hM=Ua(function(l,h){if(hu(h)||di(h)){Pr(h,$n(h),l);return}for(var p in h)jt.call(h,p)&&su(l,p,h[p])}),Rx=Ua(function(l,h){Pr(h,pi(h),l)}),Th=Ua(function(l,h,p,_){Pr(h,pi(h),l,_)}),fM=Ua(function(l,h,p,_){Pr(h,$n(h),l,_)}),dM=os(Lp);function pM(l,h){var p=qa(l);return h==null?p:sv(p,h)}var gM=yt(function(l,h){l=Kt(l);var p=-1,_=h.length,b=_>2?h[2]:t;for(b&&ni(h[0],h[1],b)&&(_=1);++p<_;)for(var P=h[p],D=pi(P),U=-1,K=D.length;++U<K;){var le=D[U],ue=l[le];(ue===t||ar(ue,Ba[le])&&!jt.call(l,le))&&(l[le]=P[le])}return l}),mM=yt(function(l){return l.push(t,Uv),wi(Ix,t,l)});function yM(l,h){return B_(l,Ge(h,3),Ar)}function _M(l,h){return B_(l,Ge(h,3),Op)}function vM(l,h){return l==null?l:kp(l,Ge(h,3),pi)}function xM(l,h){return l==null?l:cv(l,Ge(h,3),pi)}function bM(l,h){return l&&Ar(l,Ge(h,3))}function wM(l,h){return l&&Op(l,Ge(h,3))}function EM(l){return l==null?[]:ah(l,$n(l))}function CM(l){return l==null?[]:ah(l,pi(l))}function fg(l,h,p){var _=l==null?t:$o(l,h);return _===t?p:_}function SM(l,h){return l!=null&&Hv(l,h,XR)}function dg(l,h){return l!=null&&Hv(l,h,YR)}var TM=$v(function(l,h,p){h!=null&&typeof h.toString!="function"&&(h=Xc.call(h)),l[h]=p},gg(gi)),RM=$v(function(l,h,p){h!=null&&typeof h.toString!="function"&&(h=Xc.call(h)),jt.call(l,h)?l[h].push(p):l[h]=[p]},Ge),IM=yt(au);function $n(l){return di(l)?iv(l):zp(l)}function pi(l){return di(l)?iv(l,!0):sI(l)}function AM(l,h){var p={};return h=Ge(h,3),Ar(l,function(_,b,P){rs(p,h(_,b,P),_)}),p}function PM(l,h){var p={};return h=Ge(h,3),Ar(l,function(_,b,P){rs(p,b,h(_,b,P))}),p}var MM=Ua(function(l,h,p){lh(l,h,p)}),Ix=Ua(function(l,h,p,_){lh(l,h,p,_)}),LM=os(function(l,h){var p={};if(l==null)return p;var _=!1;h=nn(h,function(P){return P=Ws(P,l),_||(_=P.length>1),P}),Pr(l,Jp(l),p),_&&(p=Wi(p,d|g|m,TI));for(var b=h.length;b--;)Up(p,h[b]);return p});function kM(l,h){return Ax(l,Eh(Ge(h)))}var OM=os(function(l,h){return l==null?{}:aI(l,h)});function Ax(l,h){if(l==null)return{};var p=nn(Jp(l),function(_){return[_]});return h=Ge(h),xv(l,p,function(_,b){return h(_,b[0])})}function FM(l,h,p){h=Ws(h,l);var _=-1,b=h.length;for(b||(b=1,l=t);++_<b;){var P=l==null?t:l[Mr(h[_])];P===t&&(_=b,P=p),l=ls(P)?P.call(l):P}return l}function DM(l,h,p){return l==null?l:uu(l,h,p)}function NM(l,h,p,_){return _=typeof _=="function"?_:t,l==null?l:uu(l,h,p,_)}var Px=Wv($n),Mx=Wv(pi);function zM(l,h,p){var _=nt(l),b=_||Us(l)||Ha(l);if(h=Ge(h,4),p==null){var P=l&&l.constructor;b?p=_?new P:[]:cn(l)?p=ls(P)?qa(Zc(l)):{}:p={}}return(b?$i:Ar)(l,function(D,U,K){return h(p,D,U,K)}),p}function $M(l,h){return l==null?!0:Up(l,h)}function BM(l,h,p){return l==null?l:Sv(l,h,Hp(p))}function GM(l,h,p,_){return _=typeof _=="function"?_:t,l==null?l:Sv(l,h,Hp(p),_)}function Xa(l){return l==null?[]:Sp(l,$n(l))}function WM(l){return l==null?[]:Sp(l,pi(l))}function qM(l,h,p){return p===t&&(p=h,h=t),p!==t&&(p=ji(p),p=p===p?p:0),h!==t&&(h=ji(h),h=h===h?h:0),zo(ji(l),h,p)}function UM(l,h,p){return h=us(h),p===t?(p=h,h=0):p=us(p),l=ji(l),KR(l,h,p)}function jM(l,h,p){if(p&&typeof p!="boolean"&&ni(l,h,p)&&(h=p=t),p===t&&(typeof h=="boolean"?(p=h,h=t):typeof l=="boolean"&&(p=l,l=t)),l===t&&h===t?(l=0,h=1):(l=us(l),h===t?(h=l,l=0):h=us(h)),l>h){var _=l;l=h,h=_}if(p||l%1||h%1){var b=tv();return Xn(l+b*(h-l+E2("1e-"+((b+"").length-1))),h)}return Gp(l,h)}var VM=ja(function(l,h,p){return h=h.toLowerCase(),l+(p?Lx(h):h)});function Lx(l){return pg(Gt(l).toLowerCase())}function kx(l){return l=Gt(l),l&&l.replace(In,D2).replace(d2,"")}function HM(l,h,p){l=Gt(l),h=Ci(h);var _=l.length;p=p===t?_:zo(at(p),0,_);var b=p;return p-=h.length,p>=0&&l.slice(p,b)==h}function XM(l){return l=Gt(l),l&&Mt.test(l)?l.replace(wt,N2):l}function YM(l){return l=Gt(l),l&&Lt.test(l)?l.replace(un,"\\$&"):l}var KM=ja(function(l,h,p){return l+(p?"-":"")+h.toLowerCase()}),ZM=ja(function(l,h,p){return l+(p?" ":"")+h.toLowerCase()}),JM=Dv("toLowerCase");function QM(l,h,p){l=Gt(l),h=at(h);var _=h?za(l):0;if(!h||_>=h)return l;var b=(h-_)/2;return ph(th(b),p)+l+ph(eh(b),p)}function eL(l,h,p){l=Gt(l),h=at(h);var _=h?za(l):0;return h&&_<h?l+ph(h-_,p):l}function tL(l,h,p){l=Gt(l),h=at(h);var _=h?za(l):0;return h&&_<h?ph(h-_,p)+l:l}function nL(l,h,p){return p||h==null?h=0:h&&(h=+h),uR(Gt(l).replace(Tt,""),h||0)}function iL(l,h,p){return(p?ni(l,h,p):h===t)?h=1:h=at(h),Wp(Gt(l),h)}function rL(){var l=arguments,h=Gt(l[0]);return l.length<3?h:h.replace(l[1],l[2])}var sL=ja(function(l,h,p){return l+(p?"_":"")+h.toLowerCase()});function oL(l,h,p){return p&&typeof p!="number"&&ni(l,h,p)&&(h=p=t),p=p===t?me:p>>>0,p?(l=Gt(l),l&&(typeof h=="string"||h!=null&&!hg(h))&&(h=Ci(h),!h&&Na(l))?qs(sr(l),0,p):l.split(h,p)):[]}var aL=ja(function(l,h,p){return l+(p?" ":"")+pg(h)});function lL(l,h,p){return l=Gt(l),p=p==null?0:zo(at(p),0,l.length),h=Ci(h),l.slice(p,p+h.length)==h}function uL(l,h,p){var _=I.templateSettings;p&&ni(l,h,p)&&(h=t),l=Gt(l),h=Th({},h,_,qv);var b=Th({},h.imports,_.imports,qv),P=$n(b),D=Sp(b,P),U,K,le=0,ue=h.interpolate||et,fe="__p += '",_e=Rp((h.escape||et).source+"|"+ue.source+"|"+(ue===ln?re:et).source+"|"+(h.evaluate||et).source+"|$","g"),Pe="//# sourceURL="+(jt.call(h,"sourceURL")?(h.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_2+"]")+`
`;l.replace(_e,function(qe,xt,Rt,Ti,ii,Ri){return Rt||(Rt=Ti),fe+=l.slice(le,Ri).replace(hp,z2),xt&&(U=!0,fe+=`' +
__e(`+xt+`) +
'`),ii&&(K=!0,fe+=`';
`+ii+`;
__p += '`),Rt&&(fe+=`' +
((__t = (`+Rt+`)) == null ? '' : __t) +
'`),le=Ri+qe.length,qe}),fe+=`';
`;var We=jt.call(h,"variable")&&h.variable;if(!We)fe=`with (obj) {
`+fe+`
}
`;else if(rr.test(We))throw new tt(a);fe=(K?fe.replace(pn,""):fe).replace(kt,"$1").replace(Ot,"$1;"),fe="function("+(We||"obj")+`) {
`+(We?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(U?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+fe+`return __p
}`;var dt=Fx(function(){return zt(P,Pe+"return "+fe).apply(t,D)});if(dt.source=fe,cg(dt))throw dt;return dt}function cL(l){return Gt(l).toLowerCase()}function hL(l){return Gt(l).toUpperCase()}function fL(l,h,p){if(l=Gt(l),l&&(p||h===t))return U_(l);if(!l||!(h=Ci(h)))return l;var _=sr(l),b=sr(h),P=j_(_,b),D=V_(_,b)+1;return qs(_,P,D).join("")}function dL(l,h,p){if(l=Gt(l),l&&(p||h===t))return l.slice(0,X_(l)+1);if(!l||!(h=Ci(h)))return l;var _=sr(l),b=V_(_,sr(h))+1;return qs(_,0,b).join("")}function pL(l,h,p){if(l=Gt(l),l&&(p||h===t))return l.replace(Tt,"");if(!l||!(h=Ci(h)))return l;var _=sr(l),b=j_(_,sr(h));return qs(_,b).join("")}function gL(l,h){var p=W,_=B;if(cn(h)){var b="separator"in h?h.separator:b;p="length"in h?at(h.length):p,_="omission"in h?Ci(h.omission):_}l=Gt(l);var P=l.length;if(Na(l)){var D=sr(l);P=D.length}if(p>=P)return l;var U=p-za(_);if(U<1)return _;var K=D?qs(D,0,U).join(""):l.slice(0,U);if(b===t)return K+_;if(D&&(U+=K.length-U),hg(b)){if(l.slice(U).search(b)){var le,ue=K;for(b.global||(b=Rp(b.source,Gt(J.exec(b))+"g")),b.lastIndex=0;le=b.exec(ue);)var fe=le.index;K=K.slice(0,fe===t?U:fe)}}else if(l.indexOf(Ci(b),U)!=U){var _e=K.lastIndexOf(b);_e>-1&&(K=K.slice(0,_e))}return K+_}function mL(l){return l=Gt(l),l&&Ht.test(l)?l.replace(st,j2):l}var yL=ja(function(l,h,p){return l+(p?" ":"")+h.toUpperCase()}),pg=Dv("toUpperCase");function Ox(l,h,p){return l=Gt(l),h=p?t:h,h===t?B2(l)?X2(l):M2(l):l.match(h)||[]}var Fx=yt(function(l,h){try{return wi(l,t,h)}catch(p){return cg(p)?p:new tt(p)}}),_L=os(function(l,h){return $i(h,function(p){p=Mr(p),rs(l,p,lg(l[p],l))}),l});function vL(l){var h=l==null?0:l.length,p=Ge();return l=h?nn(l,function(_){if(typeof _[1]!="function")throw new Bi(o);return[p(_[0]),_[1]]}):[],yt(function(_){for(var b=-1;++b<h;){var P=l[b];if(wi(P[0],this,_))return wi(P[1],this,_)}})}function xL(l){return jR(Wi(l,d))}function gg(l){return function(){return l}}function bL(l,h){return l==null||l!==l?h:l}var wL=zv(),EL=zv(!0);function gi(l){return l}function mg(l){return pv(typeof l=="function"?l:Wi(l,d))}function CL(l){return mv(Wi(l,d))}function SL(l,h){return yv(l,Wi(h,d))}var TL=yt(function(l,h){return function(p){return au(p,l,h)}}),RL=yt(function(l,h){return function(p){return au(l,p,h)}});function yg(l,h,p){var _=$n(h),b=ah(h,_);p==null&&!(cn(h)&&(b.length||!_.length))&&(p=h,h=l,l=this,b=ah(h,$n(h)));var P=!(cn(p)&&"chain"in p)||!!p.chain,D=ls(l);return $i(b,function(U){var K=h[U];l[U]=K,D&&(l.prototype[U]=function(){var le=this.__chain__;if(P||le){var ue=l(this.__wrapped__),fe=ue.__actions__=fi(this.__actions__);return fe.push({func:K,args:arguments,thisArg:l}),ue.__chain__=le,ue}return K.apply(l,Ns([this.value()],arguments))})}),l}function IL(){return jn._===this&&(jn._=eR),this}function _g(){}function AL(l){return l=at(l),yt(function(h){return _v(h,l)})}var PL=Yp(nn),ML=Yp($_),LL=Yp(xp);function Dx(l){return ng(l)?bp(Mr(l)):lI(l)}function kL(l){return function(h){return l==null?t:$o(l,h)}}var OL=Bv(),FL=Bv(!0);function vg(){return[]}function xg(){return!1}function DL(){return{}}function NL(){return""}function zL(){return!0}function $L(l,h){if(l=at(l),l<1||l>Y)return[];var p=me,_=Xn(l,me);h=Ge(h),l-=me;for(var b=Cp(_,h);++p<l;)h(p);return b}function BL(l){return nt(l)?nn(l,Mr):Si(l)?[l]:fi(nx(Gt(l)))}function GL(l){var h=++J2;return Gt(l)+h}var WL=dh(function(l,h){return l+h},0),qL=Kp("ceil"),UL=dh(function(l,h){return l/h},1),jL=Kp("floor");function VL(l){return l&&l.length?oh(l,gi,Fp):t}function HL(l,h){return l&&l.length?oh(l,Ge(h,2),Fp):t}function XL(l){return W_(l,gi)}function YL(l,h){return W_(l,Ge(h,2))}function KL(l){return l&&l.length?oh(l,gi,$p):t}function ZL(l,h){return l&&l.length?oh(l,Ge(h,2),$p):t}var JL=dh(function(l,h){return l*h},1),QL=Kp("round"),ek=dh(function(l,h){return l-h},0);function tk(l){return l&&l.length?Ep(l,gi):0}function nk(l,h){return l&&l.length?Ep(l,Ge(h,2)):0}return I.after=CP,I.ary=dx,I.assign=hM,I.assignIn=Rx,I.assignInWith=Th,I.assignWith=fM,I.at=dM,I.before=px,I.bind=lg,I.bindAll=_L,I.bindKey=gx,I.castArray=DP,I.chain=cx,I.chunk=jI,I.compact=VI,I.concat=HI,I.cond=vL,I.conforms=xL,I.constant=gg,I.countBy=tP,I.create=pM,I.curry=mx,I.curryRight=yx,I.debounce=_x,I.defaults=gM,I.defaultsDeep=mM,I.defer=SP,I.delay=TP,I.difference=XI,I.differenceBy=YI,I.differenceWith=KI,I.drop=ZI,I.dropRight=JI,I.dropRightWhile=QI,I.dropWhile=eA,I.fill=tA,I.filter=iP,I.flatMap=oP,I.flatMapDeep=aP,I.flatMapDepth=lP,I.flatten=ox,I.flattenDeep=nA,I.flattenDepth=iA,I.flip=RP,I.flow=wL,I.flowRight=EL,I.fromPairs=rA,I.functions=EM,I.functionsIn=CM,I.groupBy=uP,I.initial=oA,I.intersection=aA,I.intersectionBy=lA,I.intersectionWith=uA,I.invert=TM,I.invertBy=RM,I.invokeMap=hP,I.iteratee=mg,I.keyBy=fP,I.keys=$n,I.keysIn=pi,I.map=xh,I.mapKeys=AM,I.mapValues=PM,I.matches=CL,I.matchesProperty=SL,I.memoize=wh,I.merge=MM,I.mergeWith=Ix,I.method=TL,I.methodOf=RL,I.mixin=yg,I.negate=Eh,I.nthArg=AL,I.omit=LM,I.omitBy=kM,I.once=IP,I.orderBy=dP,I.over=PL,I.overArgs=AP,I.overEvery=ML,I.overSome=LL,I.partial=ug,I.partialRight=vx,I.partition=pP,I.pick=OM,I.pickBy=Ax,I.property=Dx,I.propertyOf=kL,I.pull=dA,I.pullAll=lx,I.pullAllBy=pA,I.pullAllWith=gA,I.pullAt=mA,I.range=OL,I.rangeRight=FL,I.rearg=PP,I.reject=yP,I.remove=yA,I.rest=MP,I.reverse=og,I.sampleSize=vP,I.set=DM,I.setWith=NM,I.shuffle=xP,I.slice=_A,I.sortBy=EP,I.sortedUniq=SA,I.sortedUniqBy=TA,I.split=oL,I.spread=LP,I.tail=RA,I.take=IA,I.takeRight=AA,I.takeRightWhile=PA,I.takeWhile=MA,I.tap=VA,I.throttle=kP,I.thru=vh,I.toArray=Cx,I.toPairs=Px,I.toPairsIn=Mx,I.toPath=BL,I.toPlainObject=Tx,I.transform=zM,I.unary=OP,I.union=LA,I.unionBy=kA,I.unionWith=OA,I.uniq=FA,I.uniqBy=DA,I.uniqWith=NA,I.unset=$M,I.unzip=ag,I.unzipWith=ux,I.update=BM,I.updateWith=GM,I.values=Xa,I.valuesIn=WM,I.without=zA,I.words=Ox,I.wrap=FP,I.xor=$A,I.xorBy=BA,I.xorWith=GA,I.zip=WA,I.zipObject=qA,I.zipObjectDeep=UA,I.zipWith=jA,I.entries=Px,I.entriesIn=Mx,I.extend=Rx,I.extendWith=Th,yg(I,I),I.add=WL,I.attempt=Fx,I.camelCase=VM,I.capitalize=Lx,I.ceil=qL,I.clamp=qM,I.clone=NP,I.cloneDeep=$P,I.cloneDeepWith=BP,I.cloneWith=zP,I.conformsTo=GP,I.deburr=kx,I.defaultTo=bL,I.divide=UL,I.endsWith=HM,I.eq=ar,I.escape=XM,I.escapeRegExp=YM,I.every=nP,I.find=rP,I.findIndex=rx,I.findKey=yM,I.findLast=sP,I.findLastIndex=sx,I.findLastKey=_M,I.floor=jL,I.forEach=hx,I.forEachRight=fx,I.forIn=vM,I.forInRight=xM,I.forOwn=bM,I.forOwnRight=wM,I.get=fg,I.gt=WP,I.gte=qP,I.has=SM,I.hasIn=dg,I.head=ax,I.identity=gi,I.includes=cP,I.indexOf=sA,I.inRange=UM,I.invoke=IM,I.isArguments=Wo,I.isArray=nt,I.isArrayBuffer=UP,I.isArrayLike=di,I.isArrayLikeObject=En,I.isBoolean=jP,I.isBuffer=Us,I.isDate=VP,I.isElement=HP,I.isEmpty=XP,I.isEqual=YP,I.isEqualWith=KP,I.isError=cg,I.isFinite=ZP,I.isFunction=ls,I.isInteger=xx,I.isLength=Ch,I.isMap=bx,I.isMatch=JP,I.isMatchWith=QP,I.isNaN=eM,I.isNative=tM,I.isNil=iM,I.isNull=nM,I.isNumber=wx,I.isObject=cn,I.isObjectLike=yn,I.isPlainObject=du,I.isRegExp=hg,I.isSafeInteger=rM,I.isSet=Ex,I.isString=Sh,I.isSymbol=Si,I.isTypedArray=Ha,I.isUndefined=sM,I.isWeakMap=oM,I.isWeakSet=aM,I.join=cA,I.kebabCase=KM,I.last=Ui,I.lastIndexOf=hA,I.lowerCase=ZM,I.lowerFirst=JM,I.lt=lM,I.lte=uM,I.max=VL,I.maxBy=HL,I.mean=XL,I.meanBy=YL,I.min=KL,I.minBy=ZL,I.stubArray=vg,I.stubFalse=xg,I.stubObject=DL,I.stubString=NL,I.stubTrue=zL,I.multiply=JL,I.nth=fA,I.noConflict=IL,I.noop=_g,I.now=bh,I.pad=QM,I.padEnd=eL,I.padStart=tL,I.parseInt=nL,I.random=jM,I.reduce=gP,I.reduceRight=mP,I.repeat=iL,I.replace=rL,I.result=FM,I.round=QL,I.runInContext=H,I.sample=_P,I.size=bP,I.snakeCase=sL,I.some=wP,I.sortedIndex=vA,I.sortedIndexBy=xA,I.sortedIndexOf=bA,I.sortedLastIndex=wA,I.sortedLastIndexBy=EA,I.sortedLastIndexOf=CA,I.startCase=aL,I.startsWith=lL,I.subtract=ek,I.sum=tk,I.sumBy=nk,I.template=uL,I.times=$L,I.toFinite=us,I.toInteger=at,I.toLength=Sx,I.toLower=cL,I.toNumber=ji,I.toSafeInteger=cM,I.toString=Gt,I.toUpper=hL,I.trim=fL,I.trimEnd=dL,I.trimStart=pL,I.truncate=gL,I.unescape=mL,I.uniqueId=GL,I.upperCase=yL,I.upperFirst=pg,I.each=hx,I.eachRight=fx,I.first=ax,yg(I,function(){var l={};return Ar(I,function(h,p){jt.call(I.prototype,p)||(l[p]=h)}),l}(),{chain:!1}),I.VERSION=i,$i(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){I[l].placeholder=I}),$i(["drop","take"],function(l,h){Et.prototype[l]=function(p){p=p===t?1:Fn(at(p),0);var _=this.__filtered__&&!h?new Et(this):this.clone();return _.__filtered__?_.__takeCount__=Xn(p,_.__takeCount__):_.__views__.push({size:Xn(p,me),type:l+(_.__dir__<0?"Right":"")}),_},Et.prototype[l+"Right"]=function(p){return this.reverse()[l](p).reverse()}}),$i(["filter","map","takeWhile"],function(l,h){var p=h+1,_=p==Z||p==j;Et.prototype[l]=function(b){var P=this.clone();return P.__iteratees__.push({iteratee:Ge(b,3),type:p}),P.__filtered__=P.__filtered__||_,P}}),$i(["head","last"],function(l,h){var p="take"+(h?"Right":"");Et.prototype[l]=function(){return this[p](1).value()[0]}}),$i(["initial","tail"],function(l,h){var p="drop"+(h?"":"Right");Et.prototype[l]=function(){return this.__filtered__?new Et(this):this[p](1)}}),Et.prototype.compact=function(){return this.filter(gi)},Et.prototype.find=function(l){return this.filter(l).head()},Et.prototype.findLast=function(l){return this.reverse().find(l)},Et.prototype.invokeMap=yt(function(l,h){return typeof l=="function"?new Et(this):this.map(function(p){return au(p,l,h)})}),Et.prototype.reject=function(l){return this.filter(Eh(Ge(l)))},Et.prototype.slice=function(l,h){l=at(l);var p=this;return p.__filtered__&&(l>0||h<0)?new Et(p):(l<0?p=p.takeRight(-l):l&&(p=p.drop(l)),h!==t&&(h=at(h),p=h<0?p.dropRight(-h):p.take(h-l)),p)},Et.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},Et.prototype.toArray=function(){return this.take(me)},Ar(Et.prototype,function(l,h){var p=/^(?:filter|find|map|reject)|While$/.test(h),_=/^(?:head|last)$/.test(h),b=I[_?"take"+(h=="last"?"Right":""):h],P=_||/^find/.test(h);b&&(I.prototype[h]=function(){var D=this.__wrapped__,U=_?[1]:arguments,K=D instanceof Et,le=U[0],ue=K||nt(D),fe=function(xt){var Rt=b.apply(I,Ns([xt],U));return _&&_e?Rt[0]:Rt};ue&&p&&typeof le=="function"&&le.length!=1&&(K=ue=!1);var _e=this.__chain__,Pe=!!this.__actions__.length,We=P&&!_e,dt=K&&!Pe;if(!P&&ue){D=dt?D:new Et(this);var qe=l.apply(D,U);return qe.__actions__.push({func:vh,args:[fe],thisArg:t}),new Gi(qe,_e)}return We&&dt?l.apply(this,U):(qe=this.thru(fe),We?_?qe.value()[0]:qe.value():qe)})}),$i(["pop","push","shift","sort","splice","unshift"],function(l){var h=jc[l],p=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",_=/^(?:pop|shift)$/.test(l);I.prototype[l]=function(){var b=arguments;if(_&&!this.__chain__){var P=this.value();return h.apply(nt(P)?P:[],b)}return this[p](function(D){return h.apply(nt(D)?D:[],b)})}}),Ar(Et.prototype,function(l,h){var p=I[h];if(p){var _=p.name+"";jt.call(Wa,_)||(Wa[_]=[]),Wa[_].push({name:h,func:p})}}),Wa[fh(t,C).name]=[{name:"wrapper",func:t}],Et.prototype.clone=mR,Et.prototype.reverse=yR,Et.prototype.value=_R,I.prototype.at=HA,I.prototype.chain=XA,I.prototype.commit=YA,I.prototype.next=KA,I.prototype.plant=JA,I.prototype.reverse=QA,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=eP,I.prototype.first=I.prototype.head,eu&&(I.prototype[eu]=ZA),I},$a=Y2();Oo?((Oo.exports=$a)._=$a,mp._=$a):jn._=$a}).call(_s)})(Af,Af.exports);Af.exports;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const lN={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},w1={prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M384 336l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L400 115.9 400 320c0 8.8-7.2 16-16 16zM192 384l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1L192 0c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64L0 448c0 35.3 28.7 64 64 64l192 0c35.3 0 64-28.7 64-64l0-32-48 0 0 32c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l32 0 0-48-32 0z"]},uN=({color:n,...e})=>{const t=Kr();return Q(Xr,{icon:lN,css:Ro({color:n==="primary"?t.palette.primary.main:"inherit"},"",""),...e})};uN.__docgenInfo={description:"",methods:[],displayName:"ClockIcon",props:{color:{required:!1,tsType:{name:"union",raw:'"primary" | "inherit"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"inherit"'}]},description:""}}};const Y0=({color:n,...e})=>{const t=Kr();return Q(Xr,{icon:jw,css:Ro({color:n==="primary"?t.palette.primary.main:"inherit"},"",""),...e})};Y0.__docgenInfo={description:"",methods:[],displayName:"SearchIcon",props:{color:{required:!1,tsType:{name:"union",raw:'"primary" | "inherit"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"inherit"'}]},description:""}}};const cN=n=>Q(R0,{...n}),hN=n=>Q(M0,{...n}),fN=n=>Q(L0,{...n});cN.__docgenInfo={description:"",methods:[],displayName:"ListItem"};hN.__docgenInfo={description:"",methods:[],displayName:"ListItemButton"};fN.__docgenInfo={description:"",methods:[],displayName:"ListItemIcon"};const dN=gu.object({id:gu.string(),name:gu.string(),url:gu.string(),icon:gu.string()});var pN={name:"1k1rh22",styles:"width:25px;height:25px"};const gN=({apps:n})=>{const[e,t]=w0.useState(null),i=er(),r=!!e,s=a=>{t(a.currentTarget)},o=()=>{t(null)};return Je("div",{children:[Q(_o,{"aria-label":"app-switch","aria-controls":r?"app-switch-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,onClick:s,color:"primary",children:Q(Rk,{})}),Q(Qw,{id:"app-switch-menu",anchorEl:e,open:r,onClose:o,MenuListProps:{"aria-labelledby":"app-switch-button"},sx:{"& .MuiPaper-root":{backgroundColor:i.palette.mode==="dark"?"#2A2A2A":"#ffffff"}},children:n.map((a,u)=>{const c=dN.safeParse(a);if(!c.success){const d=c.error.issues.map(g=>`${g.path.toString().replace(","," > ")}: ${g.message}`).join(`
`);return Je(vo,{role:"menuitem",children:[Je(_a,{children:["Misconfiguration error: App Switch library ",a!=null&&a.id?`for id ${a.id}`:`at index ${u}`]}),Q(_a,{children:d})]},d)}return Je(I0,{onClick:()=>{window.open(a.url,"_blank"),o()},sx:{display:"flex",alignItems:"center",marginX:1,borderRadius:"4px",border:"1px solid rgba(0, 0, 0, 0)","&:hover":{backgroundColor:i.palette.mode==="dark"?i.palette.background.default:"rgba(0, 0, 0, 0.04)",border:`1px solid ${i.palette.primary.main}`}},children:[Q(L0,{children:Q("img",{src:a.icon,alt:`${a.name} icon`,css:pN})}),Q(hd,{children:Q(vs,{variant:"h1",sx:{marginTop:.5,fontFamily:"Figtree",fontSize:16,fontWeight:400,color:"primary",display:"flex",alignItems:"center"},children:a.name.toUpperCase()})})]},a.id)})})]})};gN.__docgenInfo={description:"",methods:[],displayName:"AppSwitch",props:{apps:{required:!0,tsType:{name:"Array",elements:[{name:"zod.infer",elements:[{name:"AppSwitchLibrarySchema"}],raw:"zod.infer<typeof AppSwitchLibrarySchema>"}],raw:"zod.infer<typeof AppSwitchLibrarySchema>[]"},description:""}}};const mN=({backgroundColor:n,borderColor:e,color:t,iconClass:i,className:r,role:s="img",...o})=>Q(Un,{component:"div",sx:{backgroundColor:n,color:t,borderColor:e,borderRadius:9999,width:34,height:34,borderWidth:2,borderStyle:"solid",display:"flex",justifyContent:"center",alignItems:"center"},children:Q("i",{role:s,"aria-hidden":"true",className:i+" "+r,...o})});mN.__docgenInfo={description:"",methods:[],displayName:"IESType",props:{backgroundColor:{required:!0,tsType:{name:"string"},description:""},borderColor:{required:!0,tsType:{name:"string"},description:""},color:{required:!0,tsType:{name:"string"},description:""},iconClass:{required:!0,tsType:{name:"string"},description:""},role:{defaultValue:{value:'"img"',computed:!1},required:!1}}};const yN=({fullName:n,children:e})=>Je(qo,{container:!0,children:[Q(Un,{sx:{width:"100%"},marginBottom:2,children:Q(Mk,{variant:"h4",children:"User Status"})}),Je(qo,{container:!0,columns:6,alignItems:"center",children:[Q(qo,{item:!0,xs:1,children:Q(ak,{variant:"circular-outlined",sx:{width:32,height:32},children:Q(Pk,{color:"primary"})})}),Q(qo,{item:!0,xs:5,children:Q(_a,{variant:"subtitle1",children:n})})]}),Je(qo,{container:!0,columns:6,children:[Q(qo,{item:!0,xs:1}),Q(qo,{item:!0,xs:5,children:e})]})]});yN.__docgenInfo={description:"",methods:[],displayName:"UserStatus",props:{fullName:{required:!0,tsType:{name:"string"},description:""}}};const _N=({onClick:n,faIcon:e,id:t,icon:i,value:r,selected:s=!1})=>{const o=i,a=er();return Je(I0,{onClick:()=>n(r),id:t,selected:s,sx:{display:"flex",alignItems:"center",marginX:1,borderRadius:"4px",border:"1px solid rgba(0, 0, 0, 0)","&.Mui-selected.Mui-selected":{backgroundColor:a.palette.mode==="dark"?a.palette.background.default:"rgba(0, 0, 0, 0.04)"},"&.Mui-selected.Mui-selected:hover":{backgroundColor:a.palette.mode==="dark"?a.palette.background.default:"rgba(0, 0, 0, 0.04)"},"&:hover":{backgroundColor:a.palette.mode==="dark"?a.palette.background.default:"rgba(0, 0, 0, 0.04)",border:`1px solid ${a.palette.primary.main}`}},children:[(o||e)&&Je(L0,{children:[o&&Q(o,{color:s?"primary":"inherit"}),e&&Q(Xr,{icon:e,fontSize:"medium",color:s?a.palette.primary.main:"white"})]}),Q(hd,{children:Q(vs,{variant:"h1",sx:{marginTop:.5,fontFamily:"Figtree",fontSize:16,fontWeight:400,color:`${s?a.palette.primary.main:"primary"}`,display:"flex",alignItems:"center"},children:r})})]})},vN=({ariaLabel:n,id:e,menuItems:t})=>{const[i,r]=ce.useState(null),[s,o]=ce.useState(t.find(d=>d.default)??t[0]),a=er(),u=!!i,c=d=>{r(d.currentTarget)},f=()=>{r(null)};return Je(vo,{children:[Je(_o,{"aria-label":n,"aria-controls":u?e:void 0,"aria-haspopup":"true",sx:{border:0,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.08)"}},"aria-expanded":u?"true":void 0,onClick:c,color:"primary",children:[s.icon&&Q(s.icon,{color:"primary",className:"mr-2"}),s.faIcon&&Q(Xr,{icon:s.faIcon,fontSize:"medium",color:a.palette.primary.main??"white",className:"mr-2"}),Q(E0,{})]}),Q(Qw,{id:e,anchorEl:i,open:u,transformOrigin:{vertical:-20,horizontal:"left"},onClose:f,MenuListProps:{"aria-labelledby":e},sx:{"& .MuiPaper-root":{backgroundColor:a.palette.mode==="dark"?"#2A2A2A":"#ffffff"}},children:t.map((d,g)=>Q(_N,{id:`${e}-item-${g}`,onClick:()=>{d.onClick(d.value),o(d),f()},icon:d==null?void 0:d.icon,faIcon:d==null?void 0:d.faIcon,value:d.value,selected:d.value===s.value},`${e}-item-${g}`))})]})};vN.__docgenInfo={description:"",methods:[],displayName:"DropdownButton",props:{ariaLabel:{required:!0,tsType:{name:"string"},description:""},id:{required:!0,tsType:{name:"string"},description:""},menuItems:{required:!0,tsType:{name:"Array",elements:[{name:"DropDownButtonMenuItemProps"}],raw:"DropDownButtonMenuItemProps[]"},description:""}}};const xN=Ln(oE)({border:0}),bN=({tooltip:n,onClick:e,selected:t,children:i,...r})=>Q(k0,{title:n??"",placement:"bottom",PopperProps:{modifiers:[{name:"offset",options:{offset:[0,-10]}}]},children:Q(xN,{color:"primary",onClick:e,selected:t,...r,children:i})});bN.__docgenInfo={description:"",methods:[],displayName:"TooltipToggleButton",props:{tooltip:{required:!1,tsType:{name:"string"},description:"Tooltip text"}},composes:["Omit"]};const wN=({value:n,onSave:e,error:t,errorText:i,helperText:r,label:s,fullWidth:o,...a})=>{const[u,c]=ce.useState(!1),[f,d]=ce.useState(n??""),g=er(),m=()=>c(!0),y=()=>{e(f),c(!1)},v=()=>{d(n),c(!1)};return Q(Un,{display:"flex",alignItems:"center",gap:1,children:u||n===""?Je(vo,{direction:"row",alignItems:"baseline",gap:1,children:[Q(xk,{autoFocus:!0,label:s,value:f,onChange:x=>d(x.target.value),error:t,helperText:t?i:r,fullWidth:o,...a}),Q(_o,{onClick:y,size:"small",children:Q($k,{sx:{color:g.palette.primary.main,lineHeight:"inherit"}})}),Q(_o,{onClick:v,size:"small",children:Q(Bk,{sx:{color:g.palette.primary.main,lineHeight:"inherit"}})})]}):Je(vo,{direction:"column",children:[s&&Je(_a,{sx:{fontWeight:"bold"},children:[s,":"]}),Je(vo,{direction:"row",alignItems:"center",gap:1,children:[Q(vs,{children:n}),Q(_o,{onClick:m,size:"small",children:Q(Gk,{fontSize:"inherit"})})]})]})})};wN.__docgenInfo={description:"",methods:[],displayName:"EditableTextField",props:{value:{required:!0,tsType:{name:"string"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},errorText:{required:!1,tsType:{name:"string"},description:""},fullWidth:{required:!1,tsType:{name:"boolean"},description:""}}};const EN=({label:n,value:e,id:t,options:i,width:r,onChange:s,disabled:o=!1,sx:a,...u})=>(er(),Je(Ek,{sx:{minWidth:88,width:r},size:"small",children:[n&&Q(bk,{id:t,sx:{},children:n}),Q(wk,{...u,color:"primary",variant:"outlined",labelId:t,label:n,id:t,value:e,disabled:o,onChange:s,size:"small",children:i.map(c=>Q(I0,{color:"primary",value:c.value,disableRipple:!0,children:c.label},c==null?void 0:c.value))})]}));EN.__docgenInfo={description:"",methods:[],displayName:"Select",props:{options:{required:!0,tsType:{name:"Array",elements:[{name:"Options"}],raw:"Options[]"},description:""},width:{required:!1,tsType:{name:"number"},description:""},disabled:{defaultValue:{value:"false",computed:!1},required:!1}}};const CN=({checked:n,id:e,name:t,label:i,required:r=!1,...s})=>(er(),i?Q(GO,{required:r,control:Q(Vx,{checked:n,id:e,name:t,...s,color:"primary"}),label:i}):Q(Vx,{checked:n,id:e,name:t,...s,color:"primary"}));CN.__docgenInfo={description:"",methods:[],displayName:"Checkbox",props:{label:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}},composes:["CheckboxProps"]};const SN=({text:n,successMsg:e="Copied!",title:t="copy to clipboard",ariaLabel:i="copy to clipboard",testFailure:r=!1,sx:s})=>{const[o,a]=ce.useState(w1),[u,c]=ce.useState(e),[f,d]=ce.useState(!1),g=er(),m=()=>{d(!1)},y=async()=>{try{if(r)throw new Error("Simulated clipboard failure");await navigator.clipboard.writeText(n),d(!0),a(lk),c(e),setTimeout(()=>{a(w1),d(!1)},1500)}catch(v){const x=v instanceof Error?v.message:"Clipboard write failed";c(x),d(!0)}};return Q(k0,{title:u,onClose:m,open:f,leaveDelay:1400,arrow:!0,placement:"right",componentsProps:{tooltip:{sx:{bgcolor:u!==e?g.palette.error.main:void 0,[`& .${xs.arrow}`]:{color:u!==e?g.palette.error.main:void 0},fontSize:"0.75rem"}}},children:Q(Wl,{style:"base",onClick:y,title:t,"aria-label":i,sx:{color:g.palette.primary.main,padding:.5,borderRadius:1,...s},children:Q(Xr,{icon:o})})})};SN.__docgenInfo={description:"",methods:[],displayName:"CopyToClipboard",props:{style:{required:!1,tsType:{name:"String"},description:""},text:{required:!0,tsType:{name:"string"},description:""},successMsg:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Copied!"',computed:!1}},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"copy to clipboard"',computed:!1}},ariaLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"copy to clipboard"',computed:!1}},testFailure:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const TN=Nk("div")({position:"relative",width:360}),RN=ce.forwardRef(function(e,t){const{endIcon:i,error:r,id:s,loading:o,name:a,placeholder:u,progressProps:c,renderOption:f,onSearch:d,onKeyDown:g,freeSolo:m=!0,...y}=e,v=Kr(),{getRootProps:x,getInputProps:C,getListboxProps:E,getOptionProps:S,popupOpen:R,anchorEl:T,setAnchorEl:F,groupedOptions:O}=Zk({freeSolo:m,...y}),N=ad(t,F);return Je("div",{children:[Q(Ck,{ref:N,slotProps:{root:{...x()}},inputProps:C(),size:"small",type:"search",sx:{width:360},id:s,onKeyDown:g,name:a,error:r,endAdornment:Q(x0,{children:Je(vo,{direction:"row",spacing:.5,children:[o?Q(wO,{id:"loading",size:"20px",...c}):Q(_o,{size:"small",onClick:d,"aria-label":"search",children:Q(Y0,{fontSize:"inherit"})}),i]})}),placeholder:u||"Search"}),T&&Q(T0,{open:R,anchorEl:T,slots:{root:TN},children:O.length>0?Q(A0,{elevation:3,sx:{backgroundColor:v.palette.mode==="dark"?"#2A2A2A":"#eee",backgroundImage:"none",width:360,padding:2,marginTop:1},children:Q(vo,{rowGap:1,children:Q(Lk,{sx:{maxHeight:400,overflow:"auto"},...E(),children:O.map((M,W)=>{const B=S({option:M,index:W});if(f)return f(B,M);const{key:z,...V}=B;return Q(R0,{disablePadding:!0,...V,children:Q(M0,{onClick:Z=>{d&&d(Z)},children:Je(vo,{direction:"row",columnGap:1,alignItems:"center",children:[M.isRecentSearch?Q(Xr,{icon:uk}):null,Q(hd,{primary:M.label})]})})},`${z}-${W}`)})})})}):null})]})});RN.__docgenInfo={description:"",methods:[],displayName:"MiniSearchAutocomplete",props:{endIcon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Element placed after the search icon"},error:{required:!1,tsType:{name:"boolean"},description:"If `true`, the `input` will indicate an error."},id:{required:!1,tsType:{name:"string"},description:"The id of the `input` element."},loading:{required:!1,tsType:{name:"boolean"},description:"If true, a loading indicator will be visible."},name:{required:!1,tsType:{name:"string"},description:"Name attribute of the input element."},placeholder:{required:!1,tsType:{name:"string"},description:"The short hint displayed in the input before the user enters a value."},progressProps:{required:!1,tsType:{name:"ProgressProps"},description:`Props which will be applied to the circular progress indicator when loading
is set to true`},renderOption:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  props: React.HTMLAttributes<HTMLLIElement> & {
    key: any;
  },
  option: Value
) => React.ReactNode`,signature:{arguments:[{type:{name:"intersection",raw:`React.HTMLAttributes<HTMLLIElement> & {
  key: any;
}`,elements:[{name:"ReactHTMLAttributes",raw:"React.HTMLAttributes<HTMLLIElement>",elements:[{name:"HTMLLIElement"}]},{name:"signature",type:"object",raw:`{
  key: any;
}`,signature:{properties:[{key:"key",value:{name:"any",required:!0}}]}}]},name:"props"},{type:{name:"Value"},name:"option"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:`Render the option
@param props The props to apply on the li element.
@param option The option to render.
@returns`},onSearch:{required:!1,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLElement>",elements:[{name:"HTMLElement"}]},description:"Callback fired when the search button is clicked\n\n`(event: React.MouseEvent<HTMLButtonElement>) => void;`"},onKeyDown:{required:!1,tsType:{name:"ReactKeyboardEventHandler",raw:"React.KeyboardEventHandler<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},description:"Callback fired when the a key is pressed\n\n`(event: React.KeyboardEvent<HTMLButtonElement>) => void;`"}},composes:["UseAutocompleteProps"]};const sC=ce.forwardRef((n,e)=>Q(tE,{variant:"contained",ref:e,color:"primary",...n,children:n.children}));sC.__docgenInfo={description:"",methods:[],displayName:"PrimaryButton"};const IN=({autoFocus:n=!1,placeholder:e="Search",inputRef:t,name:i,value:r,onBlur:s,onChange:o,onSearch:a})=>Je(Un,{id:"search-box",height:44,width:600,display:"flex",alignItems:"center",component:"form",onSubmit:a,children:[Q(Sk,{id:"search-box-input",type:"search",sx:{height:"100%",width:"100%",borderWidth:1,borderRightWidth:0,borderColor:"#6D6D6D",borderStyle:"solid",borderTopLeftRadius:4,borderBottomLeftRadius:4},inputProps:{sx:{paddingInline:1.5}},ref:t,autoFocus:n,placeholder:e,onBlur:s,onChange:o,value:r,name:i}),Q(sC,{id:"search-box-button","aria-label":"search",type:"submit",sx:{borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:4,borderBottomRightRadius:4,height:"100%"},disableElevation:!0,children:Q(Y0,{size:"xl"})})]});IN.__docgenInfo={description:"",methods:[],displayName:"SearchBox",props:{autoFocus:{required:!1,tsType:{name:"boolean"},description:"If true, the input element is focused during the first mount.",defaultValue:{value:"false",computed:!1}},inputRef:{required:!1,tsType:{name:"union",raw:"React.ForwardedRef<HTMLInputElement> | React.RefObject<HTMLInputElement>",elements:[{name:"ReactForwardedRef",raw:"React.ForwardedRef<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},{name:"ReactRefObject",raw:"React.RefObject<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]}]},description:"Pass a ref to the input element."},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.FocusEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactFocusEvent",raw:"React.FocusEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:`Callback fired when the input looses focus (i.e. blurred).
Notice that the first argument (event) might be undefined.
@param event
@returns void`},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:`Callback fired when the value is changed.
@param event The event source of the callback. You can pull out the new value by accessing event.target.value (string).
@returns void`},onSearch:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.MouseEvent<HTMLFormElement>) => void",signature:{arguments:[{type:{name:"ReactMouseEvent",raw:"React.MouseEvent<HTMLFormElement>",elements:[{name:"HTMLFormElement"}]},name:"event"}],return:{name:"void"}}},description:`Callback fired when the search button is clicked.
@param event
@returns`},name:{required:!1,tsType:{name:'InputBaseProps["name"]',raw:'InputBaseProps["name"]'},description:"Name attribute of the input element."},placeholder:{required:!1,tsType:{name:'InputBaseProps["placeholder"]',raw:'InputBaseProps["placeholder"]'},description:"The short hint displayed in the input before the user enters a value.",defaultValue:{value:'"Search"',computed:!1}},value:{required:!1,tsType:{name:"Value"},description:"The value of the input element, required for a controlled component."}}};var xd={exports:{}},oC={};function aC(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=aC(n[e]))&&(i&&(i+=" "),i+=t);else for(e in n)n[e]&&(i&&(i+=" "),i+=e);return i}function E1(){for(var n,e,t=0,i="";t<arguments.length;)(n=arguments[t++])&&(e=aC(n))&&(i&&(i+=" "),i+=e);return i}const AN=Object.freeze(Object.defineProperty({__proto__:null,clsx:E1,default:E1},Symbol.toStringTag,{value:"Module"})),PN=sk(AN);var xn={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});Jr.dontSetMe=FN;Jr.findInArray=MN;Jr.int=ON;Jr.isFunction=LN;Jr.isNum=kN;function MN(n,e){for(let t=0,i=n.length;t<i;t++)if(e.apply(e,[n[t],t,n]))return n[t]}function LN(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"}function kN(n){return typeof n=="number"&&!isNaN(n)}function ON(n){return parseInt(n,10)}function FN(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))}var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});Ia.browserPrefixToKey=uC;Ia.browserPrefixToStyle=DN;Ia.default=void 0;Ia.getPrefix=lC;const Rg=["Moz","Webkit","O","ms"];function lC(){var n;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const t=(n=window.document)===null||n===void 0||(n=n.documentElement)===null||n===void 0?void 0:n.style;if(!t||e in t)return"";for(let i=0;i<Rg.length;i++)if(uC(e,Rg[i])in t)return Rg[i];return""}function uC(n,e){return e?"".concat(e).concat(NN(n)):n}function DN(n,e){return e?"-".concat(e.toLowerCase(),"-").concat(n):n}function NN(n){let e="",t=!0;for(let i=0;i<n.length;i++)t?(e+=n[i].toUpperCase(),t=!1):n[i]==="-"?t=!0:e+=n[i];return e}Ia.default=lC();Object.defineProperty(xn,"__esModule",{value:!0});xn.addClassName=fC;xn.addEvent=BN;xn.addUserSelectStyles=ZN;xn.createCSSTransform=HN;xn.createSVGTransform=XN;xn.getTouch=YN;xn.getTouchIdentifier=KN;xn.getTranslation=K0;xn.innerHeight=UN;xn.innerWidth=jN;xn.matchesSelector=hC;xn.matchesSelectorAndParentsTo=$N;xn.offsetXYFromParent=VN;xn.outerHeight=WN;xn.outerWidth=qN;xn.removeClassName=dC;xn.removeEvent=GN;xn.removeUserSelectStyles=JN;var Oi=Jr,C1=zN(Ia);function cC(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(cC=function(i){return i?t:e})(n)}function zN(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=cC(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=r?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}let Bh="";function hC(n,e){return Bh||(Bh=(0,Oi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,Oi.isFunction)(n[t])})),(0,Oi.isFunction)(n[Bh])?n[Bh](e):!1}function $N(n,e,t){let i=n;do{if(hC(i,e))return!0;if(i===t)return!1;i=i.parentNode}while(i);return!1}function BN(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.addEventListener?n.addEventListener(e,t,r):n.attachEvent?n.attachEvent("on"+e,t):n["on"+e]=t}function GN(n,e,t,i){if(!n)return;const r={capture:!0,...i};n.removeEventListener?n.removeEventListener(e,t,r):n.detachEvent?n.detachEvent("on"+e,t):n["on"+e]=null}function WN(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Oi.int)(t.borderTopWidth),e+=(0,Oi.int)(t.borderBottomWidth),e}function qN(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e+=(0,Oi.int)(t.borderLeftWidth),e+=(0,Oi.int)(t.borderRightWidth),e}function UN(n){let e=n.clientHeight;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Oi.int)(t.paddingTop),e-=(0,Oi.int)(t.paddingBottom),e}function jN(n){let e=n.clientWidth;const t=n.ownerDocument.defaultView.getComputedStyle(n);return e-=(0,Oi.int)(t.paddingLeft),e-=(0,Oi.int)(t.paddingRight),e}function VN(n,e,t){const r=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),s=(n.clientX+e.scrollLeft-r.left)/t,o=(n.clientY+e.scrollTop-r.top)/t;return{x:s,y:o}}function HN(n,e){const t=K0(n,e,"px");return{[(0,C1.browserPrefixToKey)("transform",C1.default)]:t}}function XN(n,e){return K0(n,e,"")}function K0(n,e,t){let{x:i,y:r}=n,s="translate(".concat(i).concat(t,",").concat(r).concat(t,")");if(e){const o="".concat(typeof e.x=="string"?e.x:e.x+t),a="".concat(typeof e.y=="string"?e.y:e.y+t);s="translate(".concat(o,", ").concat(a,")")+s}return s}function YN(n,e){return n.targetTouches&&(0,Oi.findInArray)(n.targetTouches,t=>e===t.identifier)||n.changedTouches&&(0,Oi.findInArray)(n.changedTouches,t=>e===t.identifier)}function KN(n){if(n.targetTouches&&n.targetTouches[0])return n.targetTouches[0].identifier;if(n.changedTouches&&n.changedTouches[0])return n.changedTouches[0].identifier}function ZN(n){if(!n)return;let e=n.getElementById("react-draggable-style-el");e||(e=n.createElement("style"),e.type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,n.getElementsByTagName("head")[0].appendChild(e)),n.body&&fC(n.body,"react-draggable-transparent-selection")}function JN(n){if(n)try{if(n.body&&dC(n.body,"react-draggable-transparent-selection"),n.selection)n.selection.empty();else{const e=(n.defaultView||window).getSelection();e&&e.type!=="Caret"&&e.removeAllRanges()}}catch{}}function fC(n,e){n.classList?n.classList.add(e):n.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(n.className+=" ".concat(e))}function dC(n,e){n.classList?n.classList.remove(e):n.className=n.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.canDragX=tz;Qr.canDragY=nz;Qr.createCoreData=rz;Qr.createDraggableData=sz;Qr.getBoundPosition=QN;Qr.getControlPosition=iz;Qr.snapToGrid=ez;var Ii=Jr,fl=xn;function QN(n,e,t){if(!n.props.bounds)return[e,t];let{bounds:i}=n.props;i=typeof i=="string"?i:oz(i);const r=Z0(n);if(typeof i=="string"){const{ownerDocument:s}=r,o=s.defaultView;let a;if(i==="parent"?a=r.parentNode:a=s.querySelector(i),!(a instanceof o.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const u=a,c=o.getComputedStyle(r),f=o.getComputedStyle(u);i={left:-r.offsetLeft+(0,Ii.int)(f.paddingLeft)+(0,Ii.int)(c.marginLeft),top:-r.offsetTop+(0,Ii.int)(f.paddingTop)+(0,Ii.int)(c.marginTop),right:(0,fl.innerWidth)(u)-(0,fl.outerWidth)(r)-r.offsetLeft+(0,Ii.int)(f.paddingRight)-(0,Ii.int)(c.marginRight),bottom:(0,fl.innerHeight)(u)-(0,fl.outerHeight)(r)-r.offsetTop+(0,Ii.int)(f.paddingBottom)-(0,Ii.int)(c.marginBottom)}}return(0,Ii.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,Ii.isNum)(i.bottom)&&(t=Math.min(t,i.bottom)),(0,Ii.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,Ii.isNum)(i.top)&&(t=Math.max(t,i.top)),[e,t]}function ez(n,e,t){const i=Math.round(e/n[0])*n[0],r=Math.round(t/n[1])*n[1];return[i,r]}function tz(n){return n.props.axis==="both"||n.props.axis==="x"}function nz(n){return n.props.axis==="both"||n.props.axis==="y"}function iz(n,e,t){const i=typeof e=="number"?(0,fl.getTouch)(n,e):null;if(typeof e=="number"&&!i)return null;const r=Z0(t),s=t.props.offsetParent||r.offsetParent||r.ownerDocument.body;return(0,fl.offsetXYFromParent)(i||n,s,t.props.scale)}function rz(n,e,t){const i=!(0,Ii.isNum)(n.lastX),r=Z0(n);return i?{node:r,deltaX:0,deltaY:0,lastX:e,lastY:t,x:e,y:t}:{node:r,deltaX:e-n.lastX,deltaY:t-n.lastY,lastX:n.lastX,lastY:n.lastY,x:e,y:t}}function sz(n,e){const t=n.props.scale;return{node:e.node,x:n.state.x+e.deltaX/t,y:n.state.y+e.deltaY/t,deltaX:e.deltaX/t,deltaY:e.deltaY/t,lastX:n.state.x,lastY:n.state.y}}function oz(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom}}function Z0(n){const e=n.findDOMNode();if(!e)throw new Error("<DraggableCore>: Unmounted during event!");return e}var bd={},wd={};Object.defineProperty(wd,"__esModule",{value:!0});wd.default=az;function az(){}Object.defineProperty(bd,"__esModule",{value:!0});bd.default=void 0;var Ig=uz(ce),mi=J0(nE),lz=J0(ud),Zn=xn,Vs=Qr,Ag=Jr,_u=J0(wd);function J0(n){return n&&n.__esModule?n:{default:n}}function pC(n){if(typeof WeakMap!="function")return null;var e=new WeakMap,t=new WeakMap;return(pC=function(i){return i?t:e})(n)}function uz(n,e){if(n&&n.__esModule)return n;if(n===null||typeof n!="object"&&typeof n!="function")return{default:n};var t=pC(e);if(t&&t.has(n))return t.get(n);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(s!=="default"&&Object.prototype.hasOwnProperty.call(n,s)){var o=r?Object.getOwnPropertyDescriptor(n,s):null;o&&(o.get||o.set)?Object.defineProperty(i,s,o):i[s]=n[s]}return i.default=n,t&&t.set(n,i),i}function ri(n,e,t){return e=cz(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function cz(n){var e=hz(n,"string");return typeof e=="symbol"?e:String(e)}function hz(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}const cr={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Hs=cr.mouse,Ed=class extends Ig.Component{constructor(){super(...arguments),ri(this,"dragging",!1),ri(this,"lastX",NaN),ri(this,"lastY",NaN),ri(this,"touchIdentifier",null),ri(this,"mounted",!1),ri(this,"handleDragStart",e=>{if(this.props.onMouseDown(e),!this.props.allowAnyClick&&typeof e.button=="number"&&e.button!==0)return!1;const t=this.findDOMNode();if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=t;if(this.props.disabled||!(e.target instanceof i.defaultView.Node)||this.props.handle&&!(0,Zn.matchesSelectorAndParentsTo)(e.target,this.props.handle,t)||this.props.cancel&&(0,Zn.matchesSelectorAndParentsTo)(e.target,this.props.cancel,t))return;e.type==="touchstart"&&e.preventDefault();const r=(0,Zn.getTouchIdentifier)(e);this.touchIdentifier=r;const s=(0,Vs.getControlPosition)(e,r,this);if(s==null)return;const{x:o,y:a}=s,u=(0,Vs.createCoreData)(this,o,a);(0,_u.default)("DraggableCore: handleDragStart: %j",u),(0,_u.default)("calling",this.props.onStart),!(this.props.onStart(e,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Zn.addUserSelectStyles)(i),this.dragging=!0,this.lastX=o,this.lastY=a,(0,Zn.addEvent)(i,Hs.move,this.handleDrag),(0,Zn.addEvent)(i,Hs.stop,this.handleDragStop))}),ri(this,"handleDrag",e=>{const t=(0,Vs.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let a=i-this.lastX,u=r-this.lastY;if([a,u]=(0,Vs.snapToGrid)(this.props.grid,a,u),!a&&!u)return;i=this.lastX+a,r=this.lastY+u}const s=(0,Vs.createCoreData)(this,i,r);if((0,_u.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(e,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=i,this.lastY=r}),ri(this,"handleDragStop",e=>{if(!this.dragging)return;const t=(0,Vs.getControlPosition)(e,this.touchIdentifier,this);if(t==null)return;let{x:i,y:r}=t;if(Array.isArray(this.props.grid)){let u=i-this.lastX||0,c=r-this.lastY||0;[u,c]=(0,Vs.snapToGrid)(this.props.grid,u,c),i=this.lastX+u,r=this.lastY+c}const s=(0,Vs.createCoreData)(this,i,r);if(this.props.onStop(e,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(a.ownerDocument),(0,_u.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,_u.default)("DraggableCore: Removing handlers"),(0,Zn.removeEvent)(a.ownerDocument,Hs.move,this.handleDrag),(0,Zn.removeEvent)(a.ownerDocument,Hs.stop,this.handleDragStop))}),ri(this,"onMouseDown",e=>(Hs=cr.mouse,this.handleDragStart(e))),ri(this,"onMouseUp",e=>(Hs=cr.mouse,this.handleDragStop(e))),ri(this,"onTouchStart",e=>(Hs=cr.touch,this.handleDragStart(e))),ri(this,"onTouchEnd",e=>(Hs=cr.touch,this.handleDragStop(e)))}componentDidMount(){this.mounted=!0;const e=this.findDOMNode();e&&(0,Zn.addEvent)(e,cr.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const e=this.findDOMNode();if(e){const{ownerDocument:t}=e;(0,Zn.removeEvent)(t,cr.mouse.move,this.handleDrag),(0,Zn.removeEvent)(t,cr.touch.move,this.handleDrag),(0,Zn.removeEvent)(t,cr.mouse.stop,this.handleDragStop),(0,Zn.removeEvent)(t,cr.touch.stop,this.handleDragStop),(0,Zn.removeEvent)(e,cr.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Zn.removeUserSelectStyles)(t)}}findDOMNode(){var e,t;return(e=this.props)!==null&&e!==void 0&&e.nodeRef?(t=this.props)===null||t===void 0||(t=t.nodeRef)===null||t===void 0?void 0:t.current:lz.default.findDOMNode(this)}render(){return Ig.cloneElement(Ig.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};bd.default=Ed;ri(Ed,"displayName","DraggableCore");ri(Ed,"propTypes",{allowAnyClick:mi.default.bool,children:mi.default.node.isRequired,disabled:mi.default.bool,enableUserSelectHack:mi.default.bool,offsetParent:function(n,e){if(n[e]&&n[e].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:mi.default.arrayOf(mi.default.number),handle:mi.default.string,cancel:mi.default.string,nodeRef:mi.default.object,onStart:mi.default.func,onDrag:mi.default.func,onStop:mi.default.func,onMouseDown:mi.default.func,scale:mi.default.number,className:Ag.dontSetMe,style:Ag.dontSetMe,transform:Ag.dontSetMe});ri(Ed,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),n.default=void 0;var e=g(ce),t=f(nE),i=f(ud),r=f(PN),s=xn,o=Qr,a=Jr,u=f(bd),c=f(wd);function f(E){return E&&E.__esModule?E:{default:E}}function d(E){if(typeof WeakMap!="function")return null;var S=new WeakMap,R=new WeakMap;return(d=function(T){return T?R:S})(E)}function g(E,S){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var R=d(S);if(R&&R.has(E))return R.get(E);var T={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var O in E)if(O!=="default"&&Object.prototype.hasOwnProperty.call(E,O)){var N=F?Object.getOwnPropertyDescriptor(E,O):null;N&&(N.get||N.set)?Object.defineProperty(T,O,N):T[O]=E[O]}return T.default=E,R&&R.set(E,T),T}function m(){return m=Object.assign?Object.assign.bind():function(E){for(var S=1;S<arguments.length;S++){var R=arguments[S];for(var T in R)Object.prototype.hasOwnProperty.call(R,T)&&(E[T]=R[T])}return E},m.apply(this,arguments)}function y(E,S,R){return S=v(S),S in E?Object.defineProperty(E,S,{value:R,enumerable:!0,configurable:!0,writable:!0}):E[S]=R,E}function v(E){var S=x(E,"string");return typeof S=="symbol"?S:String(S)}function x(E,S){if(typeof E!="object"||E===null)return E;var R=E[Symbol.toPrimitive];if(R!==void 0){var T=R.call(E,S);if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(S==="string"?String:Number)(E)}class C extends e.Component{static getDerivedStateFromProps(S,R){let{position:T}=S,{prevPropsPosition:F}=R;return T&&(!F||T.x!==F.x||T.y!==F.y)?((0,c.default)("Draggable: getDerivedStateFromProps %j",{position:T,prevPropsPosition:F}),{x:T.x,y:T.y,prevPropsPosition:{...T}}):null}constructor(S){super(S),y(this,"onDragStart",(R,T)=>{if((0,c.default)("Draggable: onDragStart: %j",T),this.props.onStart(R,(0,o.createDraggableData)(this,T))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),y(this,"onDrag",(R,T)=>{if(!this.state.dragging)return!1;(0,c.default)("Draggable: onDrag: %j",T);const F=(0,o.createDraggableData)(this,T),O={x:F.x,y:F.y,slackX:0,slackY:0};if(this.props.bounds){const{x:M,y:W}=O;O.x+=this.state.slackX,O.y+=this.state.slackY;const[B,z]=(0,o.getBoundPosition)(this,O.x,O.y);O.x=B,O.y=z,O.slackX=this.state.slackX+(M-O.x),O.slackY=this.state.slackY+(W-O.y),F.x=O.x,F.y=O.y,F.deltaX=O.x-this.state.x,F.deltaY=O.y-this.state.y}if(this.props.onDrag(R,F)===!1)return!1;this.setState(O)}),y(this,"onDragStop",(R,T)=>{if(!this.state.dragging||this.props.onStop(R,(0,o.createDraggableData)(this,T))===!1)return!1;(0,c.default)("Draggable: onDragStop: %j",T);const O={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:M,y:W}=this.props.position;O.x=M,O.y=W}this.setState(O)}),this.state={dragging:!1,dragged:!1,x:S.position?S.position.x:S.defaultPosition.x,y:S.position?S.position.y:S.defaultPosition.y,prevPropsPosition:{...S.position},slackX:0,slackY:0,isElementSVG:!1},S.position&&!(S.onDrag||S.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var S,R;return(S=(R=this.props)===null||R===void 0||(R=R.nodeRef)===null||R===void 0?void 0:R.current)!==null&&S!==void 0?S:i.default.findDOMNode(this)}render(){const{axis:S,bounds:R,children:T,defaultPosition:F,defaultClassName:O,defaultClassNameDragging:N,defaultClassNameDragged:M,position:W,positionOffset:B,scale:z,...V}=this.props;let Z={},G=null;const q=!!!W||this.state.dragging,Y=W||F,te={x:(0,o.canDragX)(this)&&q?this.state.x:Y.x,y:(0,o.canDragY)(this)&&q?this.state.y:Y.y};this.state.isElementSVG?G=(0,s.createSVGTransform)(te,B):Z=(0,s.createCSSTransform)(te,B);const ne=(0,r.default)(T.props.className||"",O,{[N]:this.state.dragging,[M]:this.state.dragged});return e.createElement(u.default,m({},V,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),e.cloneElement(e.Children.only(T),{className:ne,style:{...T.props.style,...Z},transform:G}))}}n.default=C,y(C,"displayName","Draggable"),y(C,"propTypes",{...u.default.propTypes,axis:t.default.oneOf(["both","x","y","none"]),bounds:t.default.oneOfType([t.default.shape({left:t.default.number,right:t.default.number,top:t.default.number,bottom:t.default.number}),t.default.string,t.default.oneOf([!1])]),defaultClassName:t.default.string,defaultClassNameDragging:t.default.string,defaultClassNameDragged:t.default.string,defaultPosition:t.default.shape({x:t.default.number,y:t.default.number}),positionOffset:t.default.shape({x:t.default.oneOfType([t.default.number,t.default.string]),y:t.default.oneOfType([t.default.number,t.default.string])}),position:t.default.shape({x:t.default.number,y:t.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),y(C,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(oC);const{default:gC,DraggableCore:fz}=oC;xd.exports=gC;xd.exports.default=gC;xd.exports.DraggableCore=fz;var dz=xd.exports;const pz=b0(dz);var An=function(){return An=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},An.apply(this,arguments)},S1={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},T1={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},Gh={width:"20px",height:"20px",position:"absolute",zIndex:1},gz={top:An(An({},S1),{top:"-5px"}),right:An(An({},T1),{left:void 0,right:"-5px"}),bottom:An(An({},S1),{top:void 0,bottom:"-5px"}),left:An(An({},T1),{left:"-5px"}),topRight:An(An({},Gh),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:An(An({},Gh),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:An(An({},Gh),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:An(An({},Gh),{left:"-10px",top:"-10px",cursor:"nw-resize"})},mz=ce.memo(function(n){var e=n.onResizeStart,t=n.direction,i=n.children,r=n.replaceStyles,s=n.className,o=ce.useCallback(function(c){e(c,t)},[e,t]),a=ce.useCallback(function(c){e(c,t)},[e,t]),u=ce.useMemo(function(){return An(An({position:"absolute",userSelect:"none"},gz[t]),r??{})},[r,t]);return gt.jsx("div",{className:s||void 0,style:u,onMouseDown:o,onTouchStart:a,children:i})}),yz=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=r[s])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),kr=function(){return kr=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},kr.apply(this,arguments)},_z={width:"auto",height:"auto"},Wh=function(n,e,t){return Math.max(Math.min(n,t),e)},R1=function(n,e,t){var i=Math.round(n/e);return i*e+t*(i-1)},Ya=function(n,e){return new RegExp(n,"i").test(e)},qh=function(n){return!!(n.touches&&n.touches.length)},vz=function(n){return!!((n.clientX||n.clientX===0)&&(n.clientY||n.clientY===0))},I1=function(n,e,t){t===void 0&&(t=0);var i=e.reduce(function(s,o,a){return Math.abs(o-n)<Math.abs(e[s]-n)?a:s},0),r=Math.abs(e[i]-n);return t===0||r<t?e[i]:n},Pg=function(n){return n=n.toString(),n==="auto"||n.endsWith("px")||n.endsWith("%")||n.endsWith("vh")||n.endsWith("vw")||n.endsWith("vmax")||n.endsWith("vmin")?n:"".concat(n,"px")},Uh=function(n,e,t,i){if(n&&typeof n=="string"){if(n.endsWith("px"))return Number(n.replace("px",""));if(n.endsWith("%")){var r=Number(n.replace("%",""))/100;return e*r}if(n.endsWith("vw")){var r=Number(n.replace("vw",""))/100;return t*r}if(n.endsWith("vh")){var r=Number(n.replace("vh",""))/100;return i*r}}return n},xz=function(n,e,t,i,r,s,o){return i=Uh(i,n.width,e,t),r=Uh(r,n.height,e,t),s=Uh(s,n.width,e,t),o=Uh(o,n.height,e,t),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof r>"u"?void 0:Number(r),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof o>"u"?void 0:Number(o)}},bz=function(n){return Array.isArray(n)?n:[n,n]},wz=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],A1="__resizable_base__",Ez=function(n){yz(e,n);function e(t){var i,r,s,o,a=n.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.delta={width:0,height:0},a.appendBase=function(){if(!a.resizable||!a.window)return null;var u=a.parentNode;if(!u)return null;var c=a.window.document.createElement("div");return c.style.width="100%",c.style.height="100%",c.style.position="absolute",c.style.transform="scale(0, 0)",c.style.left="0",c.style.flex="0 0 100%",c.classList?c.classList.add(A1):c.className+=A1,u.appendChild(c),c},a.removeBase=function(u){var c=a.parentNode;c&&c.removeChild(u)},a.state={isResizing:!1,width:(r=(i=a.propsSize)===null||i===void 0?void 0:i.width)!==null&&r!==void 0?r:"auto",height:(o=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&o!==void 0?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||_z},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){var t=0,i=0;if(this.resizable&&this.window){var r=this.resizable.offsetWidth,s=this.resizable.offsetHeight,o=this.resizable.style.position;o!=="relative"&&(this.resizable.style.position="relative"),t=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:r,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=o}return{width:t,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeStyle",{get:function(){var t=this,i=this.props.size,r=function(a){var u;if(typeof t.state[a]>"u"||t.state[a]==="auto")return"auto";if(t.propsSize&&t.propsSize[a]&&(!((u=t.propsSize[a])===null||u===void 0)&&u.toString().endsWith("%"))){if(t.state[a].toString().endsWith("%"))return t.state[a].toString();var c=t.getParentSize(),f=Number(t.state[a].toString().replace("px","")),d=f/c[a]*100;return"".concat(d,"%")}return Pg(t.state[a])},s=i&&typeof i.width<"u"&&!this.state.isResizing?Pg(i.width):r("width"),o=i&&typeof i.height<"u"&&!this.state.isResizing?Pg(i.height):r("height");return{width:s,height:o}},enumerable:!1,configurable:!0}),e.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var t=this.appendBase();if(!t)return{width:0,height:0};var i=!1,r=this.parentNode.style.flexWrap;r!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),t.style.position="relative",t.style.minWidth="100%",t.style.minHeight="100%";var s={width:t.offsetWidth,height:t.offsetHeight};return i&&(this.parentNode.style.flexWrap=r),this.removeBase(t),s},e.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},e.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},e.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var t=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:t.flexBasis!=="auto"?t.flexBasis:void 0})}},e.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},e.prototype.createSizeForCssProperty=function(t,i){var r=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===t&&(typeof r>"u"||r==="auto")?"auto":t},e.prototype.calculateNewMaxFromBoundary=function(t,i){var r=this.props.boundsByDirection,s=this.state.direction,o=r&&Ya("left",s),a=r&&Ya("top",s),u,c;if(this.props.bounds==="parent"){var f=this.parentNode;f&&(u=o?this.resizableRight-this.parentLeft:f.offsetWidth+(this.parentLeft-this.resizableLeft),c=a?this.resizableBottom-this.parentTop:f.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(u=o?this.resizableRight:this.window.innerWidth-this.resizableLeft,c=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(u=o?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),c=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return u&&Number.isFinite(u)&&(t=t&&t<u?t:u),c&&Number.isFinite(c)&&(i=i&&i<c?i:c),{maxWidth:t,maxHeight:i}},e.prototype.calculateNewSizeFromDirection=function(t,i){var r=this.props.scale||1,s=bz(this.props.resizeRatio||1),o=s[0],a=s[1],u=this.state,c=u.direction,f=u.original,d=this.props,g=d.lockAspectRatio,m=d.lockAspectRatioExtraHeight,y=d.lockAspectRatioExtraWidth,v=f.width,x=f.height,C=m||0,E=y||0;return Ya("right",c)&&(v=f.width+(t-f.x)*o/r,g&&(x=(v-E)/this.ratio+C)),Ya("left",c)&&(v=f.width-(t-f.x)*o/r,g&&(x=(v-E)/this.ratio+C)),Ya("bottom",c)&&(x=f.height+(i-f.y)*a/r,g&&(v=(x-C)*this.ratio+E)),Ya("top",c)&&(x=f.height-(i-f.y)*a/r,g&&(v=(x-C)*this.ratio+E)),{newWidth:v,newHeight:x}},e.prototype.calculateNewSizeFromAspectRatio=function(t,i,r,s){var o=this.props,a=o.lockAspectRatio,u=o.lockAspectRatioExtraHeight,c=o.lockAspectRatioExtraWidth,f=typeof s.width>"u"?10:s.width,d=typeof r.width>"u"||r.width<0?t:r.width,g=typeof s.height>"u"?10:s.height,m=typeof r.height>"u"||r.height<0?i:r.height,y=u||0,v=c||0;if(a){var x=(g-y)*this.ratio+v,C=(m-y)*this.ratio+v,E=(f-v)/this.ratio+y,S=(d-v)/this.ratio+y,R=Math.max(f,x),T=Math.min(d,C),F=Math.max(g,E),O=Math.min(m,S);t=Wh(t,R,T),i=Wh(i,F,O)}else t=Wh(t,f,d),i=Wh(i,g,m);return{newWidth:t,newHeight:i}},e.prototype.setBoundingClientRect=function(){var t=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var r=i.getBoundingClientRect();this.parentLeft=r.left*t,this.parentTop=r.top*t}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*t,this.targetTop=s.top*t}if(this.resizable){var o=this.resizable.getBoundingClientRect(),a=o.left,u=o.top,c=o.right,f=o.bottom;this.resizableLeft=a*t,this.resizableRight=c*t,this.resizableTop=u*t,this.resizableBottom=f*t}},e.prototype.onResizeStart=function(t,i){if(!(!this.resizable||!this.window)){var r=0,s=0;if(t.nativeEvent&&vz(t.nativeEvent)?(r=t.nativeEvent.clientX,s=t.nativeEvent.clientY):t.nativeEvent&&qh(t.nativeEvent)&&(r=t.nativeEvent.touches[0].clientX,s=t.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var o=this.props.onResizeStart(t,i,this.resizable);if(o===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,u=this.window.getComputedStyle(this.resizable);if(u.flexBasis!=="auto"){var c=this.parentNode;if(c){var f=this.window.getComputedStyle(c).flexDirection;this.flexDir=f.startsWith("row")?"row":"column",a=u.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var d={original:{x:r,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:kr(kr({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(t.target).cursor||"auto"}),direction:i,flexBasis:a};this.setState(d)}},e.prototype.onMouseMove=function(t){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&qh(t))try{t.preventDefault(),t.stopPropagation()}catch{}var r=this.props,s=r.maxWidth,o=r.maxHeight,a=r.minWidth,u=r.minHeight,c=qh(t)?t.touches[0].clientX:t.clientX,f=qh(t)?t.touches[0].clientY:t.clientY,d=this.state,g=d.direction,m=d.original,y=d.width,v=d.height,x=this.getParentSize(),C=xz(x,this.window.innerWidth,this.window.innerHeight,s,o,a,u);s=C.maxWidth,o=C.maxHeight,a=C.minWidth,u=C.minHeight;var E=this.calculateNewSizeFromDirection(c,f),S=E.newHeight,R=E.newWidth,T=this.calculateNewMaxFromBoundary(s,o);this.props.snap&&this.props.snap.x&&(R=I1(R,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(S=I1(S,this.props.snap.y,this.props.snapGap));var F=this.calculateNewSizeFromAspectRatio(R,S,{width:T.maxWidth,height:T.maxHeight},{width:a,height:u});if(R=F.newWidth,S=F.newHeight,this.props.grid){var O=R1(R,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),N=R1(S,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),M=this.props.snapGap||0,W=M===0||Math.abs(O-R)<=M?O:R,B=M===0||Math.abs(N-S)<=M?N:S;R=W,S=B}var z={width:R-m.width,height:S-m.height};if(this.delta=z,y&&typeof y=="string"){if(y.endsWith("%")){var V=R/x.width*100;R="".concat(V,"%")}else if(y.endsWith("vw")){var Z=R/this.window.innerWidth*100;R="".concat(Z,"vw")}else if(y.endsWith("vh")){var G=R/this.window.innerHeight*100;R="".concat(G,"vh")}}if(v&&typeof v=="string"){if(v.endsWith("%")){var V=S/x.height*100;S="".concat(V,"%")}else if(v.endsWith("vw")){var Z=S/this.window.innerWidth*100;S="".concat(Z,"vw")}else if(v.endsWith("vh")){var G=S/this.window.innerHeight*100;S="".concat(G,"vh")}}var j={width:this.createSizeForCssProperty(R,"width"),height:this.createSizeForCssProperty(S,"height")};this.flexDir==="row"?j.flexBasis=j.width:this.flexDir==="column"&&(j.flexBasis=j.height);var q=this.state.width!==j.width,Y=this.state.height!==j.height,te=this.state.flexBasis!==j.flexBasis,ne=q||Y||te;ne&&ud.flushSync(function(){i.setState(j)}),this.props.onResize&&ne&&this.props.onResize(t,g,this.resizable,z)}},e.prototype.onMouseUp=function(t){var i,r,s=this.state,o=s.isResizing,a=s.direction;s.original,!(!o||!this.resizable)&&(this.props.onResizeStop&&this.props.onResizeStop(t,a,this.resizable,this.delta),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(r=this.props.size.height)!==null&&r!==void 0?r:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:kr(kr({},this.state.backgroundStyle),{cursor:"auto"})}))},e.prototype.updateSize=function(t){var i,r;this.setState({width:(i=t.width)!==null&&i!==void 0?i:"auto",height:(r=t.height)!==null&&r!==void 0?r:"auto"})},e.prototype.renderResizer=function(){var t=this,i=this.props,r=i.enable,s=i.handleStyles,o=i.handleClasses,a=i.handleWrapperStyle,u=i.handleWrapperClass,c=i.handleComponent;if(!r)return null;var f=Object.keys(r).map(function(d){return r[d]!==!1?gt.jsx(mz,{direction:d,onResizeStart:t.onResizeStart,replaceStyles:s&&s[d],className:o&&o[d],children:c&&c[d]?c[d]:null},d):null});return gt.jsx("div",{className:u,style:a,children:f})},e.prototype.render=function(){var t=this,i=Object.keys(this.props).reduce(function(o,a){return wz.indexOf(a)!==-1||(o[a]=t.props[a]),o},{}),r=kr(kr(kr({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(r.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return gt.jsxs(s,kr({style:r,className:this.props.className},i,{ref:function(o){o&&(t.resizable=o)},children:[this.state.isResizing&&gt.jsx("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer()]}))},e.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},e}(ce.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Om=function(n,e){return Om=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])},Om(n,e)};function Cz(n,e){Om(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Dn=function(){return Dn=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Dn.apply(this,arguments)};function Sz(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}var Tz={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Rz=function(n){return{bottom:n,bottomLeft:n,bottomRight:n,left:n,right:n,top:n,topLeft:n,topRight:n}},Iz=function(n){Cz(e,n);function e(t){var i=n.call(this,t)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return e.prototype.componentDidMount=function(){this.updateOffsetFromParent();var t=this.offsetFromParent,i=t.left,r=t.top,s=this.getDraggablePosition(),o=s.x,a=s.y;this.draggable.setState({x:o-i,y:a-r}),this.forceUpdate()},e.prototype.getDraggablePosition=function(){var t=this.draggable.state,i=t.x,r=t.y;return{x:i,y:r}},e.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},e.prototype.getParentSize=function(){return this.resizable.getParentSize()},e.prototype.getMaxSizesFromProps=function(){var t=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,i=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:t,maxHeight:i}},e.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},e.prototype.getOffsetHeight=function(t){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/i;case"body":return document.body.offsetHeight/i;default:return t.offsetHeight}},e.prototype.getOffsetWidth=function(t){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/i;case"body":return document.body.offsetWidth/i;default:return t.offsetWidth}},e.prototype.onDragStart=function(t,i){this.props.onDragStart&&this.props.onDragStart(t,i);var r=this.getDraggablePosition();if(this.originalPosition=r,!!this.props.bounds){var s=this.getParent(),o=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var u=s.getBoundingClientRect(),c=u.left,f=u.top,d=document.body.getBoundingClientRect(),g=-(c-s.offsetLeft*o-d.left)/o,m=-(f-s.offsetTop*o-d.top)/o,y=(document.body.offsetWidth-this.resizable.size.width*o)/o+g,v=(document.body.offsetHeight-this.resizable.size.height*o)/o+m;return this.setState({bounds:{top:m,right:y,bottom:v,left:g}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=s.getBoundingClientRect(),C=x.left,E=x.top,S=-(C-s.offsetLeft*o)/o,R=-(E-s.offsetTop*o)/o,y=(window.innerWidth-this.resizable.size.width*o)/o+S,v=(window.innerHeight-this.resizable.size.height*o)/o+R;return this.setState({bounds:{top:R,right:y,bottom:v,left:S}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var T=a.getBoundingClientRect(),F=T.left,O=T.top,N=s.getBoundingClientRect(),M=N.left,W=N.top,B=(F-M)/o,z=O-W;if(this.resizable){this.updateOffsetFromParent();var V=this.offsetFromParent;this.setState({bounds:{top:z-V.top,right:B+(a.offsetWidth-this.resizable.size.width)-V.left/o,bottom:z+(a.offsetHeight-this.resizable.size.height)-V.top,left:B-V.left/o}})}}}},e.prototype.onDrag=function(t,i){if(this.props.onDrag){var r=this.offsetFromParent,s=r.left,o=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(t,Dn(Dn({},i),{x:i.x+s,y:i.y+o}));if(this.props.dragAxis==="x")return this.props.onDrag(t,Dn(Dn({},i),{x:i.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(t,Dn(Dn({},i),{x:this.originalPosition.x+s,y:i.y+o,deltaX:0}))}},e.prototype.onDragStop=function(t,i){if(this.props.onDragStop){var r=this.offsetFromParent,s=r.left,o=r.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(t,Dn(Dn({},i),{x:i.x+s,y:i.y+o}));if(this.props.dragAxis==="x")return this.props.onDragStop(t,Dn(Dn({},i),{x:i.x+s,y:this.originalPosition.y+o,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(t,Dn(Dn({},i),{x:this.originalPosition.x+s,y:i.y+o,deltaX:0}))}},e.prototype.onResizeStart=function(t,i,r){t.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,o=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+o.left,y:a.y+o.top},this.originalPosition=a,this.props.bounds){var u=this.getParent(),c=void 0;this.props.bounds==="parent"?c=u:this.props.bounds==="body"?c=document.body:this.props.bounds==="window"?c=window:typeof this.props.bounds=="string"?c=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(c=this.props.bounds);var f=this.getSelfElement();if(f instanceof Element&&(c instanceof HTMLElement||c===window)&&u instanceof HTMLElement){var d=this.getMaxSizesFromProps(),g=d.maxWidth,m=d.maxHeight,y=this.getParentSize();if(g&&typeof g=="string")if(g.endsWith("%")){var v=Number(g.replace("%",""))/100;g=y.width*v}else g.endsWith("px")&&(g=Number(g.replace("px","")));if(m&&typeof m=="string")if(m.endsWith("%")){var v=Number(m.replace("%",""))/100;m=y.height*v}else m.endsWith("px")&&(m=Number(m.replace("px","")));var x=f.getBoundingClientRect(),C=x.left,E=x.top,S=this.props.bounds==="window"?{left:0,top:0}:c.getBoundingClientRect(),R=S.left,T=S.top,F=this.getOffsetWidth(c),O=this.getOffsetHeight(c),N=i.toLowerCase().endsWith("left"),M=i.toLowerCase().endsWith("right"),W=i.startsWith("top"),B=i.startsWith("bottom");if((N||W)&&this.resizable){var z=(C-R)/s+this.resizable.size.width;this.setState({maxWidth:z>Number(g)?g:z})}if(M||this.props.lockAspectRatio&&!N&&!W){var z=F+(R-C)/s;this.setState({maxWidth:z>Number(g)?g:z})}if((W||N)&&this.resizable){var z=(E-T)/s+this.resizable.size.height;this.setState({maxHeight:z>Number(m)?m:z})}if(B||this.props.lockAspectRatio&&!W&&!N){var z=O+(T-E)/s;this.setState({maxHeight:z>Number(m)?m:z})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(t,i,r)},e.prototype.onResize=function(t,i,r,s){var o=this,a={x:this.originalPosition.x,y:this.originalPosition.y},u=-s.width,c=-s.height,f=["top","left","topLeft","bottomLeft","topRight"];f.includes(i)&&(i==="bottomLeft"?a.x+=u:(i==="topRight"||(a.x+=u),a.y+=c));var d=this.draggable.state;(a.x!==d.x||a.y!==d.y)&&ud.flushSync(function(){o.draggable.setState(a)}),this.updateOffsetFromParent();var g=this.offsetFromParent,m=this.getDraggablePosition().x+g.left,y=this.getDraggablePosition().y+g.top;this.resizingPosition={x:m,y},this.props.onResize&&this.props.onResize(t,i,r,s,{x:m,y})},e.prototype.onResizeStop=function(t,i,r,s){this.setState({resizing:!1});var o=this.getMaxSizesFromProps(),a=o.maxWidth,u=o.maxHeight;this.setState({maxWidth:a,maxHeight:u}),this.props.onResizeStop&&this.props.onResizeStop(t,i,r,s,this.resizingPosition)},e.prototype.updateSize=function(t){this.resizable&&this.resizable.updateSize({width:t.width,height:t.height})},e.prototype.updatePosition=function(t){this.draggable.setState(t)},e.prototype.updateOffsetFromParent=function(){var t=this.props.scale,i=this.getParent(),r=this.getSelfElement();if(!i||r===null)return{top:0,left:0};var s=i.getBoundingClientRect(),o=s.left,a=s.top,u=r.getBoundingClientRect(),c=this.getDraggablePosition(),f=i.scrollLeft,d=i.scrollTop;this.offsetFromParent={left:u.left-o+f-c.x*t,top:u.top-a+d-c.y*t}},e.prototype.render=function(){var t=this,i=this.props,r=i.disableDragging,s=i.style,o=i.dragHandleClassName,a=i.position,u=i.onMouseDown,c=i.onMouseUp,f=i.dragAxis,d=i.dragGrid,g=i.bounds,m=i.enableUserSelectHack,y=i.cancel,v=i.children;i.onResizeStart,i.onResize,i.onResizeStop,i.onDragStart,i.onDrag,i.onDragStop;var x=i.resizeHandleStyles,C=i.resizeHandleClasses,E=i.resizeHandleComponent,S=i.enableResizing,R=i.resizeGrid,T=i.resizeHandleWrapperClass,F=i.resizeHandleWrapperStyle,O=i.scale,N=i.allowAnyClick,M=i.dragPositionOffset,W=Sz(i,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick","dragPositionOffset"]),B=this.props.default?Dn({},this.props.default):void 0;delete W.default;var z=r||o?{cursor:"auto"}:{cursor:"move"},V=Dn(Dn(Dn({},Tz),z),s),Z=this.offsetFromParent,G=Z.left,j=Z.top,q;a&&(q={x:a.x-G,y:a.y-j});var Y=this.state.resizing?void 0:q,te=this.state.resizing?"both":f;return ce.createElement(pz,{ref:function(ne){ne&&(t.draggable=ne)},handle:o?".".concat(o):void 0,defaultPosition:B,onMouseDown:u,onMouseUp:c,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:te,disabled:r,grid:d,bounds:g?this.state.bounds:void 0,position:Y,enableUserSelectHack:m,cancel:y,scale:O,allowAnyClick:N,nodeRef:this.resizableElement,positionOffset:M},ce.createElement(Ez,Dn({},W,{ref:function(ne){ne&&(t.resizable=ne,t.resizableElement.current=ne.resizable)},defaultSize:B,size:this.props.size,enable:typeof S=="boolean"?Rz(S):S,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:V,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:R,handleWrapperClass:T,handleWrapperStyle:F,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:C,handleComponent:E,scale:this.props.scale}),v))},e.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},e}(ce.PureComponent);const Az=ce.createContext(void 0),Q0=()=>{const n=ce.useContext(Az);if(!n)throw new Error("FloatingPanel.ToggleButton must be used within a FloatingPanel.Provider");return n},mC=({count:n=0,iconBeforeTitle:e,targetId:t,title:i,children:r,dragHandle:s=null,...o})=>{var d,g;const a=Kr(),u=Q0(),c=!((d=u.panels[t])!=null&&d.minimised)&&((g=u.panels[t])==null?void 0:g.visible),f=a.palette.mode==="dark"?a.palette.grey[900]:a.palette.grey[300];return Je(Un,{sx:{width:"fit-content",height:"fit-content",visibility:c?"visible":"hidden"},...o,children:[Je(eE,{direction:"row",spacing:1,alignItems:"center",padding:1,sx:{backgroundColor:f,width:"fit-content",borderTopLeftRadius:4,borderTopRightRadius:4},children:[s,e,Je(_a,{sx:{paddingRight:4},children:[i,n>0?Je("span",{css:Ro({marginLeft:4,color:a.palette.primary.main},"",""),children:["(",n,")"]}):null]}),Q(_o,{size:"small",onClick:()=>u==null?void 0:u.toggleMinimised(t),color:"primary","aria-label":"minimise",children:Q(E0,{})})]}),Q(Un,{sx:{backgroundColor:f,width:"fit-content",height:"fit-content",borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopRightRadius:4,padding:.4},children:!(u!=null&&u.get(t,"minimised"))&&r})]})};mC.__docgenInfo={description:"",methods:[],displayName:"Panel",props:{targetId:{required:!0,tsType:{name:"string"},description:"For linking to associated ToggleButtonState"},title:{required:!0,tsType:{name:"string"},description:"Panel title."},count:{required:!1,tsType:{name:"number"},description:"Total number of items",defaultValue:{value:"0",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Component content"},dragHandle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"null",computed:!1}},dragHandleClassName:{required:!1,tsType:{name:"string"},description:`Specifies a selector to be used as the handle that initiates drag. Example:
drag-handle.`},iconBeforeTitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},defaultPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"The x and y property is used to set the default position of the component."}},composes:["HTMLAttributes"]};const Pz=({bounds:n,defaultPosition:e={x:50,y:150},dragHandleClassName:t="drag-handle",targetId:i,children:r,...s})=>{var f,d;const o=Q0(),a=Kr(),u=!((f=o.panels[i])!=null&&f.minimised)&&((d=o.panels[i])==null?void 0:d.visible),c=Q(Ik,{className:t,sx:{fontSize:14,color:a.palette.grey[400],cursor:"move"}});return Q(Iz,{bounds:n,enableResizing:!1,dragHandleClassName:t,default:{x:e.x,y:e.y,width:"auto",height:"auto"},css:Ro({visibility:u?"visible":"hidden"},"",""),children:Q(mC,{targetId:i,dragHandle:c,...s,children:r})})};Pz.__docgenInfo={description:"",methods:[],displayName:"DraggableFloatingPanel",props:{targetId:{required:!0,tsType:{name:"string"},description:"For linking to associated ToggleButtonState"},title:{required:!0,tsType:{name:"string"},description:"Panel title."},bounds:{required:!1,tsType:{name:"union",raw:'"parent" | "window" | "body" | string | Element',elements:[{name:"literal",value:'"parent"'},{name:"literal",value:'"window"'},{name:"literal",value:'"body"'},{name:"string"},{name:"Element"}]},description:`Specifies movement boundaries. Accepted values:

parent restricts movement
within the node's offsetParent (nearest node with position relative or
absolute), window, body, Selector like .fooClassName or Element.`},count:{required:!1,tsType:{name:"number"},description:"Total number of items"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Component content"},dragHandleClassName:{required:!1,tsType:{name:"string"},description:`Specifies a selector to be used as the handle that initiates drag. Example:
drag-handle.`,defaultValue:{value:'"drag-handle"',computed:!1}},iconBeforeTitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},defaultPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"The x and y property is used to set the default position of the component.",defaultValue:{value:"{ x: 50, y: 150 }",computed:!1}}},composes:["HTMLAttributes"]};const Mz=n=>Q(Un,{component:"ul",columnGap:2,sx:{display:"flex",flexDirection:"row",position:"absolute",width:"fit-content",bottom:0,left:0},...n,children:n.children});Mz.__docgenInfo={description:"Appears at the bottom of the screen. Holds `FloatingPanelItem` items",methods:[],displayName:"FloatingPanelDock",composes:["PropsWithChildren"]};var Lz={name:"4bd2r9",styles:"margin-right:6px"};const kz=({count:n=0,label:e,icon:t,targetId:i,...r})=>{var c,f;const s=Kr(),o=Q0(),a=((c=o.panels[i])==null?void 0:c.minimised)&&((f=o.panels[i])==null?void 0:f.visible)||!1,u=s.palette.mode==="dark"?s.palette.grey[900]:s.palette.grey[300];return Q(R0,{disablePadding:!0,sx:{backgroundColor:u,borderTopLeftRadius:4,borderTopRightRadius:4,width:"fit-content",visibility:a?"visible":"hidden"},...r,children:Je(M0,{dense:!0,sx:{color:s.palette.primary.main},onClick:()=>o.toggleMinimised(i),children:[Q(E0,{rotation:180,css:Lz}),t,Je(hd,{sx:{marginLeft:1,whiteSpace:"nowrap",color:s.palette.mode==="dark"?s.palette.common.white:s.palette.common.black},children:[e,n>0?Je("span",{css:Ro({color:s.palette.primary.main},"",""),children:[" (",n,")"]}):null]})]})})};kz.__docgenInfo={description:"",methods:[],displayName:"FloatingPanelItem",props:{label:{required:!0,tsType:{name:"string"},description:"The item label"},targetId:{required:!0,tsType:{name:"string"},description:"The id target reference for the toggle button."},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},count:{required:!1,tsType:{name:"number"},description:"Total number of items",defaultValue:{value:"0",computed:!1}}},composes:["HTMLAttributes"]};Ln(oE)(()=>({border:0}));const Oz=n=>{const e=Kr();return Q("div",{css:Ro({backgroundColor:e.palette.mode==="dark"?"#2e2e2e":"#eeeeee",height:48,paddingInline:10,paddingBlock:4,marginTop:2,color:"white"},"",""),...n})};Oz.__docgenInfo={description:"",methods:[],displayName:"Toolbar"};const Fz=yo({type:Em([oi(),Tu(),dk(),yo({}).passthrough()]),props:hk(Lr()),key:Em([oi(),vf(),fk()]).optional()}),Dz=yo({open:Hi(),children:Fz,className:oi().optional(),id:oi().optional(),role:oi().optional(),closeAfterTransition:Hi().optional(),components:Lr().optional(),componentsProps:Lr().optional(),container:Lr().optional(),disableAutoFocus:Hi().optional(),disableEnforceFocus:Hi().optional(),disableEscapeKeyDown:Hi().optional(),disablePortal:Hi().optional(),disableRestoreFocus:Hi().optional(),disableScrollLock:Hi().optional(),hideBackdrop:Hi().optional(),keepMounted:Hi().optional(),manager:Lr().optional(),onBackdropClick:Tu().optional(),onClose:Tu().optional(),onTransitionEnter:Tu().optional(),onTransitionExit:Tu().optional(),sx:Lr().optional(),BackdropComponent:Lr().optional(),BackdropProps:Lr().optional(),slots:Lr().optional(),slotProps:Lr().optional()}),Nz=Dz.omit({slots:!0,slotProps:!0,BackdropComponent:!0,BackdropProps:!0,closeAfterTransition:!0,components:!0,componentsProps:!0,container:!0,disableAutoFocus:!0,disableEnforceFocus:!0,disableEscapeKeyDown:!0,disableRestoreFocus:!0,hideBackdrop:!0,keepMounted:!0,onBackdropClick:!0,onTransitionEnter:!0,onTransitionExit:!0}).passthrough(),zz=({children:n,hideCloseButton:e,...t})=>(Nz.parse({children:n,...t}),Q(Kw,{...t,children:Je(Un,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",p:2,borderRadius:1,boxShadow:24,minWidth:300,maxWidth:"90vw",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[Q(Un,{sx:{display:"flex",justifyContent:"flex-end"},children:!e&&Je(tE,{onClick:i=>{var r;return(r=t.onClose)==null?void 0:r.call(t,i,"closeButtonClick")},color:"inherit",sx:{fontSize:18},children:["Close ",Q(Ak,{sx:{fontSize:14}})]})}),n]})}));zz.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{onClose:{required:!0,tsType:{name:"union",raw:`| ((
    event: {},
    reason:
      | "backdropClick" // MUI in-built
      | "escapeKeyDown" // MUI in-built
      | "closeButtonClick" // custom event. Maybe delete and _misuse_ "backdropClick"
  ) => void)
| undefined`,elements:[{name:"unknown"},{name:"undefined"}]},description:""},hideCloseButton:{required:!1,tsType:{name:"boolean"},description:""}}};const $z=ce.createContext(null),Mg={didCatch:!1,error:null};class yC extends ce.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Mg}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,i,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];(t=(i=this.props).onReset)===null||t===void 0||t.call(i,{args:s,reason:"imperative-api"}),this.setState(Mg)}}componentDidCatch(e,t){var i,r;(i=(r=this.props).onError)===null||i===void 0||i.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:i}=this.state,{resetKeys:r}=this.props;if(i&&t.error!==null&&Bz(e.resetKeys,r)){var s,o;(s=(o=this.props).onReset)===null||s===void 0||s.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(Mg)}}render(){const{children:e,fallbackRender:t,FallbackComponent:i,fallback:r}=this.props,{didCatch:s,error:o}=this.state;let a=e;if(s){const u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")a=t(u);else if(i)a=ce.createElement(i,u);else if(r!==void 0)a=r;else throw o}return ce.createElement($z.Provider,{value:{didCatch:s,error:o,resetErrorBoundary:this.resetErrorBoundary}},a)}}function Bz(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,i)=>!Object.is(t,e[i]))}var Gz="Expected a function",P1=NaN,Wz="[object Symbol]",qz=/^\s+|\s+$/g,Uz=/^[-+]0x[0-9a-f]+$/i,jz=/^0b[01]+$/i,Vz=/^0o[0-7]+$/i,Hz=parseInt,Xz=typeof _s=="object"&&_s&&_s.Object===Object&&_s,Yz=typeof self=="object"&&self&&self.Object===Object&&self,Kz=Xz||Yz||Function("return this")(),Zz=Object.prototype,Jz=Zz.toString,Qz=Math.max,e4=Math.min,Lg=function(){return Kz.Date.now()};function t4(n,e,t){var i,r,s,o,a,u,c=0,f=!1,d=!1,g=!0;if(typeof n!="function")throw new TypeError(Gz);e=M1(e)||0,Fm(t)&&(f=!!t.leading,d="maxWait"in t,s=d?Qz(M1(t.maxWait)||0,e):s,g="trailing"in t?!!t.trailing:g);function m(F){var O=i,N=r;return i=r=void 0,c=F,o=n.apply(N,O),o}function y(F){return c=F,a=setTimeout(C,e),f?m(F):o}function v(F){var O=F-u,N=F-c,M=e-O;return d?e4(M,s-N):M}function x(F){var O=F-u,N=F-c;return u===void 0||O>=e||O<0||d&&N>=s}function C(){var F=Lg();if(x(F))return E(F);a=setTimeout(C,v(F))}function E(F){return a=void 0,g&&i?m(F):(i=r=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,i=u=r=a=void 0}function R(){return a===void 0?o:E(Lg())}function T(){var F=Lg(),O=x(F);if(i=arguments,r=this,u=F,O){if(a===void 0)return y(u);if(d)return a=setTimeout(C,e),m(u)}return a===void 0&&(a=setTimeout(C,e)),o}return T.cancel=S,T.flush=R,T}function Fm(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function n4(n){return!!n&&typeof n=="object"}function i4(n){return typeof n=="symbol"||n4(n)&&Jz.call(n)==Wz}function M1(n){if(typeof n=="number")return n;if(i4(n))return P1;if(Fm(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Fm(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(qz,"");var t=jz.test(n);return t||Vz.test(n)?Hz(n.slice(2),t?2:8):Uz.test(n)?P1:+n}var r4=t4;const s4=b0(r4);function _C(n){const{markers:e,geoPolygons:t,selected:i}=n,r=ce.useRef(null),[s,o]=ce.useState("auto"),a=ce.useRef([0,0]),u=()=>{o("auto")},c=s4(()=>{if(!r.current||t.features.length<1&&e.length<1)return;const d=r.current;let g;if(i.length<1)g=Bx(e,t.features);else{const m=e.reduce((v,x)=>(i.find(C=>x.uri===C)&&v.push(x),v),[]),y=t.features.reduce((v,x)=>(i.find(C=>{var E;return(E=x.properties)==null?void 0:E.iso3166_a3.endsWith(C.split("#")[1])})&&v.push(x),v),[]);g=Bx(m,y)}d.resize(),d.fitBounds(g,{padding:20,maxZoom:8,duration:500,offset:a.current})},0,{leading:!1,trailing:!0});return ce.useEffect(()=>{c()},[t,e,i]),{mapRef:r,cursor:s,onDragStart:()=>o("move"),onDragEnd:u,onMouseEnter:()=>o("pointer"),onMouseLeave:u,onLoad:()=>{c()},setOffset:d=>{a.current=d,c()}}}const o4=({markers:n=[],selected:e,geoPolygons:t=Gw,initialViewState:i=Ww,defaultStyle:r,onClickMarker:s,findByClassUri:o,attributionControl:a=!0,polygonLayers:u})=>{const{mapRef:c,cursor:f,onDragStart:d,onDragEnd:g,onMouseEnter:m,onMouseLeave:y,onLoad:v}=_C({markers:n,geoPolygons:t,selected:e});return Q(yC,{fallback:Q("p",{children:"Failed to load map"}),children:Q(ld,{m:0,direction:"column",style:{width:"100%",height:"100%"},children:Q(Uu,{flexGrow:1,children:Q(Bw,{mapRef:c,initialViewState:i,cursor:f,onDragStart:d,onDragEnd:g,onMouseEnter:m,onMouseLeave:y,onLoad:v,defaultStyle:r,attributionControl:a,markers:n,geoPolygons:t,selected:e,onClickMarker:s,findByClassUri:o,polygonLayers:u})})})})};o4.__docgenInfo={description:"",methods:[],displayName:"BasicMap",props:{theme:{required:!1,tsType:{name:"zod.infer",elements:[{name:"UIThemeSchema"}],raw:"zod.infer<typeof UIThemeSchema>"},description:""},polygonLayers:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:`(
  | mapboxgl.FillLayer
  | mapboxgl.LineLayer
  | mapboxgl.SymbolLayer
)[]`},description:""},markers:{defaultValue:{value:"[]",computed:!1},required:!1},geoPolygons:{defaultValue:{value:'{ type: "FeatureCollection", features: [] }',computed:!1},required:!1},initialViewState:{defaultValue:{value:`{
  latitude: 53.42148743839479,
  longitude: -3.863068679356047,
  zoom: 3,
  maxZoom: 16,
}`,computed:!1},required:!1},attributionControl:{defaultValue:{value:"true",computed:!1},required:!1}},composes:["RequiredRest","Optionalized"]};const ql=({borderColor:n,src:e,alt:t,title:i,role:r})=>Q(Un,{sx:{border:`2px solid ${n}`,borderRadius:"3px",overflow:"hidden",display:"inline-block",height:"1em",fontSize:"1.5rem"},mr:1,children:Q("img",{src:e,alt:t,role:r,title:i,style:{width:25,height:20}})});ql.__docgenInfo={description:"",methods:[],displayName:"Image",props:{borderColor:{required:!0,tsType:{name:"string"},description:""},src:{required:!0,tsType:{name:"string"},description:""},alt:{required:!1,tsType:{name:"string"},description:""},title:{required:!0,tsType:{name:"string"},description:""},role:{required:!1,tsType:{name:"ReactAriaRole",raw:"React.AriaRole"},description:""}}};const vC=({data:n,selectedIndex:e,anchorEl:t,onClickDropdown:i,sx:r,variant:s,color:o})=>{var f;const a=er(),u=!!t,c=u?"layer-selector-popover":void 0;return((f=n==null?void 0:n[e])==null?void 0:f.image)===void 0&&console.warn(`No image at ${e} in ${JSON.stringify(n)}`),Je(Wl,{id:"layer-selector",size:"large","aria-describedby":c,onClick:i,sx:r,variant:s,color:o,children:[Q(ql,{borderColor:a.palette.primary.main,src:n[e].image,alt:n[e].label,title:n[e].label}),Q(Xr,{icon:u?C0:S0})]})},ey=({data:n,selectedIndex:e,anchorEl:t,onCloseDropdown:i,onListItemClick:r})=>{const s=er(),o=!!t;return Q(iE,{id:o?"layer-selector-popover":void 0,open:o,anchorEl:t,onClose:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Q(ld,{direction:"column",children:n.map((u,c)=>Q(Uu,{alignContent:"flex-start",children:Je(Wl,{disabled:c===e,onClick:()=>r(c),variant:"text",sx:{width:"100%",justifyContent:"flex-start"},children:[Q(ql,{borderColor:c===e?s.palette.primary.main:"transparent",src:u.image,alt:u.label,title:u.label}),Q(_a,{textTransform:"capitalize",variant:"body2",children:u.label})]},u.label)},u.label))})})};vC.__docgenInfo={description:"",methods:[],displayName:"LayerSelectorPresentationalButton",props:{selectedIndex:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"LayerOption"}],raw:"LayerOption[]"},description:""},anchorEl:{required:!0,tsType:{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]},description:""},onCloseDropdown:{required:!0,tsType:{name:'PopOverProps["onClose"]',raw:'PopOverProps["onClose"]'},description:""},onClickDropdown:{required:!0,tsType:{name:'intersection["onClick"]',raw:'ButtonProps["onClick"]'},description:""},onListItemClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""}},composes:["Pick"]};ey.__docgenInfo={description:"",methods:[],displayName:"LayerSelectorPresentationalPopOver",props:{selectedIndex:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"LayerOption"}],raw:"LayerOption[]"},description:""},anchorEl:{required:!0,tsType:{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]},description:""},onCloseDropdown:{required:!0,tsType:{name:'PopOverProps["onClose"]',raw:'PopOverProps["onClose"]'},description:""},onClickDropdown:{required:!0,tsType:{name:'intersection["onClick"]',raw:'ButtonProps["onClick"]'},description:""},onListItemClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""}},composes:["Pick"]};const xC=({data:n,onChange:e})=>{const[t,i]=ce.useState(null),[r,s]=ce.useState(0);w0.useEffect(()=>{e(n[r])},[]);const o=f=>{t?u():i(f.currentTarget)},a=()=>{i(null)},u=()=>{const f=(r+1)%n.length;s(f),e(n[f])};return{data:n,selectedIndex:r,anchorEl:t,onClickDropdown:o,onCloseDropdown:a,onListItemClick:f=>{s(f),e(n[f]),a()}}},bC=()=>{const n=qw(),e=xC(n.styleSelector.props);return n.styleSelector.props.data.length<=1?null:Je("div",{children:[Q(vC,{variant:"text",...e}),Q(ey,{...e})]})};bC.__docgenInfo={description:"",methods:[],displayName:"LayerSelector"};const a4=({markers:n=[],selected:e,theme:t="DocumentPink",geoPolygons:i=Gw,initialViewState:r=Ww,defaultStyle:s,onClickMarker:o,findByClassUri:a,attributionControl:u=!0,polygonLayers:c})=>{const{mapRef:f,cursor:d,onDragStart:g,onDragEnd:m,onMouseEnter:y,onMouseLeave:v,onLoad:x}=_C({markers:n,geoPolygons:i,selected:e});return Q(Dk,{dark:!0,theme:t,children:Q(yC,{fallback:Q("p",{children:"Failed to load map"}),children:Q("div",{className:"contents",children:Je(ld,{m:0,direction:"column",style:{width:"100%",height:"100%"},children:[Q(Uu,{flexGrow:1,children:Q(ok,{children:Q(Bw,{mapRef:f,initialViewState:r,cursor:d,onDragStart:g,onDragEnd:m,onMouseEnter:y,onMouseLeave:v,onLoad:x,defaultStyle:s,attributionControl:u,markers:n,geoPolygons:i,selected:e,onClickMarker:o,findByClassUri:a,polygonLayers:c})})}),Q(Uu,{flexGrow:0,p:1,children:Q(bC,{})})]})})})})};a4.__docgenInfo={description:"",methods:[],displayName:"FeatureMap",props:{theme:{required:!1,tsType:{name:"zod.infer",elements:[{name:"UIThemeSchema"}],raw:"zod.infer<typeof UIThemeSchema>"},description:"",defaultValue:{value:'"DocumentPink"',computed:!1}},polygonLayers:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:`(
  | mapboxgl.FillLayer
  | mapboxgl.LineLayer
  | mapboxgl.SymbolLayer
)[]`},description:""},markers:{defaultValue:{value:"[]",computed:!1},required:!1},geoPolygons:{defaultValue:{value:'{ type: "FeatureCollection", features: [] }',computed:!1},required:!1},initialViewState:{defaultValue:{value:`{
  latitude: 53.42148743839479,
  longitude: -3.863068679356047,
  zoom: 3,
  maxZoom: 16,
}`,computed:!1},required:!1},attributionControl:{defaultValue:{value:"true",computed:!1},required:!1}},composes:["RequiredRest","Optionalized"]};const wC=({data:n,selectedIndex:e,anchorEl:t,onClickDropdown:i,sx:r,color:s,variant:o})=>{const a=er(),u=!!t;return Q(Un,{children:Q(A0,{children:Je(Wl,{size:"large",id:"layer-selector","aria-describedby":u?"layer-selector-popover":void 0,onClick:i,sx:{display:"flex",alignItems:"center",height:"100%",width:"100%",...r},color:s,variant:o,children:[Q(ql,{borderColor:a.palette.primary.main,src:n[e].image,alt:n[e].label,title:n[e].label})," ",Q(Un,{component:"span",sx:{ml:1,display:"flex"},children:Q(Xr,{icon:u?C0:S0})})]})})})},l4=({variant:n,color:e,sx:t})=>{const i=qw(),r=xC(i.styleSelector.props);return i.styleSelector.props.data.length<=1?null:Je(x0,{children:[Q(wC,{variant:n,color:e,sx:t,...r}),Q(ey,{...r})]})};wC.__docgenInfo={description:"",methods:[],displayName:"PresentationalButton",props:{selectedIndex:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Array",elements:[{name:"LayerOption"}],raw:"LayerOption[]"},description:""},anchorEl:{required:!0,tsType:{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]},description:""},onCloseDropdown:{required:!0,tsType:{name:'PopOverProps["onClose"]',raw:'PopOverProps["onClose"]'},description:""},onClickDropdown:{required:!0,tsType:{name:'intersection["onClick"]',raw:'ButtonProps["onClick"]'},description:""},onListItemClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(index: number) => void",signature:{arguments:[{type:{name:"number"},name:"index"}],return:{name:"void"}}},description:""}},composes:["Pick"]};l4.__docgenInfo={description:"",methods:[],displayName:"LayerSelectorInsetInMap"};const EC=({position:n,children:e,sx:t,...i})=>{const r={position:"absolute"};switch(n){case"left":Object.assign(r,{left:0,top:"50%",transform:"translateY(-50%)"});break;case"topLeft":Object.assign(r,{left:0,top:0});break;case"bottomLeft":Object.assign(r,{left:0,bottom:0});break;case"right":Object.assign(r,{right:0,top:"50%",transform:"translateY(-50%)"});break;case"topRight":Object.assign(r,{right:0,top:0});break;case"bottomRight":Object.assign(r,{right:0,bottom:0});break;case"top":Object.assign(r,{top:0,left:"50%",transform:"translateX(-50%)"});break;case"center":Object.assign(r,{top:"50%",left:"50%",transform:"translate(-50%, -50%)"});break;case"bottom":Object.assign(r,{bottom:0,left:"50%",transform:"translateX(-50%)"});break}return Q(Un,{...i,sx:{...r,...t},children:e})},CC=({sx:n=null,...e})=>Q(Un,{sx:{position:"relative",width:"100%",height:"100%",...n},...e}),SC=n=>Q(Un,{...n,sx:{position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"hidden",...n.sx}}),u4={Background:CC,Content:SC,ControlArea:EC};EC.__docgenInfo={description:"",methods:[],displayName:"ControlArea",props:{position:{required:!0,tsType:{name:"union",raw:`| "topLeft"
| "top"
| "topRight"
| "right"
| "bottomRight"
| "bottom"
| "bottomLeft"
| "left"
| "center"`,elements:[{name:"literal",value:'"topLeft"'},{name:"literal",value:'"top"'},{name:"literal",value:'"topRight"'},{name:"literal",value:'"right"'},{name:"literal",value:'"bottomRight"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"bottomLeft"'},{name:"literal",value:'"left"'},{name:"literal",value:'"center"'}]},description:""}},composes:["Omit"]};CC.__docgenInfo={description:"",methods:[],displayName:"Background",props:{sx:{defaultValue:{value:"null",computed:!1},required:!1}}};SC.__docgenInfo={description:"",methods:[],displayName:"Content"};const{Background:c4,Content:h4,ControlArea:f4}=u4,d4=({content:n,controlArea:e={},sx:t,children:i,...r})=>Je(c4,{sx:t,...r,children:[Q(h4,{children:n}),Object.entries(e).map(([s,o])=>Q(f4,{position:s,children:o},s)),i]});d4.__docgenInfo={description:"",methods:[],displayName:"InsetInMap",props:{content:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},controlArea:{required:!1,tsType:{name:"Partial",elements:[{name:"Record",elements:[{name:"union",raw:`| "topLeft"
| "top"
| "topRight"
| "right"
| "bottomRight"
| "bottom"
| "bottomLeft"
| "left"
| "center"`,elements:[{name:"literal",value:'"topLeft"'},{name:"literal",value:'"top"'},{name:"literal",value:'"topRight"'},{name:"literal",value:'"right"'},{name:"literal",value:'"bottomRight"'},{name:"literal",value:'"bottom"'},{name:"literal",value:'"bottomLeft"'},{name:"literal",value:'"left"'},{name:"literal",value:'"center"'}]},{name:"ReactReactNode",raw:"React.ReactNode"}],raw:"Record<Position, React.ReactNode>"}],raw:"Partial<Record<Position, React.ReactNode>>"},description:"",defaultValue:{value:"{}",computed:!1}}}};const Wn={ADD:"add",REMOVE:"remove"},Ll={PROPERTYCHANGE:"propertychange"},Ve={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class bc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function p4(n,e,t){let i,r;t=t||Gr;let s=0,o=n.length,a=!1;for(;s<o;)i=s+(o-s>>1),r=+t(n[i],e),r<0?s=i+1:(o=i,a=!r);return a?s:~s}function Gr(n,e){return n>e?1:n<e?-1:0}function g4(n,e){return n<e?1:n>e?-1:0}function Cd(n,e,t){if(n[0]<=e)return 0;const i=n.length;if(e<=n[i-1])return i-1;if(typeof t=="function"){for(let r=1;r<i;++r){const s=n[r];if(s===e)return r;if(s<e)return t(e,n[r-1],s)>0?r-1:r}return i-1}if(t>0){for(let r=1;r<i;++r)if(n[r]<e)return r-1;return i-1}if(t<0){for(let r=1;r<i;++r)if(n[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(n[r]==e)return r;if(n[r]<e)return n[r-1]-e<e-n[r]?r-1:r}return i-1}function m4(n,e,t){for(;e<t;){const i=n[e];n[e]=n[t],n[t]=i,++e,--t}}function Zi(n,e){const t=Array.isArray(e)?e:[e],i=t.length;for(let r=0;r<i;r++)n[n.length]=t[r]}function Io(n,e){const t=n.length;if(t!==e.length)return!1;for(let i=0;i<t;i++)if(n[i]!==e[i])return!1;return!0}function y4(n,e,t){const i=e||Gr;return n.every(function(r,s){if(s===0)return!0;const o=i(n[s-1],r);return!(o>0||o===0)})}function xa(){return!0}function wc(){return!1}function Zu(){}function TC(n){let e,t,i;return function(){const r=Array.prototype.slice.call(arguments);return(!t||this!==i||!Io(r,t))&&(i=this,t=r,e=n.apply(this,arguments)),e}}function kl(n){function e(){let t;try{t=n()}catch(i){return Promise.reject(i)}return t instanceof Promise?t:Promise.resolve(t)}return e()}function Ul(n){for(const e in n)delete n[e]}function Co(n){let e;for(e in n)return!1;return!e}class tr{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class Ec extends bc{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,t){if(!e||!t)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(t)||r.push(t)}dispatchEvent(e){const t=typeof e=="string",i=t?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=t?new tr(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let u;for(let c=0,f=r.length;c<f;++c)if("handleEvent"in r[c]?u=r[c].handleEvent(s):u=r[c].call(this,s),u===!1||s.propagationStopped){u=!1;break}if(--o[i]===0){let c=a[i];for(delete a[i];c--;)this.removeEventListener(i,Zu);delete o[i]}return u}disposeInternal(){this.listeners_&&Ul(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,t){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(t);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Zu,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}function At(n,e,t,i,r){if(r){const o=t;t=function(a){return n.removeEventListener(e,t),o.call(i??this,a)}}else i&&i!==n&&(t=t.bind(i));const s={target:n,type:e,listener:t};return n.addEventListener(e,t),s}function Pf(n,e,t,i){return At(n,e,t,i,!0)}function Zt(n){n&&n.target&&(n.target.removeEventListener(n.type,n.listener),Ul(n))}class Cc extends Ec{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(Ve.CHANGE)}getRevision(){return this.revision_}onInternal(e,t){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=At(this,e[s],t);return r}return At(this,e,t)}onceInternal(e,t){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=Pf(this,e[s],t)}else i=Pf(this,e,t);return t.ol_key=i,i}unInternal(e,t){const i=t.ol_key;if(i)_4(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],t);else this.removeEventListener(e,t)}}Cc.prototype.on;Cc.prototype.once;Cc.prototype.un;function _4(n){if(Array.isArray(n))for(let e=0,t=n.length;e<t;++e)Zt(n[e]);else Zt(n)}function Ye(){throw new Error("Unimplemented abstract method.")}let v4=0;function He(n){return n.ol_uid||(n.ol_uid=String(++v4))}class L1 extends tr{constructor(e,t,i){super(e),this.key=t,this.oldValue=i}}class es extends Cc{constructor(e){super(),this.on,this.once,this.un,He(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,t){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new L1(i,e,t)),i=Ll.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new L1(i,e,t))}addChangeListener(e,t){this.addEventListener(`change:${e}`,t)}removeChangeListener(e,t){this.removeEventListener(`change:${e}`,t)}set(e,t,i){const r=this.values_||(this.values_={});if(i)r[e]=t;else{const s=r[e];r[e]=t,s!==t&&this.notify(e,s)}}setProperties(e,t){for(const i in e)this.set(i,e[i],t)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,t){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Co(this.values_)&&(this.values_=null),t||this.notify(e,i)}}}const k1={LENGTH:"length"};class jh extends tr{constructor(e,t,i){super(e),this.element=t,this.index=i}}class xr extends es{constructor(e,t){if(super(),this.on,this.once,this.un,t=t||{},this.unique_=!!t.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let t=0,i=e.length;t<i;++t)this.push(e[t]);return this}forEach(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)e(t[i],i,t)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(k1.LENGTH)}insertAt(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new jh(Wn.ADD,t,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const t=this.getLength();return this.insertAt(t,e),this.getLength()}remove(e){const t=this.array_;for(let i=0,r=t.length;i<r;++i)if(t[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new jh(Wn.REMOVE,t,e)),t}setAt(e,t){const i=this.getLength();if(e>=i){this.insertAt(e,t);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);const r=this.array_[e];this.array_[e]=t,this.dispatchEvent(new jh(Wn.REMOVE,r,e)),this.dispatchEvent(new jh(Wn.ADD,t,e))}updateLength_(){this.set(k1.LENGTH,this.array_.length)}assertUnique_(e,t){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==t)throw new Error("Duplicate item added to a unique collection")}}class ol extends tr{constructor(e,t,i){super(e),this.map=t,this.frameState=i!==void 0?i:null}}class to extends ol{constructor(e,t,i,r,s,o){super(e,t,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const rn={SINGLECLICK:"singleclick",CLICK:Ve.CLICK,DBLCLICK:Ve.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ba=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",x4=ba.includes("safari")&&!ba.includes("chrom");x4&&(ba.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ba));const b4=ba.includes("webkit")&&!ba.includes("edge"),RC=ba.includes("macintosh"),w4=typeof devicePixelRatio<"u"?devicePixelRatio:1,ty=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,IC=typeof Image<"u"&&Image.prototype.decode,E4=typeof createImageBitmap=="function",AC=function(){let n=!1;try{const e=Object.defineProperty({},"passive",{get:function(){n=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return n}(),Dm={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class C4 extends Ec{constructor(e,t){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=t===void 0?1:t,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=At(i,Dm.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=At(i,Dm.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(Ve.TOUCHMOVE,this.boundHandleTouchMove_,AC?{passive:!1}:!1)}emulateClick_(e){let t=new to(rn.CLICK,this.map_,e);this.dispatchEvent(t),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,t=new to(rn.DBLCLICK,this.map_,e),this.dispatchEvent(t)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new to(rn.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const t=e,i=t.pointerId;if(t.type==rn.POINTERUP||t.type==rn.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==t.target){delete this.trackedTouches_[r];break}}else(t.type==rn.POINTERDOWN||t.type==rn.POINTERMOVE)&&(this.trackedTouches_[i]=t);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const t=new to(rn.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Zt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const t=new to(rn.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(At(i,rn.POINTERMOVE,this.handlePointerMove_,this),At(i,rn.POINTERUP,this.handlePointerUp_,this),At(this.element_,rn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(At(this.element_.getRootNode(),rn.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const t=new to(rn.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new to(rn.POINTERMOVE,this.map_,e,t))}handleTouchMove_(e){const t=this.originalPointerMoveEvent_;(!t||t.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Zt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(Ve.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Zt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Zt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const no={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Bn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ye={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Dt(n,e){if(!n)throw new Error(e)}const Mf=1/0;class S4{constructor(e,t){this.priorityFunction_=e,this.keyFunction_=t,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,Ul(this.queuedElements_)}dequeue(){const e=this.elements_,t=this.priorities_,i=e[0];e.length==1?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){Dt(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const t=this.priorityFunction_(e);return t!=Mf?(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const t=this.elements_,i=this.priorities_,r=t.length,s=t[e],o=i[e],a=e;for(;e<r>>1;){const u=this.getLeftChildIndex_(e),c=this.getRightChildIndex_(e),f=c<r&&i[c]<i[u]?c:u;t[e]=t[f],i[e]=i[f],e=f}t[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,t){const i=this.elements_,r=this.priorities_,s=i[t],o=r[t];for(;t>e;){const a=this.getParentIndex_(t);if(r[a]>o)i[t]=i[a],r[t]=r[a],t=a;else break}i[t]=s,r[t]=o}reprioritize(){const e=this.priorityFunction_,t=this.elements_,i=this.priorities_;let r=0;const s=t.length;let o,a,u;for(a=0;a<s;++a)o=t[a],u=e(o),u==Mf?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=u,t[r++]=o);t.length=r,i.length=r,this.heapify_()}}class PC extends S4{constructor(e,t){super(i=>e.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const t=super.enqueue(e);return t&&e[0].addEventListener(Ve.CHANGE,this.boundHandleTileChange_),t}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const t=e.target,i=t.getState();if(i===ye.LOADED||i===ye.ERROR||i===ye.EMPTY){i!==ye.ERROR&&t.removeEventListener(Ve.CHANGE,this.boundHandleTileChange_);const r=t.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,t){let i=0;for(;this.tilesLoading_<e&&i<t&&this.getCount()>0;){const r=this.dequeue()[0],s=r.getKey();r.getState()===ye.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}}function T4(n,e,t,i,r){if(!n||!(t in n.wantedTiles)||!n.wantedTiles[t][e.getKey()])return Mf;const s=n.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}const sn={ANIMATING:0,INTERACTING:1},ur={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function fn(n,e,t){return Math.min(Math.max(n,e),t)}function R4(n,e,t,i,r,s){const o=r-t,a=s-i;if(o!==0||a!==0){const u=((n-t)*o+(e-i)*a)/(o*o+a*a);u>1?(t=r,i=s):u>0&&(t+=o*u,i+=a*u)}return fa(n,e,t,i)}function fa(n,e,t,i){const r=t-n,s=i-e;return r*r+s*s}function I4(n){const e=n.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(n[i][i]);for(let a=i+1;a<e;a++){const u=Math.abs(n[a][i]);u>s&&(s=u,r=a)}if(s===0)return null;const o=n[r];n[r]=n[i],n[i]=o;for(let a=i+1;a<e;a++){const u=-n[a][i]/n[i][i];for(let c=i;c<e+1;c++)i==c?n[a][c]=0:n[a][c]+=u*n[i][c]}}const t=new Array(e);for(let i=e-1;i>=0;i--){t[i]=n[i][e]/n[i][i];for(let r=i-1;r>=0;r--)n[r][e]-=n[r][i]*t[i]}return t}function O1(n){return n*180/Math.PI}function xo(n){return n*Math.PI/180}function gl(n,e){const t=n%e;return t*e<0?t+e:t}function Ai(n,e,t){return n+t*(e-n)}function Sd(n,e){const t=Math.pow(10,e);return Math.round(n*t)/t}function Vh(n,e){return Math.floor(Sd(n,e))}function ho(n,e){return Math.ceil(Sd(n,e))}function Nm(n,e,t){if(n>=e&&n<t)return n;const i=t-e;return((n-e)%i+i)%i+e}function F1(n,e,t){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const u=e?0:s[0]*r,c=e?0:s[1]*r,f=a?a[0]:0,d=a?a[1]:0;let g=n[0]+u/2+f,m=n[2]-u/2+f,y=n[1]+c/2+d,v=n[3]-c/2+d;g>m&&(g=(m+g)/2,m=g),y>v&&(y=(v+y)/2,v=y);let x=fn(i[0],g,m),C=fn(i[1],y,v);if(o&&t&&r){const E=30*r;x+=-E*Math.log(1+Math.max(0,g-i[0])/E)+E*Math.log(1+Math.max(0,i[0]-m)/E),C+=-E*Math.log(1+Math.max(0,y-i[1])/E)+E*Math.log(1+Math.max(0,i[1]-v)/E)}return[x,C]}}function A4(n){return n}const Gn={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function zm(n){const e=Qi();for(let t=0,i=n.length;t<i;++t)$u(e,n[t]);return e}function P4(n,e,t){const i=Math.min.apply(null,n),r=Math.min.apply(null,e),s=Math.max.apply(null,n),o=Math.max.apply(null,e);return Ts(i,r,s,o,t)}function bo(n,e,t){return t?(t[0]=n[0]-e,t[1]=n[1]-e,t[2]=n[2]+e,t[3]=n[3]+e,t):[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function MC(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n.slice()}function Aa(n,e,t){let i,r;return e<n[0]?i=n[0]-e:n[2]<e?i=e-n[2]:i=0,t<n[1]?r=n[1]-t:n[3]<t?r=t-n[3]:r=0,i*i+r*r}function wa(n,e){return ny(n,e[0],e[1])}function bs(n,e){return n[0]<=e[0]&&e[2]<=n[2]&&n[1]<=e[1]&&e[3]<=n[3]}function ny(n,e,t){return n[0]<=e&&e<=n[2]&&n[1]<=t&&t<=n[3]}function $m(n,e){const t=n[0],i=n[1],r=n[2],s=n[3],o=e[0],a=e[1];let u=Gn.UNKNOWN;return o<t?u=u|Gn.LEFT:o>r&&(u=u|Gn.RIGHT),a<i?u=u|Gn.BELOW:a>s&&(u=u|Gn.ABOVE),u===Gn.UNKNOWN&&(u=Gn.INTERSECTING),u}function Qi(){return[1/0,1/0,-1/0,-1/0]}function Ts(n,e,t,i,r){return r?(r[0]=n,r[1]=e,r[2]=t,r[3]=i,r):[n,e,t,i]}function jl(n){return Ts(1/0,1/0,-1/0,-1/0,n)}function LC(n,e){const t=n[0],i=n[1];return Ts(t,i,t,i,e)}function iy(n,e,t,i,r){const s=jl(r);return OC(s,n,e,t,i)}function Rs(n,e){return n[0]==e[0]&&n[2]==e[2]&&n[1]==e[1]&&n[3]==e[3]}function kC(n,e){return e[0]<n[0]&&(n[0]=e[0]),e[2]>n[2]&&(n[2]=e[2]),e[1]<n[1]&&(n[1]=e[1]),e[3]>n[3]&&(n[3]=e[3]),n}function $u(n,e){e[0]<n[0]&&(n[0]=e[0]),e[0]>n[2]&&(n[2]=e[0]),e[1]<n[1]&&(n[1]=e[1]),e[1]>n[3]&&(n[3]=e[1])}function OC(n,e,t,i,r){for(;t<i;t+=r)M4(n,e[t],e[t+1]);return n}function M4(n,e,t){n[0]=Math.min(n[0],e),n[1]=Math.min(n[1],t),n[2]=Math.max(n[2],e),n[3]=Math.max(n[3],t)}function FC(n,e){let t;return t=e(Td(n)),t||(t=e(Rd(n)),t)||(t=e(Id(n)),t)||(t=e(Ls(n)),t)?t:!1}function Bm(n){let e=0;return Pa(n)||(e=Pt(n)*Tn(n)),e}function Td(n){return[n[0],n[1]]}function Rd(n){return[n[2],n[1]]}function Ni(n){return[(n[0]+n[2])/2,(n[1]+n[3])/2]}function L4(n,e){let t;if(e==="bottom-left")t=Td(n);else if(e==="bottom-right")t=Rd(n);else if(e==="top-left")t=Ls(n);else if(e==="top-right")t=Id(n);else throw new Error("Invalid corner");return t}function Lf(n,e,t,i,r){const[s,o,a,u,c,f,d,g]=DC(n,e,t,i);return Ts(Math.min(s,a,c,d),Math.min(o,u,f,g),Math.max(s,a,c,d),Math.max(o,u,f,g),r)}function DC(n,e,t,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(t),a=Math.sin(t),u=r*o,c=r*a,f=s*o,d=s*a,g=n[0],m=n[1];return[g-u+d,m-c-f,g-u-d,m-c+f,g+u-d,m+c+f,g+u+d,m+c-f,g-u+d,m-c-f]}function Tn(n){return n[3]-n[1]}function Er(n,e,t){const i=t||Qi();return vn(n,e)?(n[0]>e[0]?i[0]=n[0]:i[0]=e[0],n[1]>e[1]?i[1]=n[1]:i[1]=e[1],n[2]<e[2]?i[2]=n[2]:i[2]=e[2],n[3]<e[3]?i[3]=n[3]:i[3]=e[3]):jl(i),i}function Ls(n){return[n[0],n[3]]}function Id(n){return[n[2],n[3]]}function Pt(n){return n[2]-n[0]}function vn(n,e){return n[0]<=e[2]&&n[2]>=e[0]&&n[1]<=e[3]&&n[3]>=e[1]}function Pa(n){return n[2]<n[0]||n[3]<n[1]}function k4(n,e){return e?(e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e):n}function O4(n,e,t){let i=!1;const r=$m(n,e),s=$m(n,t);if(r===Gn.INTERSECTING||s===Gn.INTERSECTING)i=!0;else{const o=n[0],a=n[1],u=n[2],c=n[3],f=e[0],d=e[1],g=t[0],m=t[1],y=(m-d)/(g-f);let v,x;s&Gn.ABOVE&&!(r&Gn.ABOVE)&&(v=g-(m-c)/y,i=v>=o&&v<=u),!i&&s&Gn.RIGHT&&!(r&Gn.RIGHT)&&(x=m-(g-u)*y,i=x>=a&&x<=c),!i&&s&Gn.BELOW&&!(r&Gn.BELOW)&&(v=g-(m-a)/y,i=v>=o&&v<=u),!i&&s&Gn.LEFT&&!(r&Gn.LEFT)&&(x=m-(g-o)*y,i=x>=a&&x<=c)}return i}function F4(n,e,t,i){if(Pa(n))return jl(t);let r=[];r=[n[0],n[1],n[2],n[1],n[2],n[3],n[0],n[3]],e(r,r,2);const s=[],o=[];for(let a=0,u=r.length;a<u;a+=2)s.push(r[a]),o.push(r[a+1]);return P4(s,o,t)}function NC(n,e){const t=e.getExtent(),i=Ni(n);if(e.canWrapX()&&(i[0]<t[0]||i[0]>=t[2])){const r=Pt(t),o=Math.floor((i[0]-t[0])/r)*r;n[0]-=o,n[2]-=o}return n}function zC(n,e,t){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(n[0])||!isFinite(n[2]))return[[i[0],n[1],i[2],n[3]]];NC(n,e);const r=Pt(i);if(Pt(n)>r&&!t)return[[i[0],n[1],i[2],n[3]]];if(n[0]<i[0])return[[n[0]+r,n[1],i[2],n[3]],[i[0],n[1],n[2],n[3]]];if(n[2]>i[2])return[[n[0],n[1],i[2],n[3]],[i[0],n[1],n[2]-r,n[3]]]}return[n]}function D4(n,e){return n[0]+=+e[0],n[1]+=+e[1],n}function kf(n,e){let t=!0;for(let i=n.length-1;i>=0;--i)if(n[i]!=e[i]){t=!1;break}return t}function ry(n,e){const t=Math.cos(e),i=Math.sin(e),r=n[0]*t-n[1]*i,s=n[1]*t+n[0]*i;return n[0]=r,n[1]=s,n}function N4(n,e){return n[0]*=e,n[1]*=e,n}function z4(n,e){const t=n[0]-e[0],i=n[1]-e[1];return t*t+i*i}function $4(n,e){return Math.sqrt(z4(n,e))}function sy(n,e){if(e.canWrapX()){const t=Pt(e.getExtent()),i=B4(n,e,t);i&&(n[0]-=i*t)}return n}function B4(n,e,t){const i=e.getExtent();let r=0;return e.canWrapX()&&(n[0]<i[0]||n[0]>i[2])&&(t=t||Pt(i),r=Math.floor((n[0]-i[0])/t)),r}function $C(n){return Math.pow(n,3)}function Vl(n){return 1-$C(1-n)}function G4(n){return 3*n*n-2*n*n*n}function W4(n){return n}const q4=63710088e-1;function D1(n,e,t){t=t||q4;const i=xo(n[1]),r=xo(e[1]),s=(r-i)/2,o=xo(e[0]-n[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*t*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function BC(...n){console.warn(...n)}const So={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ad{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||So[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Sc=6378137,dl=Math.PI*Sc,U4=[-dl,-dl,dl,dl],j4=[-180,-85,180,85],Hh=Sc*Math.log(Math.tan(Math.PI/2));class Ka extends Ad{constructor(e){super({code:e,units:"m",extent:U4,global:!0,worldExtent:j4,getPointResolution:function(t,i){return t/Math.cosh(i[1]/Sc)}})}}const N1=[new Ka("EPSG:3857"),new Ka("EPSG:102100"),new Ka("EPSG:102113"),new Ka("EPSG:900913"),new Ka("http://www.opengis.net/def/crs/EPSG/0/3857"),new Ka("http://www.opengis.net/gml/srs/epsg.xml#3857")];function V4(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let s=0;s<r;s+=i){e[s]=dl*n[s]/180;let o=Sc*Math.log(Math.tan(Math.PI*(+n[s+1]+90)/360));o>Hh?o=Hh:o<-Hh&&(o=-Hh),e[s+1]=o}return e}function H4(n,e,t,i){const r=n.length;t=t>1?t:2,i=i??t,e===void 0&&(t>2?e=n.slice():e=new Array(r));for(let s=0;s<r;s+=i)e[s]=180*n[s]/dl,e[s+1]=360*Math.atan(Math.exp(n[s+1]/Sc))/Math.PI-90;return e}const X4=6378137,z1=[-180,-90,180,90],Y4=Math.PI*X4/180;class Uo extends Ad{constructor(e,t){super({code:e,units:"degrees",extent:z1,axisOrientation:t,global:!0,metersPerUnit:Y4,worldExtent:z1})}}const $1=[new Uo("CRS:84"),new Uo("EPSG:4326","neu"),new Uo("urn:ogc:def:crs:OGC:1.3:CRS84"),new Uo("urn:ogc:def:crs:OGC:2:84"),new Uo("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Uo("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Uo("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let Gm={};function K4(n){return Gm[n]||Gm[n.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Z4(n,e){Gm[n]=e}let ml={};function Ju(n,e,t){const i=n.getCode(),r=e.getCode();i in ml||(ml[i]={}),ml[i][r]=t}function kg(n,e){return n in ml&&e in ml[n]?ml[n][e]:null}const Of=.9996,Ji=.00669438,Pd=Ji*Ji,Md=Pd*Ji,ea=Ji/(1-Ji),B1=Math.sqrt(1-Ji),Ol=(1-B1)/(1+B1),GC=Ol*Ol,oy=GC*Ol,ay=oy*Ol,WC=ay*Ol,qC=1-Ji/4-3*Pd/64-5*Md/256,J4=3*Ji/8+3*Pd/32+45*Md/1024,Q4=15*Pd/256+45*Md/1024,e6=35*Md/3072,t6=3/2*Ol-27/32*oy+269/512*WC,n6=21/16*GC-55/32*ay,i6=151/96*oy-417/128*WC,r6=1097/512*ay,Ff=6378137;function s6(n,e,t){const i=n-5e5,o=(t.north?e:e-1e7)/Of/(Ff*qC),a=o+t6*Math.sin(2*o)+n6*Math.sin(4*o)+i6*Math.sin(6*o)+r6*Math.sin(8*o),u=Math.sin(a),c=u*u,f=Math.cos(a),d=u/f,g=d*d,m=g*g,y=1-Ji*c,v=Math.sqrt(1-Ji*c),x=Ff/v,C=(1-Ji)/y,E=ea*f**2,S=E*E,R=i/(x*Of),T=R*R,F=T*R,O=F*R,N=O*R,M=N*R,W=a-d/C*(T/2-O/24*(5+3*g+10*E-4*S-9*ea))+M/720*(61+90*g+298*E+45*m-252*ea-3*S);let B=(R-F/6*(1+2*g+E)+N/120*(5-2*E+28*g-3*S+8*ea+24*m))/f;return B=Nm(B+xo(UC(t.number)),-Math.PI,Math.PI),[O1(B),O1(W)]}const G1=-80,W1=84,o6=-180,a6=180;function l6(n,e,t){n=Nm(n,o6,a6),e<G1?e=G1:e>W1&&(e=W1);const i=xo(e),r=Math.sin(i),s=Math.cos(i),o=r/s,a=o*o,u=a*a,c=xo(n),f=UC(t.number),d=xo(f),g=Ff/Math.sqrt(1-Ji*r**2),m=ea*s**2,y=s*Nm(c-d,-Math.PI,Math.PI),v=y*y,x=v*y,C=x*y,E=C*y,S=E*y,R=Ff*(qC*i-J4*Math.sin(2*i)+Q4*Math.sin(4*i)-e6*Math.sin(6*i)),T=Of*g*(y+x/6*(1-a+m)+E/120*(5-18*a+u+72*m-58*ea))+5e5;let F=Of*(R+g*o*(v/2+C/24*(5-a+9*m+4*m**2)+S/720*(61-58*a+u+600*m-330*ea)));return t.north||(F+=1e7),[T,F]}function UC(n){return(n-1)*6-180+3}const u6=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function jC(n){let e=0;for(const r of u6){const s=n.match(r);if(s){e=parseInt(s[1]);break}}if(!e)return null;let t=0,i=!1;return e>32700&&e<32761?t=e-32700:e>32600&&e<32661&&(i=!0,t=e-32600),t?{number:t,north:i}:null}function q1(n,e){return function(t,i,r,s){const o=t.length;r=r>1?r:2,s=s??r,i||(r>2?i=t.slice():i=new Array(o));for(let a=0;a<o;a+=s){const u=t[a],c=t[a+1],f=n(u,c,e);i[a]=f[0],i[a+1]=f[1]}return i}}function c6(n){return jC(n)?new Ad({code:n,units:"m"}):null}function h6(n){const e=jC(n.getCode());return e?{forward:q1(l6,e),inverse:q1(s6,e)}:null}const f6=[h6],d6=[c6];let Wm=!0;function VC(n){Wm=!1}function ly(n,e){if(e!==void 0){for(let t=0,i=n.length;t<i;++t)e[t]=n[t];e=e}else e=n.slice();return e}function qm(n){Z4(n.getCode(),n),Ju(n,n,ly)}function p6(n){n.forEach(qm)}function qt(n){if(typeof n!="string")return n;const e=K4(n);if(e)return e;for(const t of d6){const i=t(n);if(i)return i}return null}function Um(n,e,t,i){n=qt(n);let r;const s=n.getPointResolutionFunc();if(s){if(r=s(e,t),i&&i!==n.getUnits()){const o=n.getMetersPerUnit();o&&(r=r*o/So[i])}}else{const o=n.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{const a=Tc(n,qt("EPSG:4326"));if(!a&&o!=="degrees")r=e*n.getMetersPerUnit();else{let c=[t[0]-e/2,t[1],t[0]+e/2,t[1],t[0],t[1]-e/2,t[0],t[1]+e/2];c=a(c,c,2);const f=D1(c.slice(0,2),c.slice(2,4)),d=D1(c.slice(4,6),c.slice(6,8));r=(f+d)/2}const u=i?So[i]:n.getMetersPerUnit();u!==void 0&&(r/=u)}}return r}function U1(n){p6(n),n.forEach(function(e){n.forEach(function(t){e!==t&&Ju(e,t,ly)})})}function g6(n,e,t,i){n.forEach(function(r){e.forEach(function(s){Ju(r,s,t),Ju(s,r,i)})})}function uy(n,e){return n?typeof n=="string"?qt(n):n:qt(e)}function m6(n){return function(e,t,i,r){const s=e.length;i=i!==void 0?i:2,r=r??i,t=t!==void 0?t:new Array(s);for(let o=0;o<s;o+=r){const a=n(e.slice(o,o+i)),u=a.length;for(let c=0,f=r;c<f;++c)t[o+c]=c>=u?e[o+c]:a[c]}return t}}function Fl(n,e){return VC(),cy(n,"EPSG:4326",e!==void 0?e:"EPSG:3857")}function wo(n,e){if(n===e)return!0;const t=n.getUnits()===e.getUnits();return(n.getCode()===e.getCode()||Tc(n,e)===ly)&&t}function Tc(n,e){const t=n.getCode(),i=e.getCode();let r=kg(t,i);if(r)return r;let s=null,o=null;for(const u of f6)s||(s=u(n)),o||(o=u(e));if(!s&&!o)return null;const a="EPSG:4326";if(o)if(s)r=Og(s.inverse,o.forward);else{const u=kg(t,a);u&&(r=Og(u,o.forward))}else{const u=kg(a,i);u&&(r=Og(s.inverse,u))}return r&&(qm(n),qm(e),Ju(n,e,r)),r}function Og(n,e){return function(t,i,r,s){return i=n(t,i,r,s),e(i,i,r,s)}}function Qu(n,e){const t=qt(n),i=qt(e);return Tc(t,i)}function cy(n,e,t){const i=Qu(e,t);if(!i){const r=qt(e).getCode(),s=qt(t).getCode();throw new Error(`No transform available between ${r} and ${s}`)}return i(n,void 0,n.length)}let y6=null;function _6(){return y6}function jm(n,e){return n}function gs(n,e){return Wm&&!kf(n,[0,0])&&n[0]>=-180&&n[0]<=180&&n[1]>=-90&&n[1]<=90&&(Wm=!1,BC("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),n}function hy(n,e){return n}function zr(n,e){return n}function v6(){U1(N1),U1($1),g6($1,N1,V4,H4)}v6();const HC=new Array(6);function bi(){return[1,0,0,1,0,0]}function j1(n){return dy(n,1,0,0,1,0,0)}function fy(n,e){const t=n[0],i=n[1],r=n[2],s=n[3],o=n[4],a=n[5],u=e[0],c=e[1],f=e[2],d=e[3],g=e[4],m=e[5];return n[0]=t*u+r*c,n[1]=i*u+s*c,n[2]=t*f+r*d,n[3]=i*f+s*d,n[4]=t*g+r*m+o,n[5]=i*g+s*m+a,n}function dy(n,e,t,i,r,s,o){return n[0]=e,n[1]=t,n[2]=i,n[3]=r,n[4]=s,n[5]=o,n}function x6(n,e){return n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=e[3],n[4]=e[4],n[5]=e[5],n}function Pn(n,e){const t=e[0],i=e[1];return e[0]=n[0]*t+n[2]*i+n[4],e[1]=n[1]*t+n[3]*i+n[5],e}function Fg(n,e,t){return fy(n,dy(HC,e,0,0,t,0,0))}function b6(n,e,t){return fy(n,dy(HC,1,0,0,1,e,t))}function Hr(n,e,t,i,r,s,o,a){const u=Math.sin(s),c=Math.cos(s);return n[0]=i*c,n[1]=r*u,n[2]=-i*u,n[3]=r*c,n[4]=o*i*c-a*i*u+e,n[5]=o*r*u+a*r*c+t,n}function XC(n,e){const t=w6(e);Dt(t!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],u=e[5];return n[0]=o/t,n[1]=-r/t,n[2]=-s/t,n[3]=i/t,n[4]=(s*u-o*a)/t,n[5]=-(i*u-r*a)/t,n}function w6(n){return n[0]*n[3]-n[1]*n[2]}const E6=[1e5,1e5,1e5,1e5,2,2];function C6(n){return"matrix("+n.join(", ")+")"}function V1(n){return n.substring(7,n.length-1).split(",").map(parseFloat)}function S6(n,e){const t=V1(n),i=V1(e);for(let r=0;r<6;++r)if(Math.round((t[r]-i[r])*E6[r])!==0)return!1;return!0}function Eo(n,e,t,i,r,s,o){s=s||[],o=o||2;let a=0;for(let u=e;u<t;u+=i){const c=n[u],f=n[u+1];s[a++]=r[0]*c+r[2]*f+r[4],s[a++]=r[1]*c+r[3]*f+r[5];for(let d=2;d<o;d++)s[a++]=n[u+d]}return s&&s.length!=a&&(s.length=a),s}function YC(n,e,t,i,r,s,o){o=o||[];const a=Math.cos(r),u=Math.sin(r),c=s[0],f=s[1];let d=0;for(let g=e;g<t;g+=i){const m=n[g]-c,y=n[g+1]-f;o[d++]=c+m*a-y*u,o[d++]=f+m*u+y*a;for(let v=g+2;v<g+i;++v)o[d++]=n[v]}return o&&o.length!=d&&(o.length=d),o}function T6(n,e,t,i,r,s,o,a){a=a||[];const u=o[0],c=o[1];let f=0;for(let d=e;d<t;d+=i){const g=n[d]-u,m=n[d+1]-c;a[f++]=u+r*g,a[f++]=c+s*m;for(let y=d+2;y<d+i;++y)a[f++]=n[y]}return a&&a.length!=f&&(a.length=f),a}function R6(n,e,t,i,r,s,o){o=o||[];let a=0;for(let u=e;u<t;u+=i){o[a++]=n[u]+r,o[a++]=n[u+1]+s;for(let c=u+2;c<u+i;++c)o[a++]=n[c]}return o&&o.length!=a&&(o.length=a),o}const H1=bi(),I6=[NaN,NaN];class KC extends es{constructor(){super(),this.extent_=Qi(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=TC((e,t,i)=>{if(!i)return this.getSimplifiedGeometry(t);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(t)})}simplifyTransformed(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}clone(){return Ye()}closestPointXY(e,t,i,r){return Ye()}containsXY(e,t){return this.closestPointXY(e,t,I6,Number.MIN_VALUE)===0}getClosestPoint(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return Ye()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&jl(t),this.extentRevision_=this.getRevision()}return k4(this.extent_,e)}rotate(e,t){Ye()}scale(e,t,i){Ye()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return Ye()}getType(){return Ye()}applyTransform(e){Ye()}intersectsExtent(e){return Ye()}translate(e,t){Ye()}transform(e,t){const i=qt(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){const u=i.getExtent(),c=i.getWorldExtent(),f=Tn(c)/Tn(u);Hr(H1,c[0],c[3],f,-f,0,0,0);const d=Eo(s,0,s.length,a,H1,o),g=Qu(i,t);return g?g(d,d,a):d}:Qu(i,t);return this.applyTransform(r),this}}class Ma extends KC{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return iy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return Ye()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,t){this.stride=X1(e),this.layout=e,this.flatCoordinates=t}setCoordinates(e,t){Ye()}setLayout(e,t,i){let r;if(e)r=X1(e);else{for(let s=0;s<i;++s){if(t.length===0){this.layout="XY",this.stride=2;return}t=t[0]}r=t.length,e=La(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();YC(i,0,i.length,r,e,t,i),this.changed()}}scale(e,t,i){t===void 0&&(t=e),i||(i=Ni(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();T6(r,0,r.length,s,e,t,i,r),this.changed()}}translate(e,t){const i=this.getFlatCoordinates();if(i){const r=this.getStride();R6(i,0,i.length,r,e,t,i),this.changed()}}}function La(n){let e;return n==2?e="XY":n==3?e="XYZ":n==4&&(e="XYZM"),e}function X1(n){let e;return n=="XY"?e=2:n=="XYZ"||n=="XYM"?e=3:n=="XYZM"&&(e=4),e}function A6(n,e,t){const i=n.getFlatCoordinates();if(!i)return null;const r=n.getStride();return Eo(i,0,i.length,r,e,t)}function ZC(n,e,t,i){let r=0;const s=n[t-i],o=n[t-i+1];let a=0,u=0;for(;e<t;e+=i){const c=n[e]-s,f=n[e+1]-o;r+=u*c-a*f,a=c,u=f}return r/2}function JC(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];r+=ZC(n,e,a,i),e=a}return r}function P6(n,e,t,i){let r=0;for(let s=0,o=t.length;s<o;++s){const a=t[s];r+=JC(n,e,a,i),e=a[a.length-1]}return r}function Y1(n,e,t,i,r,s,o){const a=n[e],u=n[e+1],c=n[t]-a,f=n[t+1]-u;let d;if(c===0&&f===0)d=e;else{const g=((r-a)*c+(s-u)*f)/(c*c+f*f);if(g>1)d=t;else if(g>0){for(let m=0;m<i;++m)o[m]=Ai(n[e+m],n[t+m],g);o.length=i;return}else d=e}for(let g=0;g<i;++g)o[g]=n[d+g];o.length=i}function py(n,e,t,i,r){let s=n[e],o=n[e+1];for(e+=i;e<t;e+=i){const a=n[e],u=n[e+1],c=fa(s,o,a,u);c>r&&(r=c),s=a,o=u}return r}function gy(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];r=py(n,e,a,i,r),e=a}return r}function M6(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];r=gy(n,e,a,i,r),e=a[a.length-1]}return r}function my(n,e,t,i,r,s,o,a,u,c,f){if(e==t)return c;let d,g;if(r===0){if(g=fa(o,a,n[e],n[e+1]),g<c){for(d=0;d<i;++d)u[d]=n[e+d];return u.length=i,g}return c}f=f||[NaN,NaN];let m=e+i;for(;m<t;)if(Y1(n,m-i,m,i,o,a,f),g=fa(o,a,f[0],f[1]),g<c){for(c=g,d=0;d<i;++d)u[d]=f[d];u.length=i,m+=i}else m+=i*Math.max((Math.sqrt(g)-Math.sqrt(c))/r|0,1);if(s&&(Y1(n,t-i,e,i,o,a,f),g=fa(o,a,f[0],f[1]),g<c)){for(c=g,d=0;d<i;++d)u[d]=f[d];u.length=i}return c}function yy(n,e,t,i,r,s,o,a,u,c,f){f=f||[NaN,NaN];for(let d=0,g=t.length;d<g;++d){const m=t[d];c=my(n,e,m,i,r,s,o,a,u,c,f),e=m}return c}function L6(n,e,t,i,r,s,o,a,u,c,f){f=f||[NaN,NaN];for(let d=0,g=t.length;d<g;++d){const m=t[d];c=yy(n,e,m,i,r,s,o,a,u,c,f),e=m[m.length-1]}return c}function k6(n,e,t,i){for(let r=0,s=t.length;r<s;++r)n[e++]=t[r];return e}function Ld(n,e,t,i){for(let r=0,s=t.length;r<s;++r){const o=t[r];for(let a=0;a<i;++a)n[e++]=o[a]}return e}function Rc(n,e,t,i,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){const u=Ld(n,e,t[o],i);r[s++]=u,e=u}return r.length=s,r}function QC(n,e,t,i,r){r=r||[];let s=0;for(let o=0,a=t.length;o<a;++o){const u=Rc(n,e,t[o],i,r[s]);u.length===0&&(u[0]=e),r[s++]=u,e=u[u.length-1]}return r.length=s,r}function fo(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<t;o+=i)r[s++]=n.slice(o,o+i);return r.length=s,r}function ec(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){const u=t[o];r[s++]=fo(n,e,u,i,r[s]),e=u}return r.length=s,r}function Vm(n,e,t,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=t.length;o<a;++o){const u=t[o];r[s++]=u.length===1&&u[0]===e?[]:ec(n,e,u,i,r[s]),e=u[u.length-1]}return r.length=s,r}function kd(n,e,t,i,r,s,o){const a=(t-e)/i;if(a<3){for(;e<t;e+=i)s[o++]=n[e],s[o++]=n[e+1];return o}const u=new Array(a);u[0]=1,u[a-1]=1;const c=[e,t-i];let f=0;for(;c.length>0;){const d=c.pop(),g=c.pop();let m=0;const y=n[g],v=n[g+1],x=n[d],C=n[d+1];for(let E=g+i;E<d;E+=i){const S=n[E],R=n[E+1],T=R4(S,R,y,v,x,C);T>m&&(f=E,m=T)}m>r&&(u[(f-e)/i]=1,g+i<f&&c.push(g,f),f+i<d&&c.push(f,d))}for(let d=0;d<a;++d)u[d]&&(s[o++]=n[e+d*i],s[o++]=n[e+d*i+1]);return o}function eS(n,e,t,i,r,s,o,a){for(let u=0,c=t.length;u<c;++u){const f=t[u];o=kd(n,e,f,i,r,s,o),a.push(o),e=f}return o}function Yo(n,e){return e*Math.round(n/e)}function O6(n,e,t,i,r,s,o){if(e==t)return o;let a=Yo(n[e],r),u=Yo(n[e+1],r);e+=i,s[o++]=a,s[o++]=u;let c,f;do if(c=Yo(n[e],r),f=Yo(n[e+1],r),e+=i,e==t)return s[o++]=c,s[o++]=f,o;while(c==a&&f==u);for(;e<t;){const d=Yo(n[e],r),g=Yo(n[e+1],r);if(e+=i,d==c&&g==f)continue;const m=c-a,y=f-u,v=d-a,x=g-u;if(m*x==y*v&&(m<0&&v<m||m==v||m>0&&v>m)&&(y<0&&x<y||y==x||y>0&&x>y)){c=d,f=g;continue}s[o++]=c,s[o++]=f,a=c,u=f,c=d,f=g}return s[o++]=c,s[o++]=f,o}function _y(n,e,t,i,r,s,o,a){for(let u=0,c=t.length;u<c;++u){const f=t[u];o=O6(n,e,f,i,r,s,o),a.push(o),e=f}return o}function F6(n,e,t,i,r,s,o,a){for(let u=0,c=t.length;u<c;++u){const f=t[u],d=[];o=_y(n,e,f,i,r,s,o,d),a.push(d),e=f[f.length-1]}return o}class tc extends Ma{constructor(e,t){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}clone(){return new tc(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(py(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),my(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,i,r))}getArea(){return ZC(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const t=[];return t.length=kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new tc(t,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ld(this.flatCoordinates,0,e,this.stride),this.changed()}}class Is extends Ma{constructor(e,t){super(),this.setCoordinates(e,t)}clone(){const e=new Is(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){const s=this.flatCoordinates,o=fa(e,t,s[0],s[1]);if(o<r){const a=this.stride;for(let u=0;u<a;++u)i[u]=s[u];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return LC(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return ny(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=k6(this.flatCoordinates,0,e,this.stride),this.changed()}}function D6(n,e,t,i,r){return!FC(r,function(o){return!ta(n,e,t,i,o[0],o[1])})}function ta(n,e,t,i,r,s){let o=0,a=n[t-i],u=n[t-i+1];for(;e<t;e+=i){const c=n[e],f=n[e+1];u<=s?f>s&&(c-a)*(s-u)-(r-a)*(f-u)>0&&o++:f<=s&&(c-a)*(s-u)-(r-a)*(f-u)<0&&o--,a=c,u=f}return o!==0}function vy(n,e,t,i,r,s){if(t.length===0||!ta(n,e,t[0],i,r,s))return!1;for(let o=1,a=t.length;o<a;++o)if(ta(n,t[o-1],t[o],i,r,s))return!1;return!0}function N6(n,e,t,i,r,s){if(t.length===0)return!1;for(let o=0,a=t.length;o<a;++o){const u=t[o];if(vy(n,e,u,i,r,s))return!0;e=u[u.length-1]}return!1}function xy(n,e,t,i,r,s,o){let a,u,c,f,d,g,m;const y=r[s+1],v=[];for(let E=0,S=t.length;E<S;++E){const R=t[E];for(f=n[R-i],g=n[R-i+1],a=e;a<R;a+=i)d=n[a],m=n[a+1],(y<=g&&m<=y||g<=y&&y<=m)&&(c=(y-g)/(m-g)*(d-f)+f,v.push(c)),f=d,g=m}let x=NaN,C=-1/0;for(v.sort(Gr),f=v[0],a=1,u=v.length;a<u;++a){d=v[a];const E=Math.abs(d-f);E>C&&(c=(f+d)/2,vy(n,e,t,i,c,y)&&(x=c,C=E)),f=d}return isNaN(x)&&(x=r[s]),o?(o.push(x,y,C),o):[x,y,C]}function tS(n,e,t,i,r){let s=[];for(let o=0,a=t.length;o<a;++o){const u=t[o];s=xy(n,e,u,i,r,2*o,s),e=u[u.length-1]}return s}function nS(n,e,t,i,r){let s;for(e+=i;e<t;e+=i)if(s=r(n.slice(e-i,e),n.slice(e,e+i)),s)return s;return!1}function Od(n,e,t,i,r,s){return s=s??OC(Qi(),n,e,t,i),vn(r,s)?s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:nS(n,e,t,i,function(o,a){return O4(r,o,a)}):!1}function z6(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){if(Od(n,e,t[s],i,r))return!0;e=t[s]}return!1}function iS(n,e,t,i,r){return!!(Od(n,e,t,i,r)||ta(n,e,t,i,r[0],r[1])||ta(n,e,t,i,r[0],r[3])||ta(n,e,t,i,r[2],r[1])||ta(n,e,t,i,r[2],r[3]))}function rS(n,e,t,i,r){if(!iS(n,e,t[0],i,r))return!1;if(t.length===1)return!0;for(let s=1,o=t.length;s<o;++s)if(D6(n,t[s-1],t[s],i,r)&&!Od(n,t[s-1],t[s],i,r))return!1;return!0}function $6(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];if(rS(n,e,a,i,r))return!0;e=a[a.length-1]}return!1}function B6(n,e,t,i){for(;e<t-i;){for(let r=0;r<i;++r){const s=n[e+r];n[e+r]=n[t-i+r],n[t-i+r]=s}e+=i,t-=i}}function by(n,e,t,i){let r=0,s=n[t-i],o=n[t-i+1];for(;e<t;e+=i){const a=n[e],u=n[e+1];r+=(a-s)*(u+o),s=a,o=u}return r===0?void 0:r>0}function wy(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],u=by(n,e,a,i);if(s===0){if(r&&u||!r&&!u)return!1}else if(r&&!u||!r&&u)return!1;e=a}return!0}function sS(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s){const a=t[s];if(!wy(n,e,a,i,r))return!1;a.length&&(e=a[a.length-1])}return!0}function Df(n,e,t,i,r){r=r!==void 0?r:!1;for(let s=0,o=t.length;s<o;++s){const a=t[s],u=by(n,e,a,i);(s===0?r&&u||!r&&!u:r&&!u||!r&&u)&&B6(n,e,a,i),e=a}return e}function Hm(n,e,t,i,r){for(let s=0,o=t.length;s<o;++s)e=Df(n,e,t[s],i,r);return e}function oS(n,e){const t=[];let i=0,r=0,s;for(let o=0,a=e.length;o<a;++o){const u=e[o],c=by(n,i,u,2);if(s===void 0&&(s=c),c===s)t.push(e.slice(r,o+1));else{if(t.length===0)continue;t[t.length-1].push(e[r])}r=o+1,i=u}return t}class Sr extends Ma{constructor(e,t,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,t!==void 0&&i?(this.setFlatCoordinates(t,e),this.ends_=i):this.setCoordinates(e,t)}appendLinearRing(e){this.flatCoordinates?Zi(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new Sr(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return vy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}getArea(){return JC(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Df(t,0,this.ends_,this.stride,e)):t=this.flatCoordinates,ec(t,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Ni(this.getExtent());this.flatInteriorPoint_=xy(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new Is(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new tc(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,t=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const u=i[o],c=new tc(t.slice(s,u),e);r.push(c),s=u}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;wy(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Df(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=_y(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new Sr(t,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return rS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function K1(n){if(Pa(n))throw new Error("Cannot create polygon from empty extent");const e=n[0],t=n[1],i=n[2],r=n[3],s=[e,t,e,r,i,r,i,t,e,t];return new Sr(s,"XY",[s.length])}function Ey(n,e,t,i){const r=Pt(e)/t[0],s=Tn(e)/t[1];return i?Math.min(n,Math.max(r,s)):Math.min(n,Math.min(r,s))}function Cy(n,e,t){let i=Math.min(n,e);const r=50;return i*=Math.log(1+r*Math.max(0,n/e-1))/r+1,t&&(i=Math.max(i,t),i/=Math.log(1+r*Math.max(0,t/n-1))/r+1),fn(i,t/2,e*2)}function G6(n,e,t,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){const u=n[0],c=n[n.length-1],f=t?Ey(u,t,o,i):u;if(a)return e?Cy(r,f,c):fn(r,c,f);const d=Math.min(f,r),g=Math.floor(Cd(n,d,s));return n[g]>f&&g<n.length-1?n[g+1]:n[g]}}}function W6(n,e,t,i,r,s){return i=i!==void 0?i:!0,t=t!==void 0?t:0,function(o,a,u,c){if(o!==void 0){const f=r?Ey(e,r,u,s):e;if(c)return i?Cy(o,f,t):fn(o,t,f);const d=1e-9,g=Math.ceil(Math.log(e/f)/Math.log(n)-d),m=-a*(.5-d)+.5,y=Math.min(f,o),v=Math.floor(Math.log(e/y)/Math.log(n)+m),x=Math.max(g,v),C=e/Math.pow(n,x);return fn(C,t,f)}}}function Z1(n,e,t,i,r){return t=t!==void 0?t:!0,function(s,o,a,u){if(s!==void 0){const c=i?Ey(n,i,a,r):n;return!t||!u?fn(s,e,c):Cy(s,c,e)}}}function Sy(n){if(n!==void 0)return 0}function J1(n){if(n!==void 0)return n}function q6(n){const e=2*Math.PI/n;return function(t,i){if(i)return t;if(t!==void 0)return t=Math.floor(t/e+.5)*e,t}}function U6(n){const e=xo(5);return function(t,i){return i||t===void 0?t:Math.abs(t)<=e?0:t}}const aS=42,Ty=256,Dg=0;class gr extends es{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=uy(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&VC(),e.center&&(e.center=gs(e.center,this.projection_)),e.extent&&(e.extent=zr(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const t=Object.assign({},e);for(const a in ur)delete t[a];this.setProperties(t,!0);const i=V6(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=j6(e),s=i.constraint,o=H6(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let t=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];t=t||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-t[3]+t[1]-r[1]),a=s/2*(r[0]-t[0]+t[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const t=this.getProperties();return t.resolution!==void 0?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const t=new Array(arguments.length);for(let i=0;i<t.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=gs(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=gs(r.anchor,this.getProjection())),t[i]=r}this.animateInternal.apply(this,t)}animateInternal(e){let t=arguments.length,i;t>1&&typeof arguments[t-1]=="function"&&(i=arguments[t-1],--t);let r=0;for(;r<t&&!this.isDef();++r){const f=arguments[r];f.center&&this.setCenterInternal(f.center),f.zoom!==void 0?this.setZoom(f.zoom):f.resolution&&this.setResolution(f.resolution),f.rotation!==void 0&&this.setRotation(f.rotation)}if(r===t){i&&Xh(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,u=this.targetRotation_;const c=[];for(;r<t;++r){const f=arguments[r],d={start:s,complete:!1,anchor:f.anchor,duration:f.duration!==void 0?f.duration:1e3,easing:f.easing||G4,callback:i};if(f.center&&(d.sourceCenter=o,d.targetCenter=f.center.slice(),o=d.targetCenter),f.zoom!==void 0?(d.sourceResolution=a,d.targetResolution=this.getResolutionForZoom(f.zoom),a=d.targetResolution):f.resolution&&(d.sourceResolution=a,d.targetResolution=f.resolution,a=d.targetResolution),f.rotation!==void 0){d.sourceRotation=u;const g=gl(f.rotation-u+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=u+g,u=d.targetRotation}X6(d)?d.complete=!0:s+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(sn.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[sn.ANIMATING]>0}getInteracting(){return this.hints_[sn.INTERACTING]>0}cancelAnimations(){this.setHint(sn.ANIMATING,-this.hints_[sn.ANIMATING]);let e;for(let t=0,i=this.animations_.length;t<i;++t){const r=this.animations_[t];if(r[0].callback&&Xh(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let t=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const u=r[o];if(u.complete)continue;const c=e-u.start;let f=u.duration>0?c/u.duration:1;f>=1?(u.complete=!0,f=1):s=!1;const d=u.easing(f);if(u.sourceCenter){const g=u.sourceCenter[0],m=u.sourceCenter[1],y=u.targetCenter[0],v=u.targetCenter[1];this.nextCenter_=u.targetCenter;const x=g+d*(y-g),C=m+d*(v-m);this.targetCenter_=[x,C]}if(u.sourceResolution&&u.targetResolution){const g=d===1?u.targetResolution:u.sourceResolution+d*(u.targetResolution-u.sourceResolution);if(u.anchor){const m=this.getViewportSize_(this.getRotation()),y=this.constraints_.resolution(g,0,m,!0);this.targetCenter_=this.calculateCenterZoom(y,u.anchor)}this.nextResolution_=u.targetResolution,this.targetResolution_=g,this.applyTargetState_(!0)}if(u.sourceRotation!==void 0&&u.targetRotation!==void 0){const g=d===1?gl(u.targetRotation+Math.PI,2*Math.PI)-Math.PI:u.sourceRotation+d*(u.targetRotation-u.sourceRotation);if(u.anchor){const m=this.constraints_.rotation(g,!0);this.targetCenter_=this.calculateCenterRotate(m,u.anchor)}this.nextRotation_=u.targetRotation,this.targetRotation_=g}if(this.applyTargetState_(!0),t=!0,!u.complete)break}if(s){this.animations_[i]=null,this.setHint(sn.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&Xh(o,!0)}}this.animations_=this.animations_.filter(Boolean),t&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,t){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-t[0],r[1]-t[1]],ry(i,e-this.getRotation()),D4(i,t)),i}calculateCenterZoom(e,t){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=t[0]-e*(t[0]-r[0])/s,a=t[1]-e*(t[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){const t=this.viewportSize_;if(e){const i=t[0],r=t[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return t}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&jm(e,this.getProjection())}getCenterInternal(){return this.get(ur.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const t=this.calculateExtentInternal(e);return hy(t,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const t=this.getCenterInternal();Dt(t,"The view center is not defined");const i=this.getResolution();Dt(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return Dt(r!==void 0,"The view rotation is not defined"),Lf(t,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(ur.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,t){return this.getResolutionForExtentInternal(zr(e,this.getProjection()),t)}getResolutionForExtentInternal(e,t){t=t||this.getViewportSizeMinusPadding_();const i=Pt(e)/t[0],r=Tn(e)/t[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const t=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(t/i)/Math.log(e);return function(s){return t/Math.pow(e,s*r)}}getRotation(){return this.get(ur.ROTATION)}getValueForResolutionFunction(e){const t=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/t;return function(o){return Math.log(i/o)/t/s}}getViewportSizeMinusPadding_(e){let t=this.getViewportSize_(e);const i=this.padding_;return i&&(t=[t[0]-i[1]-i[3],t[1]-i[0]-i[2]]),t}getState(){const e=this.getProjection(),t=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=Ng(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],t,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const t=this.getResolution();return t!==void 0&&(e=this.getZoomForResolution(t)),e}getZoomForResolution(e){let t=this.minZoom_||0,i,r;if(this.resolutions_){const s=Cd(this.resolutions_,e,1);t=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return t+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){var t;if((t=this.resolutions_)!=null&&t.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=fn(Math.floor(e),0,this.resolutions_.length-2),r=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(r,fn(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,t){let i;if(Dt(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){Dt(!Pa(e),"Cannot fit empty extent provided as `geometry`");const r=zr(e,this.getProjection());i=K1(r)}else if(e.getType()==="Circle"){const r=zr(e.getExtent(),this.getProjection());i=K1(r),i.rotate(this.getRotation(),Ni(r))}else i=e;this.fitInternal(i,t)}rotatedExtentForGeometry(e){const t=this.getRotation(),i=Math.cos(t),r=Math.sin(-t),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,u=1/0,c=-1/0,f=-1/0;for(let d=0,g=s.length;d<g;d+=o){const m=s[d]*i-s[d+1]*r,y=s[d]*r+s[d+1]*i;a=Math.min(a,m),u=Math.min(u,y),c=Math.max(c,m),f=Math.max(f,y)}return[a,u,c,f]}fitInternal(e,t){t=t||{};let i=t.size;i||(i=this.getViewportSizeMinusPadding_());const r=t.padding!==void 0?t.padding:[0,0,0,0],s=t.nearest!==void 0?t.nearest:!1;let o;t.minResolution!==void 0?o=t.minResolution:t.maxZoom!==void 0?o=this.getResolutionForZoom(t.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let u=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);u=isNaN(u)?o:Math.max(u,o),u=this.getConstrainedResolution(u,s?0:1);const c=this.getRotation(),f=Math.sin(c),d=Math.cos(c),g=Ni(a);g[0]+=(r[1]-r[3])/2*u,g[1]+=(r[0]-r[2])/2*u;const m=g[0]*d-g[1]*f,y=g[1]*d+g[0]*f,v=this.getConstrainedCenter([m,y],u),x=t.callback?t.callback:Zu;t.duration!==void 0?this.animateInternal({resolution:u,center:v,duration:t.duration,easing:t.easing},x):(this.targetResolution_=u,this.targetCenter_=v,this.applyTargetState_(!1,!0),Xh(x,!0))}centerOn(e,t,i){this.centerOnInternal(gs(e,this.getProjection()),t,i)}centerOnInternal(e,t,i){this.setCenterInternal(Ng(e,t,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,t,i,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),u=Ng(e,r,[a[0]/2+o[3],a[1]/2+o[0]],t,i);s=[e[0]-u[0],e[1]-u[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const t=jm(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}adjustCenterInternal(e){const t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}adjustResolution(e,t){t=t&&gs(t,this.getProjection()),this.adjustResolutionInternal(e,t)}adjustResolutionInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);t&&(this.targetCenter_=this.calculateCenterZoom(s,t)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}adjustRotation(e,t){t&&(t=gs(t,this.getProjection())),this.adjustRotationInternal(e,t)}adjustRotationInternal(e,t){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);t&&(this.targetCenter_=this.calculateCenterRotate(r,t)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&gs(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,t){const i=this.getAnimating()||this.getInteracting()||t,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(ur.ROTATION)!==r&&this.set(ur.ROTATION,r),this.get(ur.RESOLUTION)!==o&&(this.set(ur.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(ur.CENTER)||!kf(this.get(ur.CENTER),a))&&this.set(ur.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,t,i){e=e!==void 0?e:200;const r=t||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),u=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=u,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!kf(this.getCenterInternal(),u))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:u,resolution:a,duration:e,easing:Vl,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(sn.INTERACTING,1)}endInteraction(e,t,i){i=i&&gs(i,this.getProjection()),this.endInteractionInternal(e,t,i)}endInteractionInternal(e,t,i){this.getInteracting()&&(this.setHint(sn.INTERACTING,-1),this.resolveConstraints(e,t,i))}getConstrainedCenter(e,t){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),i)}getConstrainedZoom(e,t){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,t))}getConstrainedResolution(e,t){t=t||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,i)}}function Xh(n,e){setTimeout(function(){n(e)},0)}function j6(n){if(n.extent!==void 0){const t=n.smoothExtentConstraint!==void 0?n.smoothExtentConstraint:!0;return F1(n.extent,n.constrainOnlyCenter,t)}const e=uy(n.projection,"EPSG:3857");if(n.multiWorld!==!0&&e.isGlobal()){const t=e.getExtent().slice();return t[0]=-1/0,t[2]=1/0,F1(t,!1,!1)}return A4}function V6(n){let e,t,i,o=n.minZoom!==void 0?n.minZoom:Dg,a=n.maxZoom!==void 0?n.maxZoom:28;const u=n.zoomFactor!==void 0?n.zoomFactor:2,c=n.multiWorld!==void 0?n.multiWorld:!1,f=n.smoothResolutionConstraint!==void 0?n.smoothResolutionConstraint:!0,d=n.showFullExtent!==void 0?n.showFullExtent:!1,g=uy(n.projection,"EPSG:3857"),m=g.getExtent();let y=n.constrainOnlyCenter,v=n.extent;if(!c&&!v&&g.isGlobal()&&(y=!1,v=m),n.resolutions!==void 0){const x=n.resolutions;t=x[o],i=x[a]!==void 0?x[a]:x[x.length-1],n.constrainResolution?e=G6(x,f,!y&&v,d):e=Z1(t,i,f,!y&&v,d)}else{const C=(m?Math.max(Pt(m),Tn(m)):360*So.degrees/g.getMetersPerUnit())/Ty/Math.pow(2,Dg),E=C/Math.pow(2,28-Dg);t=n.maxResolution,t!==void 0?o=0:t=C/Math.pow(u,o),i=n.minResolution,i===void 0&&(n.maxZoom!==void 0?n.maxResolution!==void 0?i=t/Math.pow(u,a):i=C/Math.pow(u,a):i=E),a=o+Math.floor(Math.log(t/i)/Math.log(u)),i=t/Math.pow(u,a-o),n.constrainResolution?e=W6(u,t,i,f,!y&&v,d):e=Z1(t,i,f,!y&&v,d)}return{constraint:e,maxResolution:t,minResolution:i,minZoom:o,zoomFactor:u}}function H6(n){if(n.enableRotation!==void 0?n.enableRotation:!0){const t=n.constrainRotation;return t===void 0||t===!0?U6():t===!1?J1:typeof t=="number"?q6(t):J1}return Sy}function X6(n){return!(n.sourceCenter&&n.targetCenter&&!kf(n.sourceCenter,n.targetCenter)||n.sourceResolution!==n.targetResolution||n.sourceRotation!==n.targetRotation)}function Ng(n,e,t,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=n[0]*s-n[1]*o,u=n[1]*s+n[0]*o;a+=(e[0]/2-t[0])*i,u+=(t[1]-e[1]/2)*i,o=-o;const c=a*s-u*o,f=u*s+a*o;return[c,f]}const Yh="ol-hidden",Ic="ol-unselectable",Q1="ol-unsupported",Fd="ol-control",eb="ol-collapsed",Y6=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),tb=["style","variant","weight","size","lineHeight","family"],Xm={normal:400,bold:700},Ym=function(n){const e=n.match(Y6);if(!e)return null;const t={lineHeight:"normal",size:"1.2em",style:"normal",weight:"400",variant:"normal"};for(let i=0,r=tb.length;i<r;++i){const s=e[i+1];s!==void 0&&(t[tb[i]]=typeof s=="string"?s.trim():s)}return isNaN(Number(t.weight))&&t.weight in Xm&&(t.weight=Xm[t.weight]),t.families=t.family.split(/,\s?/).map(i=>i.trim().replace(/^['"]|['"]$/g,"")),t};function dn(n,e,t,i){let r;return t&&t.length?r=t.shift():ty?r=new OffscreenCanvas(n||300,e||300):r=document.createElement("canvas"),n&&(r.width=n),e&&(r.height=e),r.getContext("2d",i)}let zg;function Nf(){return zg||(zg=dn(1,1)),zg}function Ac(n){const e=n.canvas;e.width=1,e.height=1,n.clearRect(0,0,1,1)}function zf(n,e){const t=e.parentNode;t&&t.replaceChild(n,e)}function K6(n){for(;n.lastChild;)n.lastChild.remove()}function Z6(n,e){const t=n.childNodes;for(let i=0;;++i){const r=t[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){n.appendChild(s);continue}if(!s){n.removeChild(r),--i;continue}n.insertBefore(s,r)}}}class Dd extends es{constructor(e){super();const t=e.element;t&&!e.target&&!t.style.pointerEvents&&(t.style.pointerEvents="auto"),this.element=t||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var t;this.map_&&((t=this.element)==null||t.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Zt(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=e,e){const i=this.target_??e.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Zu&&this.listenerKeys.push(At(e,no.POSTRENDER,this.render,this)),e.render()}}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class J6 extends Dd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const t=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:t+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:t+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const u=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(u),this.toggleButton_.addEventListener(Ve.CLICK,this.handleClick_.bind(this),!1);const c=t+" "+Ic+" "+Fd+(this.collapsed_&&this.collapsible_?" "+eb:"")+(this.collapsible_?"":" ol-uncollapsible"),f=this.element;f.className=c,f.appendChild(this.toggleButton_),f.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const t=this.getMap().getAllLayers(),i=new Set(t.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!t.some(s=>{var o;return((o=s.getSource())==null?void 0:o.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const t=await Promise.all(this.collectSourceAttributions_(e).map(r=>kl(()=>r))),i=t.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Io(t,this.renderedAttributions_)){K6(this.ulElement_);for(let r=0,s=t.length;r<s;++r){const o=document.createElement("li");o.innerHTML=t[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=t}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(eb),this.collapsed_?zf(this.collapseLabel_,this.label_):zf(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class lS extends Dd{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const t=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=t+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(Ve.CLICK,this.handleClick_.bind(this),!1);const a=t+" "+Ic+" "+Fd,u=this.element;u.className=a,u.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Yh)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const t=this.getMap().getView();if(!t)return;const i=t.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?t.animate({rotation:0,duration:this.duration_,easing:Vl}):t.setRotation(0))}render(e){const t=e.frameState;if(!t)return;const i=t.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(Yh);!s&&i===0?this.element.classList.add(Yh):s&&i!==0&&this.element.classList.remove(Yh)}this.label_.style.transform=r}this.rotation_=i}}class uS extends Dd{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const t=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:t+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:t+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",u=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",c=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=r,f.setAttribute("type","button"),f.title=u,f.appendChild(typeof o=="string"?document.createTextNode(o):o),f.addEventListener(Ve.CLICK,this.handleClick_.bind(this,i),!1);const d=document.createElement("button");d.className=s,d.setAttribute("type","button"),d.title=c,d.appendChild(typeof a=="string"?document.createTextNode(a):a),d.addEventListener(Ve.CLICK,this.handleClick_.bind(this,-i),!1);const g=t+" "+Ic+" "+Fd,m=this.element;m.className=g,m.appendChild(f),m.appendChild(d),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,t){t.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Vl})):i.setZoom(s)}}}function cS(n){n=n||{};const e=new xr;return(n.zoom!==void 0?n.zoom:!0)&&e.push(new uS(n.zoomOptions)),(n.rotate!==void 0?n.rotate:!0)&&e.push(new lS(n.rotateOptions)),(n.attribution!==void 0?n.attribution:!0)&&e.push(new J6(n.attributionOptions)),e}class Q6{constructor(e,t,i){this.decay_=e,this.minVelocity_=t,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,t){this.points_.push(e,t,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;let i=t-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[t+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[t]-this.points_[i],o=this.points_[t+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const nb={ACTIVE:"active"};class Hl extends es{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(nb.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(nb.ACTIVE,e)}setMap(e){this.map_=e}}function e$(n,e,t){const i=n.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];n.animateInternal({duration:t!==void 0?t:250,easing:W4,center:n.getConstrainedCenter(r)})}}function Ry(n,e,t,i){const r=n.getZoom();if(r===void 0)return;const s=n.getConstrainedZoom(r+e),o=n.getResolutionForZoom(s);n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:o,anchor:t,duration:i!==void 0?i:250,easing:Vl})}class t$ extends Hl{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let t=!1;if(e.type==rn.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();Ry(a,o,s,this.duration_),i.preventDefault(),t=!0}return!t}}function Km(n){const e=arguments;return function(t){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](t),!!i);++r);return i}}const n$=function(n){const e=n.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},i$=function(n){const e=n.map.getTargetElement(),t=e.getRootNode(),i=n.map.getOwnerDocument().activeElement;return t instanceof ShadowRoot?t.host.contains(i):e.contains(i)},hS=function(n){const e=n.map.getTargetElement(),t=e.getRootNode();return(t instanceof ShadowRoot?t.host:e).hasAttribute("tabindex")?i$(n):!0},r$=xa,s$=function(n){return n.type==rn.CLICK},fS=function(n){const e=n.originalEvent;return"pointerId"in e&&e.button==0&&!(b4&&RC&&e.ctrlKey)},ib=wc,o$=function(n){return n.type==rn.SINGLECLICK},dS=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},a$=function(n){const e=n.originalEvent;return RC?e.metaKey:e.ctrlKey},pS=function(n){const e=n.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},gS=function(n){const e=n.originalEvent,t=e.target.tagName;return t!=="INPUT"&&t!=="SELECT"&&t!=="TEXTAREA"&&!e.target.isContentEditable},$g=function(n){const e=n.originalEvent;return"pointerId"in e&&e.pointerType=="mouse"},l$=function(n){const e=n.originalEvent;return"pointerId"in e&&e.isPrimary&&e.button===0};class Pc extends Hl{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==rn.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==rn.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==rn.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==rn.POINTERMOVE&&this.handleMoveEvent(e);return!t}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function Iy(n){const e=n.length;let t=0,i=0;for(let r=0;r<e;r++)t+=n[r].clientX,i+=n[r].clientY;return{clientX:t/e,clientY:i/e}}class u$ extends Pc{constructor(e){super({stopDown:wc}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const t=e.condition?e.condition:Km(dS,l$);this.condition_=e.onFocusOnly?Km(hS,t):t,this.noKinetic_=!1}handleDragEvent(e){const t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());const i=this.targetPointers,r=t.getEventPixel(Iy(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();N4(s,a.getResolution()),ry(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const t=e.map,i=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),u=t.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(u),duration:500,easing:Vl})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class c$ extends Pc{constructor(e){e=e||{},super({stopDown:wc}),this.condition_=e.condition?e.condition:n$,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!$g(e))return;const t=e.map,i=t.getView();if(i.getConstraints().rotation===Sy)return;const r=t.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return $g(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return $g(e)&&fS(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class h$ extends bc{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,t=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],t[0])+i,r.top=Math.min(e[1],t[1])+i,r.width=Math.abs(t[0]-e[0])+i,r.height=Math.abs(t[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,t=this.endPixel_,r=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Sr([r])}getGeometry(){return this.geometry_}}const Za={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class vu extends tr{constructor(e,t,i){super(e),this.coordinate=t,this.mapBrowserEvent=i}}class f$ extends Pc{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new h$(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??fS,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,t,i){const r=i[0]-t[0],s=i[1]-t[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new vu(Za.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new vu(t?Za.BOXEND:Za.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new vu(Za.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new vu(Za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new vu(Za.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class d$ extends f${constructor(e){e=e||{};const t=e.condition?e.condition:pS;super({condition:t,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Vl})}}const jo={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class p$ extends Hl{constructor(e){super(),e=e||{},this.defaultCondition_=function(t){return dS(t)&&gS(t)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let t=!1;if(e.type==Ve.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==jo.DOWN||r==jo.LEFT||r==jo.RIGHT||r==jo.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let u=0,c=0;r==jo.DOWN?c=-a:r==jo.LEFT?u=-a:r==jo.RIGHT?u=a:c=a;const f=[u,c];ry(f,o.getRotation()),e$(o,f,this.duration_),i.preventDefault(),t=!0}}return!t}}class g$ extends Hl{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(t){return!a$(t)&&gS(t)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let t=!1;if(e.type==Ve.KEYDOWN||e.type==Ve.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();Ry(a,o,void 0,this.duration_),i.preventDefault(),t=!0}}return!t}}const m$=40,y$=300;class _$ extends Hl{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const t=e.condition?e.condition:r$;this.condition_=e.onFocusOnly?Km(hS,t):t,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==Ve.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let s=r.deltaY;switch(r.deltaMode){case WheelEvent.DOM_DELTA_LINE:s*=m$;break;case WheelEvent.DOM_DELTA_PAGE:s*=y$;break}if(s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=s;const u=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),u),!1}handleWheelZoom_(e){const t=e.getView();t.getAnimating()&&t.cancelAnimations();let i=-fn(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Ry(t,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class v$ extends Pc{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wc),super(t),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let t=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const u=s-this.lastAngle_;this.rotationDelta_+=u,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=u}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==Sy&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(Iy(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(t,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}class x$ extends Pc{constructor(e){e=e||{};const t=e;t.stopDown||(t.stopDown=wc),super(t),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let t=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(t=this.lastDistance_/a),this.lastDistance_=a;const u=e.map,c=u.getView();t!=1&&(this.lastScaleDelta_=t),this.anchor_=u.getCoordinateFromPixelInternal(u.getEventPixel(Iy(this.targetPointers))),u.render(),c.adjustResolutionInternal(t,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}function b$(n){n=n||{};const e=new xr,t=new Q6(-.005,.05,100);return(n.altShiftDragRotate!==void 0?n.altShiftDragRotate:!0)&&e.push(new c$),(n.doubleClickZoom!==void 0?n.doubleClickZoom:!0)&&e.push(new t$({delta:n.zoomDelta,duration:n.zoomDuration})),(n.dragPan!==void 0?n.dragPan:!0)&&e.push(new u$({onFocusOnly:n.onFocusOnly,kinetic:t})),(n.pinchRotate!==void 0?n.pinchRotate:!0)&&e.push(new v$),(n.pinchZoom!==void 0?n.pinchZoom:!0)&&e.push(new x$({duration:n.zoomDuration})),(n.keyboard!==void 0?n.keyboard:!0)&&(e.push(new p$),e.push(new g$({delta:n.zoomDelta,duration:n.zoomDuration}))),(n.mouseWheelZoom!==void 0?n.mouseWheelZoom:!0)&&e.push(new _$({onFocusOnly:n.onFocusOnly,duration:n.zoomDuration})),(n.shiftDragZoom!==void 0?n.shiftDragZoom:!0)&&e.push(new d$({duration:n.zoomDuration})),e}const Vt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class mS extends es{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const t=Object.assign({},e);typeof e.properties=="object"&&(delete t.properties,Object.assign(t,e.properties)),t[Vt.OPACITY]=e.opacity!==void 0?e.opacity:1,Dt(typeof t[Vt.OPACITY]=="number","Layer opacity must be a number"),t[Vt.VISIBLE]=e.visible!==void 0?e.visible:!0,t[Vt.Z_INDEX]=e.zIndex,t[Vt.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,t[Vt.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,t[Vt.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,t[Vt.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=t.className!==void 0?t.className:"ol-layer",delete t.className,this.setProperties(t),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const t=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return t.opacity=fn(Math.round(this.getOpacity()*100)/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=i===void 0&&!t.managed?1/0:i,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}getLayersArray(e){return Ye()}getLayerStatesArray(e){return Ye()}getExtent(){return this.get(Vt.EXTENT)}getMaxResolution(){return this.get(Vt.MAX_RESOLUTION)}getMinResolution(){return this.get(Vt.MIN_RESOLUTION)}getMinZoom(){return this.get(Vt.MIN_ZOOM)}getMaxZoom(){return this.get(Vt.MAX_ZOOM)}getOpacity(){return this.get(Vt.OPACITY)}getSourceState(){return Ye()}getVisible(){return this.get(Vt.VISIBLE)}getZIndex(){return this.get(Vt.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(Vt.EXTENT,e)}setMaxResolution(e){this.set(Vt.MAX_RESOLUTION,e)}setMinResolution(e){this.set(Vt.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(Vt.MAX_ZOOM,e)}setMinZoom(e){this.set(Vt.MIN_ZOOM,e)}setOpacity(e){Dt(typeof e=="number","Layer opacity must be a number"),this.set(Vt.OPACITY,e)}setVisible(e){this.set(Vt.VISIBLE,e)}setZIndex(e){this.set(Vt.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class so extends tr{constructor(e,t){super(e),this.layer=t}}const Bg={LAYERS:"layers"};class To extends mS{constructor(e){e=e||{};const t=Object.assign({},e);delete t.layers;let i=e.layers;super(t),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Bg.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new xr(i.slice(),{unique:!0}):Dt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new xr(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Zt),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(At(e,Wn.ADD,this.handleLayersAdd_,this),At(e,Wn.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Zt);Ul(this.listenerKeys_);const t=e.getArray();for(let i=0,r=t.length;i<r;i++){const s=t[i];this.registerLayerListeners_(s),this.dispatchEvent(new so("addlayer",s))}this.changed()}registerLayerListeners_(e){const t=[At(e,Ll.PROPERTYCHANGE,this.handleLayerChange_,this),At(e,Ve.CHANGE,this.handleLayerChange_,this)];e instanceof To&&t.push(At(e,"addlayer",this.handleLayerGroupAdd_,this),At(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[He(e)]=t}handleLayerGroupAdd_(e){this.dispatchEvent(new so("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new so("removelayer",e.layer))}handleLayersAdd_(e){const t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new so("addlayer",t)),this.changed()}handleLayersRemove_(e){const t=e.element,i=He(t);this.listenerKeys_[i].forEach(Zt),delete this.listenerKeys_[i],this.dispatchEvent(new so("removelayer",t)),this.changed()}getLayers(){return this.get(Bg.LAYERS)}setLayers(e){const t=this.getLayers();if(t){const i=t.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new so("removelayer",i[r]))}this.set(Bg.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(t){t.getLayersArray(e)}),e}getLayerStatesArray(e){const t=e!==void 0?e:[],i=t.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(t)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=t.length;o<a;o++){const u=t[o];u.opacity*=r.opacity,u.visible=u.visible&&r.visible,u.maxResolution=Math.min(u.maxResolution,r.maxResolution),u.minResolution=Math.max(u.minResolution,r.minResolution),u.minZoom=Math.max(u.minZoom,r.minZoom),u.maxZoom=Math.min(u.maxZoom,r.maxZoom),r.extent!==void 0&&(u.extent!==void 0?u.extent=Er(u.extent,r.extent):u.extent=r.extent),u.zIndex===void 0&&(u.zIndex=s)}return t}getSourceState(){return"ready"}}const Yi={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Xl extends mS{constructor(e){const t=Object.assign({},e);delete t.source,super(t),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(Vt.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(Vt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Zt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=At(e,Ve.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let t;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof gr?t={viewState:e.getState(),extent:e.calculateExtent()}:t=e,!t.layerStatesArray&&i&&(t.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;if(t.layerStatesArray){if(r=t.layerStatesArray.find(o=>o.layer===this),!r)return!1}else r=this.getLayerState();const s=this.getExtent();return Ay(r,t.viewState)&&(!s||vn(s,t.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const t=(s=this.getSource())==null?void 0:s.getAttributions();if(!t)return[];const i=e instanceof gr?e.getViewStateAndExtent():e;let r=t(i);return Array.isArray(r)||(r=[r]),r}render(e,t){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,t)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,t){}renderDeferred(e){const t=this.getRenderer();t&&t.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(Vt.MAP,e)}getMapInternal(){return this.get(Vt.MAP)}setMap(e){this.mapPrecomposeKey_&&(Zt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Zt(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=At(e,Yi.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=At(this,Ve.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const t=e.frameState.layerStatesArray,i=this.getLayerState(!1);Dt(!t.some(r=>r.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(i)}setSource(e){this.set(Vt.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Ay(n,e){if(!n.visible)return!1;const t=e.resolution;if(t<n.minResolution||t>=n.maxResolution)return!1;const i=e.zoom;return i>n.minZoom&&i<=n.maxZoom}function yS(n,e,t=0,i=n.length-1,r=w$){for(;i>t;){if(i-t>600){const u=i-t+1,c=e-t+1,f=Math.log(u),d=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*d*(u-d)/u)*(c-u/2<0?-1:1),m=Math.max(t,Math.floor(e-c*d/u+g)),y=Math.min(i,Math.floor(e+(u-c)*d/u+g));yS(n,e,m,y,r)}const s=n[e];let o=t,a=i;for(xu(n,t,e),r(n[i],s)>0&&xu(n,t,i);o<a;){for(xu(n,o,a),o++,a--;r(n[o],s)<0;)o++;for(;r(n[a],s)>0;)a--}r(n[t],s)===0?xu(n,t,a):(a++,xu(n,a,i)),a<=e&&(t=a+1),e<=a&&(i=a-1)}}function xu(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function w$(n,e){return n<e?-1:n>e?1:0}let _S=class{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let t=this.data;const i=[];if(!Zh(e,t))return i;const r=this.toBBox,s=[];for(;t;){for(let o=0;o<t.children.length;o++){const a=t.children[o],u=t.leaf?r(a):a;Zh(e,u)&&(t.leaf?i.push(a):Wg(e,u)?this._all(a,i):s.push(a))}t=s.pop()}return i}collides(e){let t=this.data;if(!Zh(e,t))return!1;const i=[];for(;t;){for(let r=0;r<t.children.length;r++){const s=t.children[r],o=t.leaf?this.toBBox(s):s;if(Zh(e,o)){if(t.leaf||Wg(e,o))return!0;i.push(s)}}t=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let t=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=t;else if(this.data.height===t.height)this._splitRoot(this.data,t);else{if(this.data.height<t.height){const i=this.data;this.data=t,t=i}this._insert(t,this.data.height-t.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=al([]),this}remove(e,t){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],o=[];let a,u,c;for(;i||s.length;){if(i||(i=s.pop(),u=s[s.length-1],a=o.pop(),c=!0),i.leaf){const f=E$(e,i.children,t);if(f!==-1)return i.children.splice(f,1),s.push(i),this._condense(s),this}!c&&!i.leaf&&Wg(i,r)?(s.push(i),o.push(a),a=0,u=i,i=i.children[0]):u?(a++,i=u.children[a],c=!1):i=null}return this}toBBox(e){return e}compareMinX(e,t){return e.minX-t.minX}compareMinY(e,t){return e.minY-t.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,t){const i=[];for(;e;)e.leaf?t.push(...e.children):i.push(...e.children),e=i.pop();return t}_build(e,t,i,r){const s=i-t+1;let o=this._maxEntries,a;if(s<=o)return a=al(e.slice(t,i+1)),Ja(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=al([]),a.leaf=!1,a.height=r;const u=Math.ceil(s/o),c=u*Math.ceil(Math.sqrt(o));rb(e,t,i,c,this.compareMinX);for(let f=t;f<=i;f+=c){const d=Math.min(f+c-1,i);rb(e,f,d,u,this.compareMinY);for(let g=f;g<=d;g+=u){const m=Math.min(g+u-1,d);a.children.push(this._build(e,g,m,r-1))}}return Ja(a,this.toBBox),a}_chooseSubtree(e,t,i,r){for(;r.push(t),!(t.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let u=0;u<t.children.length;u++){const c=t.children[u],f=Gg(c),d=T$(e,c)-f;d<o?(o=d,s=f<s?f:s,a=c):d===o&&f<s&&(s=f,a=c)}t=a||t.children[0]}return t}_insert(e,t,i){const r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,t,s);for(o.children.push(e),Lu(o,r);t>=0&&s[t].children.length>this._maxEntries;)this._split(s,t),t--;this._adjustParentBBoxes(r,s,t)}_split(e,t){const i=e[t],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const o=this._chooseSplitIndex(i,s,r),a=al(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,Ja(i,this.toBBox),Ja(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,t){this.data=al([e,t]),this.data.height=e.height+1,this.data.leaf=!1,Ja(this.data,this.toBBox)}_chooseSplitIndex(e,t,i){let r,s=1/0,o=1/0;for(let a=t;a<=i-t;a++){const u=Mu(e,0,a,this.toBBox),c=Mu(e,a,i,this.toBBox),f=R$(u,c),d=Gg(u)+Gg(c);f<s?(s=f,r=a,o=d<o?d:o):f===s&&d<o&&(o=d,r=a)}return r||i-t}_chooseSplitAxis(e,t,i){const r=e.leaf?this.compareMinX:C$,s=e.leaf?this.compareMinY:S$,o=this._allDistMargin(e,t,i,r),a=this._allDistMargin(e,t,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,t,i,r){e.children.sort(r);const s=this.toBBox,o=Mu(e,0,t,s),a=Mu(e,i-t,i,s);let u=Kh(o)+Kh(a);for(let c=t;c<i-t;c++){const f=e.children[c];Lu(o,e.leaf?s(f):f),u+=Kh(o)}for(let c=i-t-1;c>=t;c--){const f=e.children[c];Lu(a,e.leaf?s(f):f),u+=Kh(a)}return u}_adjustParentBBoxes(e,t,i){for(let r=i;r>=0;r--)Lu(t[r],e)}_condense(e){for(let t=e.length-1,i;t>=0;t--)e[t].children.length===0?t>0?(i=e[t-1].children,i.splice(i.indexOf(e[t]),1)):this.clear():Ja(e[t],this.toBBox)}};function E$(n,e,t){if(!t)return e.indexOf(n);for(let i=0;i<e.length;i++)if(t(n,e[i]))return i;return-1}function Ja(n,e){Mu(n,0,n.children.length,e,n)}function Mu(n,e,t,i,r){r||(r=al(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<t;s++){const o=n.children[s];Lu(r,n.leaf?i(o):o)}return r}function Lu(n,e){return n.minX=Math.min(n.minX,e.minX),n.minY=Math.min(n.minY,e.minY),n.maxX=Math.max(n.maxX,e.maxX),n.maxY=Math.max(n.maxY,e.maxY),n}function C$(n,e){return n.minX-e.minX}function S$(n,e){return n.minY-e.minY}function Gg(n){return(n.maxX-n.minX)*(n.maxY-n.minY)}function Kh(n){return n.maxX-n.minX+(n.maxY-n.minY)}function T$(n,e){return(Math.max(e.maxX,n.maxX)-Math.min(e.minX,n.minX))*(Math.max(e.maxY,n.maxY)-Math.min(e.minY,n.minY))}function R$(n,e){const t=Math.max(n.minX,e.minX),i=Math.max(n.minY,e.minY),r=Math.min(n.maxX,e.maxX),s=Math.min(n.maxY,e.maxY);return Math.max(0,r-t)*Math.max(0,s-i)}function Wg(n,e){return n.minX<=e.minX&&n.minY<=e.minY&&e.maxX<=n.maxX&&e.maxY<=n.maxY}function Zh(n,e){return e.minX<=n.maxX&&e.minY<=n.maxY&&e.maxX>=n.minX&&e.maxY>=n.minY}function al(n){return{children:n,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function rb(n,e,t,i,r){const s=[e,t];for(;s.length;){if(t=s.pop(),e=s.pop(),t-e<=i)continue;const o=e+Math.ceil((t-e)/i/2)*i;yS(n,o,e,t,r),s.push(e,o,o,t)}}const Py=[NaN,NaN,NaN,0];let qg;function I$(){return qg||(qg=dn(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),qg}const A$=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,P$=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,M$=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,L$=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Jh(n,e){return n.endsWith("%")?Number(n.substring(0,n.length-1))/e:Number(n)}function Bu(n){throw new Error('failed to parse "'+n+'" as color')}function vS(n){if(n.toLowerCase().startsWith("rgb")){const s=n.match(P$)||n.match(A$)||n.match(M$);if(s){const o=s[4],a=100/255;return[fn(Jh(s[1],a)+.5|0,0,255),fn(Jh(s[2],a)+.5|0,0,255),fn(Jh(s[3],a)+.5|0,0,255),o!==void 0?fn(Jh(o,100),0,1):1]}Bu(n)}if(n.startsWith("#")){if(L$.test(n)){const s=n.substring(1),o=s.length<=4?1:2,a=[0,0,0,255];for(let u=0,c=s.length;u<c;u+=o){let f=parseInt(s.substring(u,u+o),16);o===1&&(f+=f<<4),a[u/o]=f}return a[3]=a[3]/255,a}Bu(n)}const e=I$();e.fillStyle="#abcdef";let t=e.fillStyle;e.fillStyle=n,e.fillStyle===t&&(e.fillStyle="#fedcba",t=e.fillStyle,e.fillStyle=n,e.fillStyle===t&&Bu(n));const i=e.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return vS(i);e.clearRect(0,0,1,1),e.fillRect(0,0,1,1);const r=Array.from(e.getImageData(0,0,1,1).data);return r[3]=Sd(r[3]/255,3),r}function k$(n){return typeof n=="string"?n:Ly(n)}const O$=1024,bu={};let Ug=0;function F$(n){if(n.length===4)return n;const e=n.slice();return e[3]=1,e}function jg(n){return n>.0031308?Math.pow(n,1/2.4)*269.025-14.025:n*3294.6}function Vg(n){return n>.2068965?Math.pow(n,3):(n-4/29)*(108/841)}function Hg(n){return n>10.314724?Math.pow((n+14.025)/269.025,2.4):n/3294.6}function Xg(n){return n>.0088564?Math.pow(n,1/3):n/(108/841)+4/29}function sb(n){const e=Hg(n[0]),t=Hg(n[1]),i=Hg(n[2]),r=Xg(e*.222488403+t*.716873169+i*.06060791),s=500*(Xg(e*.452247074+t*.399439023+i*.148375274)-r),o=200*(r-Xg(e*.016863605+t*.117638439+i*.865350722)),a=Math.atan2(o,s)*(180/Math.PI);return[116*r-16,Math.sqrt(s*s+o*o),a<0?a+360:a,n[3]]}function D$(n){const e=(n[0]+16)/116,t=n[1],i=n[2]*Math.PI/180,r=Vg(e),s=Vg(e+t/500*Math.cos(i)),o=Vg(e-t/200*Math.sin(i)),a=jg(s*3.021973625-r*1.617392459-o*.404875592),u=jg(s*-.943766287+r*1.916279586+o*.027607165),c=jg(s*.069407491-r*.22898585+o*1.159737864);return[fn(a+.5|0,0,255),fn(u+.5|0,0,255),fn(c+.5|0,0,255),n[3]]}function My(n){if(n==="none")return Py;if(bu.hasOwnProperty(n))return bu[n];if(Ug>=O$){let t=0;for(const i in bu)t++&3||(delete bu[i],--Ug)}const e=vS(n);e.length!==4&&Bu(n);for(const t of e)isNaN(t)&&Bu(n);return bu[n]=e,++Ug,e}function Dl(n){return Array.isArray(n)?n:My(n)}function Ly(n){let e=n[0];e!=(e|0)&&(e=e+.5|0);let t=n[1];t!=(t|0)&&(t=t+.5|0);let i=n[2];i!=(i|0)&&(i=i+.5|0);const r=n[3]===void 0?1:Math.round(n[3]*1e3)/1e3;return"rgba("+e+","+t+","+i+","+r+")"}function ob(n){return n[0]>0&&n[1]>0}function N$(n,e,t){return t===void 0&&(t=[0,0]),t[0]=n[0]*e+.5|0,t[1]=n[1]*e+.5|0,t}function ei(n,e){return Array.isArray(n)?n:(e===void 0?e=[n,n]:(e[0]=n,e[1]=n),e)}let ka=0;const li=1<<ka++,It=1<<ka++,yi=1<<ka++,mr=1<<ka++,Ea=1<<ka++,ku=1<<ka++,Qh=Math.pow(2,ka)-1,ky={[li]:"boolean",[It]:"number",[yi]:"string",[mr]:"color",[Ea]:"number[]",[ku]:"size"},z$=Object.keys(ky).map(Number).sort(Gr);function $$(n){return n in ky}function Ou(n){const e=[];for(const t of z$)Fu(n,t)&&e.push(ky[t]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function Fu(n,e){return(n&e)===e}function Xs(n,e){return n===e}class Nn{constructor(e,t){if(!$$(e))throw new Error(`literal expressions must have a specific type, got ${Ou(e)}`);this.type=e,this.value=t}}class B${constructor(e,t,...i){this.type=e,this.operator=t,this.args=i}}function xS(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Hn(n,e,t){switch(typeof n){case"boolean":{if(Xs(e,yi))return new Nn(yi,n?"true":"false");if(!Fu(e,li))throw new Error(`got a boolean, but expected ${Ou(e)}`);return new Nn(li,n)}case"number":{if(Xs(e,ku))return new Nn(ku,ei(n));if(Xs(e,li))return new Nn(li,!!n);if(Xs(e,yi))return new Nn(yi,n.toString());if(!Fu(e,It))throw new Error(`got a number, but expected ${Ou(e)}`);return new Nn(It,n)}case"string":{if(Xs(e,mr))return new Nn(mr,My(n));if(Xs(e,li))return new Nn(li,!!n);if(!Fu(e,yi))throw new Error(`got a string, but expected ${Ou(e)}`);return new Nn(yi,n)}}if(!Array.isArray(n))throw new Error("expression must be an array or a primitive value");if(n.length===0)throw new Error("empty expression");if(typeof n[0]=="string")return Z$(n,e,t);for(const i of n)if(typeof i!="number")throw new Error("expected an array of numbers");if(Xs(e,ku)){if(n.length!==2)throw new Error(`expected an array of two values for a size, got ${n.length}`);return new Nn(ku,n)}if(Xs(e,mr)){if(n.length===3)return new Nn(mr,[...n,1]);if(n.length===4)return new Nn(mr,n);throw new Error(`expected an array of 3 or 4 values for a color, got ${n.length}`)}if(!Fu(e,Ea))throw new Error(`got an array of numbers, but expected ${Ou(e)}`);return new Nn(Ea,n)}const se={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},G$={[se.Get]:Xe(ut(1,1/0),ab),[se.Var]:Xe(ut(1,1),W$),[se.Has]:Xe(ut(1,1/0),ab),[se.Id]:Xe(q$,Qa),[se.Concat]:Xe(ut(2,1/0),$t(yi)),[se.GeometryType]:Xe(U$,Qa),[se.LineMetric]:Xe(Qa),[se.Resolution]:Xe(Yg,Qa),[se.Zoom]:Xe(Yg,Qa),[se.Time]:Xe(Yg,Qa),[se.Any]:Xe(ut(2,1/0),$t(li)),[se.All]:Xe(ut(2,1/0),$t(li)),[se.Not]:Xe(ut(1,1),$t(li)),[se.Equal]:Xe(ut(2,2),$t(Qh)),[se.NotEqual]:Xe(ut(2,2),$t(Qh)),[se.GreaterThan]:Xe(ut(2,2),$t(It)),[se.GreaterThanOrEqualTo]:Xe(ut(2,2),$t(It)),[se.LessThan]:Xe(ut(2,2),$t(It)),[se.LessThanOrEqualTo]:Xe(ut(2,2),$t(It)),[se.Multiply]:Xe(ut(2,1/0),lb),[se.Coalesce]:Xe(ut(2,1/0),lb),[se.Divide]:Xe(ut(2,2),$t(It)),[se.Add]:Xe(ut(2,1/0),$t(It)),[se.Subtract]:Xe(ut(2,2),$t(It)),[se.Clamp]:Xe(ut(3,3),$t(It)),[se.Mod]:Xe(ut(2,2),$t(It)),[se.Pow]:Xe(ut(2,2),$t(It)),[se.Abs]:Xe(ut(1,1),$t(It)),[se.Floor]:Xe(ut(1,1),$t(It)),[se.Ceil]:Xe(ut(1,1),$t(It)),[se.Round]:Xe(ut(1,1),$t(It)),[se.Sin]:Xe(ut(1,1),$t(It)),[se.Cos]:Xe(ut(1,1),$t(It)),[se.Atan]:Xe(ut(1,2),$t(It)),[se.Sqrt]:Xe(ut(1,1),$t(It)),[se.Match]:Xe(ut(4,1/0),ub,V$),[se.Between]:Xe(ut(3,3),$t(It)),[se.Interpolate]:Xe(ut(6,1/0),ub,H$),[se.Case]:Xe(ut(3,1/0),j$,X$),[se.In]:Xe(ut(2,2),Y$),[se.Number]:Xe(ut(1,1/0),$t(Qh)),[se.String]:Xe(ut(1,1/0),$t(Qh)),[se.Array]:Xe(ut(1,1/0),$t(It)),[se.Color]:Xe(ut(1,4),$t(It)),[se.Band]:Xe(ut(1,3),$t(It)),[se.Palette]:Xe(ut(2,2),K$),[se.ToString]:Xe(ut(1,1),$t(li|It|yi|mr))};function ab(n,e,t){const i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=n[s+1];switch(typeof o){case"number":{r[s]=new Nn(It,o);break}case"string":{r[s]=new Nn(yi,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&t.properties.add(String(o))}return r}function W$(n,e,t){const i=n[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return t.variables.add(i),[new Nn(yi,i)]}function q$(n,e,t){t.featureId=!0}function U$(n,e,t){t.geometryType=!0}function Yg(n,e,t){t.mapState=!0}function Qa(n,e,t){const i=n[0];if(n.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function ut(n,e){return function(t,i,r){const s=t[0],o=t.length-1;if(n===e){if(o!==n){const a=n===1?"":"s";throw new Error(`expected ${n} argument${a} for ${s}, got ${o}`)}}else if(o<n||o>e){const a=e===1/0?`${n} or more`:`${n} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function lb(n,e,t){const i=n.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=Hn(n[s+1],e,t);r[s]=o}return r}function $t(n){return function(e,t,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=Hn(e[o+1],n,i);s[o]=a}return s}}function j$(n,e,t){const i=n[0],r=n.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function ub(n,e,t){const i=n[0],r=n.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function V$(n,e,t){const i=n.length-1,r=yi|It|li,s=Hn(n[1],r,t),o=Hn(n[n.length-1],e,t),a=new Array(i-2);for(let u=0;u<i-2;u+=2){try{const c=Hn(n[u+2],s.type,t);a[u]=c}catch(c){throw new Error(`failed to parse argument ${u+1} of match expression: ${c.message}`)}try{const c=Hn(n[u+3],o.type,t);a[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+2} of match expression: ${c.message}`)}}return[s,...a,o]}function H$(n,e,t){const i=n[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const u=i[1];if(typeof u!="number"||u<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(u)} instead`);r=u;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const s=new Nn(It,r);let o;try{o=Hn(n[2],It,t)}catch(u){throw new Error(`failed to parse argument 1 in interpolate expression: ${u.message}`)}const a=new Array(n.length-3);for(let u=0;u<a.length;u+=2){try{const c=Hn(n[u+3],It,t);a[u]=c}catch(c){throw new Error(`failed to parse argument ${u+2} for interpolate expression: ${c.message}`)}try{const c=Hn(n[u+4],e,t);a[u+1]=c}catch(c){throw new Error(`failed to parse argument ${u+3} for interpolate expression: ${c.message}`)}}return[s,o,...a]}function X$(n,e,t){const i=Hn(n[n.length-1],e,t),r=new Array(n.length-1);for(let s=0;s<r.length-1;s+=2){try{const o=Hn(n[s+1],li,t);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=Hn(n[s+2],i.type,t);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function Y$(n,e,t){let i=n[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=yi}else r=It;const s=new Array(i.length);for(let a=0;a<s.length;a++)try{const u=Hn(i[a],r,t);s[a]=u}catch(u){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${u.message}`)}return[Hn(n[1],r,t),...s]}function K$(n,e,t){let i;try{i=Hn(n[1],It,t)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=n[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=Hn(r[o],mr,t)}catch(u){throw new Error(`failed to parse color at index ${o} in palette expression: ${u.message}`)}if(!(a instanceof Nn))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function Xe(...n){return function(e,t,i){const r=e[0];let s;for(let o=0;o<n.length;o++){const a=n[o](e,t,i);if(o==n.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new B$(t,r,...s)}}function Z$(n,e,t){const i=n[0],r=G$[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(n,e,t)}function bS(n){if(!n)return"";const e=n.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return bS(n.getGeometries()[0]);default:return""}}function wS(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ks(n,e,t){const i=Hn(n,e,t);return Tr(i)}function Tr(n,e){if(n instanceof Nn){if(n.type===mr&&typeof n.value=="string"){const i=My(n.value);return function(){return i}}return function(){return n.value}}const t=n.operator;switch(t){case se.Number:case se.String:case se.Coalesce:return J$(n);case se.Get:case se.Var:case se.Has:return Q$(n);case se.Id:return i=>i.featureId;case se.GeometryType:return i=>i.geometryType;case se.Concat:{const i=n.args.map(r=>Tr(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case se.Resolution:return i=>i.resolution;case se.Any:case se.All:case se.Between:case se.In:case se.Not:return tB(n);case se.Equal:case se.NotEqual:case se.LessThan:case se.LessThanOrEqualTo:case se.GreaterThan:case se.GreaterThanOrEqualTo:return eB(n);case se.Multiply:case se.Divide:case se.Add:case se.Subtract:case se.Clamp:case se.Mod:case se.Pow:case se.Abs:case se.Floor:case se.Ceil:case se.Round:case se.Sin:case se.Cos:case se.Atan:case se.Sqrt:return nB(n);case se.Case:return iB(n);case se.Match:return rB(n);case se.Interpolate:return sB(n);case se.ToString:return oB(n);default:throw new Error(`Unsupported operator ${t}`)}}function J$(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Tr(n.args[s]);switch(t){case se.Coalesce:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case se.Number:case se.String:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a===t)return a}throw new Error(`Expected one of the values to be a ${t}`)};default:throw new Error(`Unsupported assertion operator ${t}`)}}function Q$(n,e){const i=n.args[0].value;switch(n.operator){case se.Get:return r=>{const s=n.args;let o=r.properties[i];for(let a=1,u=s.length;a<u;++a){const f=s[a].value;o=o[f]}return o};case se.Var:return r=>r.variables[i];case se.Has:return r=>{const s=n.args;if(!(i in r.properties))return!1;let o=r.properties[i];for(let a=1,u=s.length;a<u;++a){const f=s[a].value;if(!o||!Object.hasOwn(o,f))return!1;o=o[f]}return!0};default:throw new Error(`Unsupported accessor operator ${n.operator}`)}}function eB(n,e){const t=n.operator,i=Tr(n.args[0]),r=Tr(n.args[1]);switch(t){case se.Equal:return s=>i(s)===r(s);case se.NotEqual:return s=>i(s)!==r(s);case se.LessThan:return s=>i(s)<r(s);case se.LessThanOrEqualTo:return s=>i(s)<=r(s);case se.GreaterThan:return s=>i(s)>r(s);case se.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${t}`)}}function tB(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Tr(n.args[s]);switch(t){case se.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case se.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case se.Between:return s=>{const o=r[0](s),a=r[1](s),u=r[2](s);return o>=a&&o<=u};case se.In:return s=>{const o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case se.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${t}`)}}function nB(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Tr(n.args[s]);switch(t){case se.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case se.Divide:return s=>r[0](s)/r[1](s);case se.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case se.Subtract:return s=>r[0](s)-r[1](s);case se.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const u=r[2](s);return o>u?u:o};case se.Mod:return s=>r[0](s)%r[1](s);case se.Pow:return s=>Math.pow(r[0](s),r[1](s));case se.Abs:return s=>Math.abs(r[0](s));case se.Floor:return s=>Math.floor(r[0](s));case se.Ceil:return s=>Math.ceil(r[0](s));case se.Round:return s=>Math.round(r[0](s));case se.Sin:return s=>Math.sin(r[0](s));case se.Cos:return s=>Math.cos(r[0](s));case se.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case se.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${t}`)}}function iB(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Tr(n.args[r]);return r=>{for(let s=0;s<t-1;s+=2)if(i[s](r))return i[s+1](r);return i[t-1](r)}}function rB(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Tr(n.args[r]);return r=>{const s=i[0](r);for(let o=1;o<t-1;o+=2)if(s===i[o](r))return i[o+1](r);return i[t-1](r)}}function sB(n,e){const t=n.args.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=Tr(n.args[r]);return r=>{const s=i[0](r),o=i[1](r);let a,u;for(let c=2;c<t;c+=2){const f=i[c](r);let d=i[c+1](r);const g=Array.isArray(d);if(g&&(d=F$(d)),f>=o)return c===2?d:g?aB(s,o,a,u,f,d):Du(s,o,a,u,f,d);a=f,u=d}return u}}function oB(n,e){const t=n.operator,i=n.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=Tr(n.args[s]);switch(t){case se.ToString:return s=>{const o=r[0](s);return n.args[0].type===mr?Ly(o):o.toString()};default:throw new Error(`Unsupported convert operator ${t}`)}}function Du(n,e,t,i,r,s){const o=r-t;if(o===0)return i;const a=e-t,u=n===1?a/o:(Math.pow(n,a)-1)/(Math.pow(n,o)-1);return i+u*(s-i)}function aB(n,e,t,i,r,s){if(r-t===0)return i;const a=sb(i),u=sb(s);let c=u[2]-a[2];c>180?c-=360:c<-180&&(c+=360);const f=[Du(n,e,t,a[0],r,u[0]),Du(n,e,t,a[1],r,u[1]),a[2]+Du(n,e,t,0,r,c),Du(n,e,t,i[3],r,s[3])];return D$(f)}const Ce={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class Oy extends Ec{constructor(e,t,i,r){super(),this.extent=e,this.pixelRatio_=i,this.resolution=t,this.state=typeof r=="function"?Ce.IDLE:r,this.image_=null,this.loader=typeof r=="function"?r:null}changed(){this.dispatchEvent(Ve.CHANGE)}getExtent(){return this.extent}getImage(){return this.image_}getPixelRatio(){return this.pixelRatio_}getResolution(){return this.resolution}getState(){return this.state}load(){if(this.state==Ce.IDLE&&this.loader){this.state=Ce.LOADING,this.changed();const e=this.getResolution(),t=Array.isArray(e)?e[0]:e;kl(()=>this.loader(this.getExtent(),t,this.getPixelRatio())).then(i=>{"image"in i&&(this.image_=i.image),"extent"in i&&(this.extent=i.extent),"resolution"in i&&(this.resolution=i.resolution),"pixelRatio"in i&&(this.pixelRatio_=i.pixelRatio),(i instanceof HTMLImageElement||E4&&i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof HTMLVideoElement)&&(this.image_=i),this.state=Ce.LOADED}).catch(i=>{this.state=Ce.ERROR,console.error(i)}).finally(()=>this.changed())}}setImage(e){this.image_=e}setResolution(e){this.resolution=e}}function lB(n,e,t){const i=n;let r=!0,s=!1,o=!1;const a=[Pf(i,Ve.LOAD,function(){o=!0,s||e()})];return i.src&&IC?(s=!0,i.decode().then(function(){r&&e()}).catch(function(u){r&&(o?e():t())})):a.push(Pf(i,Ve.ERROR,t)),function(){r=!1,a.forEach(Zt)}}function uB(n,e){return new Promise((t,i)=>{function r(){o(),t(n)}function s(){o(),i(new Error("Image load error"))}function o(){n.removeEventListener("load",r),n.removeEventListener("error",s)}n.addEventListener("load",r),n.addEventListener("error",s)})}function cB(n,e){return e&&(n.src=e),n.src&&IC?new Promise((t,i)=>n.decode().then(()=>t(n)).catch(r=>n.complete&&n.width?t(n):i(r))):uB(n)}class hB{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const t in this.cache_){const i=this.cache_[t];!(e++&3)&&!i.hasListener()&&(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}get(e,t,i){const r=Kg(e,t,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,t,i){const r=Kg(e,t,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,t,i,r,s){const o=Kg(e,t,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===Ce.IDLE&&r.load(),r.getImageState()===Ce.LOADING?r.ready().then(()=>{this.patternCache_[o]=Nf().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=Nf().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Kg(n,e,t){const i=t?Dl(t):"null";return e+":"+n+":"+i}const Ki=new hB;let wu=null;class ES extends Ec{constructor(e,t,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?Ce.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=t,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Ce.LOADED){wu||(wu=dn(1,1,void 0,{willReadFrequently:!0})),wu.drawImage(this.image_,0,0);try{wu.getImageData(0,0,1,1),this.tainted_=!1}catch{wu=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(Ve.CHANGE)}handleImageError_(){this.imageState_=Ce.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Ce.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],t=this.size_[1],i=dn(e,t);i.fillRect(0,0,e,t),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Ce.IDLE){this.image_||this.initializeImage_(),this.imageState_=Ce.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&cB(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==Ce.LOADED)return;const t=this.image_,i=dn(Math.ceil(t.width*e),Math.ceil(t.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(t,0,0),i.globalCompositeOperation="multiply",i.fillStyle=k$(this.color_),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(t,0,0),this.canvas_[e]=r}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR)e();else{const t=()=>{(this.imageState_===Ce.LOADED||this.imageState_===Ce.ERROR)&&(this.removeEventListener(Ve.CHANGE,t),e())};this.addEventListener(Ve.CHANGE,t)}})),this.ready_}}function Fy(n,e,t,i,r,s){let o=e===void 0?void 0:Ki.get(e,t,r);return o||(o=new ES(n,n&&"src"in n?n.src||void 0:e,t,i,r),Ki.set(e,t,r,o,s)),s&&o&&!Ki.getPattern(e,t,r)&&Ki.set(e,t,r,o,s),o}function $r(n){return n?Array.isArray(n)?Ly(n):typeof n=="object"&&"src"in n?fB(n):n:null}function fB(n){if(!n.offset||!n.size)return Ki.getPattern(n.src,"anonymous",n.color);const e=n.src+":"+n.offset,t=Ki.getPattern(e,void 0,n.color);if(t)return t;const i=Ki.get(n.src,"anonymous",null);if(i.getImageState()!==Ce.LOADED)return null;const r=dn(n.size[0],n.size[1]);return r.drawImage(i.getImage(1),n.offset[0],n.offset[1],n.size[0],n.size[1],0,0,n.size[0],n.size[1]),Fy(r.canvas,e,void 0,Ce.LOADED,n.color,!0),Ki.getPattern(e,void 0,n.color)}const CS="10px sans-serif",_i="#000",Nl="round",ws=[],Es=0,zl="round",nc=10,ic="#000",rc="center",$f="middle",na=[0,0,0,0],sc=1,Ko=new es;let Eu=null,cb;const Zm={},dB=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","emoji","math","fangsong"]);function pB(n,e,t){return`${n} ${e} 16px "${t}"`}const gB=function(){let e,t;async function i(s){await t.ready;const o=await t.load(s);if(o.length===0)return!1;const a=Ym(s),u=a.families[0].toLowerCase(),c=a.weight;return o.some(f=>{const d=f.family.replace(/^['"]|['"]$/g,"").toLowerCase(),g=Xm[f.weight]||f.weight;return d===u&&f.style===a.style&&g==c})}async function r(){await t.ready;let s=!0;const o=Ko.getProperties(),a=Object.keys(o).filter(u=>o[u]<100);for(let u=a.length-1;u>=0;--u){const c=a[u];let f=o[c];f<100&&(await i(c)?(Ul(Zm),Ko.set(c,100)):(f+=10,Ko.set(c,f,!0),f<100&&(s=!1)))}e=void 0,s||(e=setTimeout(r,100))}return async function(s){t||(t=ty?self.fonts:document.fonts);const o=Ym(s);if(!o)return;const a=o.families;let u=!1;for(const c of a){if(dB.has(c))continue;const f=pB(o.style,o.weight,c);Ko.get(f)===void 0&&(Ko.set(f,0,!0),u=!0)}u&&(clearTimeout(e),e=setTimeout(r,100))}}(),mB=function(){let n;return function(e){let t=Zm[e];if(t==null){if(ty){const i=Ym(e),r=SS(e,"Žg");t=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(r.actualBoundingBoxAscent+r.actualBoundingBoxDescent)}else n||(n=document.createElement("div"),n.innerHTML="M",n.style.minHeight="0",n.style.maxHeight="none",n.style.height="auto",n.style.padding="0",n.style.border="none",n.style.position="absolute",n.style.display="block",n.style.left="-99999px"),n.style.font=e,document.body.appendChild(n),t=n.offsetHeight,document.body.removeChild(n);Zm[e]=t}return t}}();function SS(n,e){return Eu||(Eu=dn(1,1)),n!=cb&&(Eu.font=n,cb=Eu.font),Eu.measureText(e)}function TS(n,e){return SS(n,e).width}function hb(n,e,t){if(e in t)return t[e];const i=e.split(`
`).reduce((r,s)=>Math.max(r,TS(n,s)),0);return t[e]=i,i}function yB(n,e){const t=[],i=[],r=[];let s=0,o=0,a=0,u=0;for(let c=0,f=e.length;c<=f;c+=2){const d=e[c];if(d===`
`||c===f){s=Math.max(s,o),r.push(o),o=0,a+=u,u=0;continue}const g=e[c+1]||n.font,m=TS(g,d);t.push(m),o+=m;const y=mB(g);i.push(y),u=Math.max(u,y)}return{width:s,height:a,widths:t,heights:i,lineWidths:r}}function _B(n,e,t,i,r,s,o,a,u,c,f){n.save(),t!==1&&(n.globalAlpha===void 0?n.globalAlpha=d=>d.globalAlpha*=t:n.globalAlpha*=t),e&&n.transform.apply(n,e),i.contextInstructions?(n.translate(u,c),n.scale(f[0],f[1]),vB(i,n)):f[0]<0||f[1]<0?(n.translate(u,c),n.scale(f[0],f[1]),n.drawImage(i,r,s,o,a,0,0,o,a)):n.drawImage(i,r,s,o,a,u,c,o*f[0],a*f[1]),n.restore()}function vB(n,e){const t=n.contextInstructions;for(let i=0,r=t.length;i<r;i+=2)Array.isArray(t[i+1])?e[t[i]].apply(e,t[i+1]):e[t[i]]=t[i+1]}class Nd{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=ei(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new Nd({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return Ye()}getImage(e){return Ye()}getHitDetectionImage(){return Ye()}getPixelRatio(e){return 1}getImageState(){return Ye()}getImageSize(){return Ye()}getOrigin(){return Ye()}getSize(){return Ye()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ei(e)}listenImageChange(e){Ye()}load(){Ye()}unlistenImageChange(e){Ye()}ready(){return Promise.resolve()}}class zd extends Nd{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Ce.LOADING:Ce.LOADED,this.imageState_===Ce.LOADING&&this.ready().then(()=>this.imageState_=Ce.LOADED),this.render()}clone(){const e=this.getScale(),t=new zd({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}getAnchor(){const e=this.size_,t=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-t[0]/i[0],e[1]/2+t[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){var s,o;const t=(s=this.fill_)==null?void 0:s.getKey(),i=`${e},${this.angle_},${this.radius},${this.radius2_},${this.points_},${t}`+Object.values(this.renderOptions_).join(",");let r=(o=Ki.get(i,null,null))==null?void 0:o.getImage(1);if(!r){const a=this.renderOptions_,u=Math.ceil(a.size*e),c=dn(u,u);this.draw_(a,c,e),r=c.canvas,Ki.set(i,null,null,new ES(r,void 0,null,Ce.LOADED,null))}return r}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,t,i){if(t===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return t;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const F=r;r=s,s=F}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,u=s*Math.sin(a),c=Math.sqrt(s*s-u*u),f=r-c,d=Math.sqrt(u*u+f*f),g=d/u;if(e==="miter"&&g<=i)return g*t;const m=t/2/g,y=t/2*(f/d),x=Math.sqrt((r+m)*(r+m)+y*y)-r;if(this.radius2_===void 0||e==="bevel")return x*2;const C=r*Math.sin(a),E=Math.sqrt(r*r-C*C),S=s-E,T=Math.sqrt(C*C+S*S)/C;if(T<=i){const F=T*t/2-s-r;return 2*Math.max(x,F)}return x*2}createRenderOptions(){let e=Nl,t=zl,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=$r(this.stroke_.getColor()??ic),a=this.stroke_.getWidth()??sc,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,t=this.stroke_.getLineJoin()??zl,e=this.stroke_.getLineCap()??Nl,i=this.stroke_.getMiterLimit()??nc);const u=this.calculateLineJoinSize_(t,a,i),c=Math.max(this.radius,this.radius2_||0),f=Math.ceil(2*c+u);return{strokeStyle:o,strokeWidth:a,size:f,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:t,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,t,i){if(t.scale(i,i),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){let r=this.fill_.getColor();r===null&&(r=_i),t.fillStyle=$r(r),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}createHitDetectionCanvas_(e){let t;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=Dl(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(t=dn(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}createPath_(e){let t=this.points_;const i=this.radius;if(t===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(t*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/t;for(let a=0;a<t;a++){const u=s+a*o,c=a%2===0?i:r;e.lineTo(c*Math.cos(u),c*Math.sin(u))}e.closePath()}}drawHitDetectionCanvas_(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=_i,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Ao extends zd{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),t=new Ao({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}setRadius(e){this.radius=e,this.render()}}class ui{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new ui({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const t=Fy(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));t.ready().then(()=>{this.patternImage_=null}),t.getImageState()===Ce.IDLE&&t.load(),t.getImageState()===Ce.LOADING&&(this.patternImage_=t)}this.color_=e}getKey(){const e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?He(e):typeof e=="object"&&"src"in e?e.src+":"+e.offset:Dl(e).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function fb(n,e,t,i){return t!==void 0&&i!==void 0?[t/n,i/e]:t!==void 0?t/n:i!==void 0?i/e:1}class Ca extends Nd{constructor(e){e=e||{};const t=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:t,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;Dt(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||He(o)),Dt(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),Dt(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let u;if(e.src!==void 0?u=Ce.IDLE:o!==void 0&&("complete"in o?o.complete?u=o.src?Ce.LOADED:Ce.IDLE:u=Ce.LOADING:u=Ce.LOADED),this.color_=e.color!==void 0?Dl(e.color):null,this.iconImage_=Fy(o,a,this.crossOrigin_,u,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let c,f;if(e.size)[c,f]=e.size;else{const d=this.getImage(1);if(d.width&&d.height)c=d.width,f=d.height;else if(d instanceof HTMLImageElement){this.initialOptions_=e;const g=()=>{if(this.unlistenImageChange(g),!this.initialOptions_)return;const m=this.iconImage_.getSize();this.setScale(fb(m[0],m[1],e.width,e.height))};this.listenImageChange(g);return}}c!==void 0&&this.setScale(fb(c,f,e.width,e.height))}}clone(){let e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new Ca({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const t=this.getDisplacement(),i=this.getScaleArray();return[e[0]-t[0]/i[0],e[1]+t[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const t=this.getSize(),i=this.iconImage_.getSize();if(!t||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-t[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-t[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==Ce.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(Ve.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(Ve.CHANGE,e)}ready(){return this.iconImage_.ready()}}class ci{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new ci({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class Sn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=db,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new Sn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(t){return t.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=db,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function xB(n){let e;if(typeof n=="function")e=n;else{let t;Array.isArray(n)?t=n:(Dt(typeof n.getZIndex=="function","Expected an `Style` or an array of `Style`"),t=[n]),e=function(){return t}}return e}let Zg=null;function RS(n,e){if(!Zg){const t=new ui({color:"rgba(255,255,255,0.4)"}),i=new ci({color:"#3399CC",width:1.25});Zg=[new Sn({image:new Ao({fill:t,stroke:i,radius:5}),fill:t,stroke:i})]}return Zg}function bB(){const n={},e=[255,255,255,1],t=[0,153,255,1],i=3;return n.Polygon=[new Sn({fill:new ui({color:[255,255,255,.5]})})],n.MultiPolygon=n.Polygon,n.LineString=[new Sn({stroke:new ci({color:e,width:i+2})}),new Sn({stroke:new ci({color:t,width:i})})],n.MultiLineString=n.LineString,n.Circle=n.Polygon.concat(n.LineString),n.Point=[new Sn({image:new Ao({radius:i*2,fill:new ui({color:t}),stroke:new ci({color:e,width:i/2})}),zIndex:1/0})],n.MultiPoint=n.Point,n.GeometryCollection=n.Polygon.concat(n.LineString,n.Point),n}function db(n){return n.getGeometry()}const wB="#333";class $d{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.keepUpright_=e.keepUpright,this.scale_=e.scale,this.scaleArray_=ei(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new ui({color:wB}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new $d({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setKeepUpright(e){this.keepUpright_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=ei(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}function EB(n){return!0}function CB(n){const e=xS(),t=SB(n,e),i=wS();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=bS(r.getGeometry())),t(i)}}function pb(n){const e=xS(),t=n.length,i=new Array(t);for(let o=0;o<t;++o)i[o]=Jm(n[o],e);const r=wS(),s=new Array(t);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){const c=o.getId();c!==void 0?r.featureId=c:r.featureId=null}let u=0;for(let c=0;c<t;++c){const f=i[c](r);f&&(s[u]=f,u+=1)}return s.length=u,s}}function SB(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r){const s=n[r],o="filter"in s?ks(s.filter,li,e):EB;let a;if(Array.isArray(s.style)){const u=s.style.length;a=new Array(u);for(let c=0;c<u;++c)a[c]=Jm(s.style[c],e)}else a=[Jm(s.style,e)];i[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<t;++a){const u=i[a].filter;if(u(r)&&!(n[a].else&&o)){o=!0;for(const c of i[a].styles){const f=c(r);f&&s.push(f)}}}return s}}function Jm(n,e){const t=oc(n,"",e),i=ac(n,"",e),r=TB(n,e),s=RB(n,e),o=vi(n,"z-index",e);if(!t&&!i&&!r&&!s&&!Co(n))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(n));const a=new Sn;return function(u){let c=!0;if(t){const f=t(u);f&&(c=!1),a.setFill(f)}if(i){const f=i(u);f&&(c=!1),a.setStroke(f)}if(r){const f=r(u);f&&(c=!1),a.setText(f)}if(s){const f=s(u);f&&(c=!1),a.setImage(f)}return o&&a.setZIndex(o(u)),c?null:a}}function oc(n,e,t){let i;if(e+"fill-pattern-src"in n)i=MB(n,e+"fill-",t);else{if(n[e+"fill-color"]==="none")return s=>null;i=Dy(n,e+"fill-color",t)}if(!i)return null;const r=new ui;return function(s){const o=i(s);return o===Py?null:(r.setColor(o),r)}}function ac(n,e,t){const i=vi(n,e+"stroke-width",t),r=Dy(n,e+"stroke-color",t);if(!i&&!r)return null;const s=ms(n,e+"stroke-line-cap",t),o=ms(n,e+"stroke-line-join",t),a=IS(n,e+"stroke-line-dash",t),u=vi(n,e+"stroke-line-dash-offset",t),c=vi(n,e+"stroke-miter-limit",t),f=new ci;return function(d){if(r){const g=r(d);if(g===Py)return null;f.setColor(g)}if(i&&f.setWidth(i(d)),s){const g=s(d);if(g!=="butt"&&g!=="round"&&g!=="square")throw new Error("Expected butt, round, or square line cap");f.setLineCap(g)}if(o){const g=o(d);if(g!=="bevel"&&g!=="round"&&g!=="miter")throw new Error("Expected bevel, round, or miter line join");f.setLineJoin(g)}return a&&f.setLineDash(a(d)),u&&f.setLineDashOffset(u(d)),c&&f.setMiterLimit(c(d)),f}}function TB(n,e){const t="text-",i=ms(n,t+"value",e);if(!i)return null;const r=oc(n,t,e),s=oc(n,t+"background-",e),o=ac(n,t,e),a=ac(n,t+"background-",e),u=ms(n,t+"font",e),c=vi(n,t+"max-angle",e),f=vi(n,t+"offset-x",e),d=vi(n,t+"offset-y",e),g=yl(n,t+"overflow",e),m=ms(n,t+"placement",e),y=vi(n,t+"repeat",e),v=Bd(n,t+"scale",e),x=yl(n,t+"rotate-with-view",e),C=vi(n,t+"rotation",e),E=ms(n,t+"align",e),S=ms(n,t+"justify",e),R=ms(n,t+"baseline",e),T=yl(n,t+"keep-upright",e),F=IS(n,t+"padding",e),O=Gd(n,t+"declutter-mode"),N=new $d({declutterMode:O});return function(M){if(N.setText(i(M)),r&&N.setFill(r(M)),s&&N.setBackgroundFill(s(M)),o&&N.setStroke(o(M)),a&&N.setBackgroundStroke(a(M)),u&&N.setFont(u(M)),c&&N.setMaxAngle(c(M)),f&&N.setOffsetX(f(M)),d&&N.setOffsetY(d(M)),g&&N.setOverflow(g(M)),m){const W=m(M);if(W!=="point"&&W!=="line")throw new Error("Expected point or line for text-placement");N.setPlacement(W)}if(y&&N.setRepeat(y(M)),v&&N.setScale(v(M)),x&&N.setRotateWithView(x(M)),C&&N.setRotation(C(M)),E){const W=E(M);if(W!=="left"&&W!=="center"&&W!=="right"&&W!=="end"&&W!=="start")throw new Error("Expected left, right, center, start, or end for text-align");N.setTextAlign(W)}if(S){const W=S(M);if(W!=="left"&&W!=="right"&&W!=="center")throw new Error("Expected left, right, or center for text-justify");N.setJustify(W)}if(R){const W=R(M);if(W!=="bottom"&&W!=="top"&&W!=="middle"&&W!=="alphabetic"&&W!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");N.setTextBaseline(W)}return F&&N.setPadding(F(M)),T&&N.setKeepUpright(T(M)),N}}function RB(n,e){return"icon-src"in n?IB(n,e):"shape-points"in n?AB(n,e):"circle-radius"in n?PB(n,e):null}function IB(n,e){const t="icon-",i=t+"src",r=AS(n[i],i),s=Bf(n,t+"anchor",e),o=Bd(n,t+"scale",e),a=vi(n,t+"opacity",e),u=Bf(n,t+"displacement",e),c=vi(n,t+"rotation",e),f=yl(n,t+"rotate-with-view",e),d=mb(n,t+"anchor-origin"),g=yb(n,t+"anchor-x-units"),m=yb(n,t+"anchor-y-units"),y=FB(n,t+"color"),v=kB(n,t+"cross-origin"),x=OB(n,t+"offset"),C=mb(n,t+"offset-origin"),E=Gf(n,t+"width"),S=Gf(n,t+"height"),R=LB(n,t+"size"),T=Gd(n,t+"declutter-mode"),F=new Ca({src:r,anchorOrigin:d,anchorXUnits:g,anchorYUnits:m,color:y,crossOrigin:v,offset:x,offsetOrigin:C,height:S,width:E,size:R,declutterMode:T});return function(O){return a&&F.setOpacity(a(O)),u&&F.setDisplacement(u(O)),c&&F.setRotation(c(O)),f&&F.setRotateWithView(f(O)),o&&F.setScale(o(O)),s&&F.setAnchor(s(O)),F}}function AB(n,e){const t="shape-",i=t+"points",r=t+"radius",s=Qm(n[i],i),o=Qm(n[r],r),a=oc(n,t,e),u=ac(n,t,e),c=Bd(n,t+"scale",e),f=Bf(n,t+"displacement",e),d=vi(n,t+"rotation",e),g=yl(n,t+"rotate-with-view",e),m=Gf(n,t+"radius2"),y=Gf(n,t+"angle"),v=Gd(n,t+"declutter-mode"),x=new zd({points:s,radius:o,radius2:m,angle:y,declutterMode:v});return function(C){return a&&x.setFill(a(C)),u&&x.setStroke(u(C)),f&&x.setDisplacement(f(C)),d&&x.setRotation(d(C)),g&&x.setRotateWithView(g(C)),c&&x.setScale(c(C)),x}}function PB(n,e){const t="circle-",i=oc(n,t,e),r=ac(n,t,e),s=vi(n,t+"radius",e),o=Bd(n,t+"scale",e),a=Bf(n,t+"displacement",e),u=vi(n,t+"rotation",e),c=yl(n,t+"rotate-with-view",e),f=Gd(n,t+"declutter-mode"),d=new Ao({radius:5,declutterMode:f});return function(g){return s&&d.setRadius(s(g)),i&&d.setFill(i(g)),r&&d.setStroke(r(g)),a&&d.setDisplacement(a(g)),u&&d.setRotation(u(g)),c&&d.setRotateWithView(c(g)),o&&d.setScale(o(g)),d}}function vi(n,e,t){if(!(e in n))return;const i=ks(n[e],It,t);return function(r){return Qm(i(r),e)}}function ms(n,e,t){if(!(e in n))return null;const i=ks(n[e],yi,t);return function(r){return AS(i(r),e)}}function MB(n,e,t){const i=ms(n,e+"pattern-src",t),r=gb(n,e+"pattern-offset",t),s=gb(n,e+"pattern-size",t),o=Dy(n,e+"color",t);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function yl(n,e,t){if(!(e in n))return null;const i=ks(n[e],li,t);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function Dy(n,e,t){if(!(e in n))return null;const i=ks(n[e],mr,t);return function(r){return PS(i(r),e)}}function IS(n,e,t){if(!(e in n))return null;const i=ks(n[e],Ea,t);return function(r){return Mc(i(r),e)}}function Bf(n,e,t){if(!(e in n))return null;const i=ks(n[e],Ea,t);return function(r){const s=Mc(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function gb(n,e,t){if(!(e in n))return null;const i=ks(n[e],Ea,t);return function(r){return MS(i(r),e)}}function Bd(n,e,t){if(!(e in n))return null;const i=ks(n[e],Ea|It,t);return function(r){return DB(i(r),e)}}function Gf(n,e){const t=n[e];if(t!==void 0){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}}function LB(n,e){const t=n[e];if(t!==void 0){if(typeof t=="number")return ei(t);if(!Array.isArray(t))throw new Error(`Expected a number or size array for ${e}`);if(t.length!==2||typeof t[0]!="number"||typeof t[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return t}}function kB(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}}function mb(n,e){const t=n[e];if(t!==void 0){if(t!=="bottom-left"&&t!=="bottom-right"&&t!=="top-left"&&t!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return t}}function yb(n,e){const t=n[e];if(t!==void 0){if(t!=="pixels"&&t!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return t}}function OB(n,e){const t=n[e];if(t!==void 0)return Mc(t,e)}function Gd(n,e){const t=n[e];if(t!==void 0){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);if(t!=="declutter"&&t!=="obstacle"&&t!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return t}}function FB(n,e){const t=n[e];if(t!==void 0)return PS(t,e)}function Mc(n,e){if(!Array.isArray(n))throw new Error(`Expected an array for ${e}`);const t=n.length;for(let i=0;i<t;++i)if(typeof n[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return n}function AS(n,e){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}function Qm(n,e){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}function PS(n,e){if(typeof n=="string")return n;const t=Mc(n,e),i=t.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return t}function MS(n,e){const t=Mc(n,e);if(t.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return t}function DB(n,e){return typeof n=="number"?n:MS(n,e)}const _b={RENDER_ORDER:"renderOrder"};class Ny extends Xl{constructor(e){e=e||{};const t=Object.assign({},e);delete t.style,delete t.renderBuffer,delete t.updateWhileAnimating,delete t.updateWhileInteracting,super(t),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(_b.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,t){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new _S(9)),this.getRenderer().renderDeclutter(e,t)}setRenderOrder(e){this.set(_b.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?RS:e;const t=NB(e);this.styleFunction_=e===null?void 0:xB(t),this.changed()}setDeclutter(e){this.declutter_=e?String(e):void 0,this.changed()}}function NB(n){if(n===void 0)return RS;if(!n)return null;if(typeof n=="function"||n instanceof Sn)return n;if(!Array.isArray(n))return pb([n]);if(n.length===0)return[];const e=n.length,t=n[0];if(t instanceof Sn){const r=new Array(e);for(let s=0;s<e;++s){const o=n[s];if(!(o instanceof Sn))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in t){const r=new Array(e);for(let s=0;s<e;++s){const o=n[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return CB(r)}return pb(n)}class LS extends tr{constructor(e,t,i,r){super(e),this.inversePixelTransform=t,this.frameState=i,this.context=r}}class zB extends bc{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,t){Ye()}calculateMatrices2D(e){const t=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Hr(i,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),XC(r,i)}forEachFeatureAtCoordinate(e,t,i,r,s,o,a,u){let c;const f=t.viewState;function d(R,T,F,O){return s.call(o,T,R?F:null,O)}const g=f.projection,m=sy(e.slice(),g),y=[[0,0]];if(g.canWrapX()&&r){const R=g.getExtent(),T=Pt(R);y.push([-T,0],[T,0])}const v=t.layerStatesArray,x=v.length,C=[],E=[];for(let R=0;R<y.length;R++)for(let T=x-1;T>=0;--T){const F=v[T],O=F.layer;if(O.hasRenderer()&&Ay(F,f)&&a.call(u,O)){const N=O.getRenderer(),M=O.getSource();if(N&&M){const W=M.getWrapX()?m:e,B=d.bind(null,F.managed);E[0]=W[0]+y[R][0],E[1]=W[1]+y[R][1],c=N.forEachFeatureAtCoordinate(E,t,i,B,C)}if(c)return c}}if(C.length===0)return;const S=1/C.length;return C.forEach((R,T)=>R.distanceSq+=T*S),C.sort((R,T)=>R.distanceSq-T.distanceSq),C.some(R=>c=R.callback(R.feature,R.layer,R.geometry)),c}hasFeatureAtCoordinate(e,t,i,r,s,o){return this.forEachFeatureAtCoordinate(e,t,i,r,xa,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){Ye()}scheduleExpireIconCache(e){Ki.canExpireCache()&&e.postRenderFunctions.push($B)}}function $B(n,e){Ki.expire()}class BB extends zB{constructor(e){super(e),this.fontChangeListenerKey_=At(Ko,Ll.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const t=this.element_.style;t.position="absolute",t.width="100%",t.height="100%",t.zIndex="0",this.element_.className=Ic+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,t){const i=this.getMap();if(i.hasListener(e)){const r=new LS(e,void 0,t);i.dispatchEvent(r)}}disposeInternal(){Zt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Yi.PRECOMPOSE,e);const t=e.layerStatesArray.sort((a,u)=>a.zIndex-u.zIndex);t.some(a=>a.layer instanceof Ny&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,u=t.length;a<u;++a){const c=t[a];e.layerIndex=a;const f=c.layer,d=f.getSourceState();if(!Ay(c,r)||d!="ready"&&d!="undefined"){f.unrender();continue}const g=f.render(e,o);g&&(g!==o&&(this.children_.push(g),o=g),s.push(c))}this.declutter(e,s),Z6(this.element_,this.children_),this.dispatchRenderEvent(Yi.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,t){if(e.declutter){for(let i=t.length-1;i>=0;--i){const r=t[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}t.forEach(i=>i.layer.renderDeferred(e))}}}function kS(n){if(n instanceof Xl){n.setMapInternal(null);return}n instanceof To&&n.getLayers().forEach(kS)}function OS(n,e){if(n instanceof Xl){n.setMapInternal(e);return}if(n instanceof To){const t=n.getLayers().getArray();for(let i=0,r=t.length;i<r;++i)OS(t[i],e)}}let Wd=class extends es{constructor(e){super(),e=e||{},this.on,this.once,this.un;const t=GB(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:w4,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=bi(),this.pixelToCoordinateTransform_=bi(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=t.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=t.controls||cS(),this.interactions=t.interactions||b$({onFocusOnly:!0}),this.overlays_=t.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new PC(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Bn.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Bn.VIEW,this.handleViewChanged_),this.addChangeListener(Bn.SIZE,this.handleSizeChanged_),this.addChangeListener(Bn.TARGET,this.handleTargetChanged_),this.setProperties(t.values);const i=this;e.view&&!(e.view instanceof gr)&&e.view.then(function(r){i.setView(new gr(r))}),this.controls.addEventListener(Wn.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(Wn.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(Wn.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(Wn.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(Wn.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(Wn.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){OS(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const t=e.getId();t!==void 0&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,t,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:xa,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,t,null,o,null)}getFeaturesAtPixel(e,t){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},t),i}getAllLayers(){const e=[];function t(i){i.forEach(function(r){r instanceof To?t(r.getLayers()):e.push(r)})}return t(this.getLayers()),e}hasFeatureAtPixel(e,t){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);t=t!==void 0?t:{};const r=t.layerFilter!==void 0?t.layerFilter:xa,s=t.hitTolerance!==void 0?t.hitTolerance:0,o=t.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(Bn.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return jm(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const t=this.frameState_;return t?Pn(t.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const t=this.overlayIdIndex_[e.toString()];return t!==void 0?t:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Bn.LAYERGROUP)}setLayers(e){const t=this.getLayerGroup();if(e instanceof xr){t.setLayers(e);return}const i=t.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let t=0,i=e.length;t<i;++t){const r=e[t];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const t=gs(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}getPixelFromCoordinateInternal(e){const t=this.frameState_;return t?Pn(t.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Bn.SIZE)}getView(){return this.get(Bn.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,t,i,r){return T4(this.frameState_,e,t,i,r)}handleBrowserEvent(e,t){t=t||e.type;const i=new to(t,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const t=e.originalEvent,i=t.type;if(i===Dm.POINTERDOWN||i===Ve.WHEEL||i===Ve.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=t.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===r?r.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[sn.ANIMATING]||o[sn.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}t.getTilesLoading()<r&&(t.reprioritize(),t.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Yi.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Yi.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new ol(no.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new ol(no.LOADSTART,this,e))));const i=this.postRenderFunctions_;if(e)for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Zt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(Ve.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(Ve.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),t=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=t,!t)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{t.appendChild(this.viewport_),this.renderer_||(this.renderer_=new BB(this)),this.mapBrowserEventHandler_=new C4(this,this.moveTolerance_);for(const s in rn)this.mapBrowserEventHandler_.addEventListener(rn[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(Ve.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(Ve.WHEEL,this.boundHandleBrowserEvent_,AC?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const s=t.getRootNode();i=s instanceof ShadowRoot?s.host:t}this.targetChangeHandlerKeys_=[At(i,Ve.KEYDOWN,this.handleBrowserEvent,this),At(i,Ve.KEYPRESS,this.handleBrowserEvent,this)];const r=t.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(t)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Zt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Zt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=At(e,Ll.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=At(e,Ve.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Zt),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new so("addlayer",e)),this.layerGroupPropertyListenerKeys_=[At(e,Ll.PROPERTYCHANGE,this.render,this),At(e,Ve.CHANGE,this.render,this),At(e,"addlayer",this.handleLayerAdd_,this),At(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){if(!this.frameState_)return;const e=this.frameState_.layerStatesArray;for(let t=0,i=e.length;t<i;++t){const r=e[t].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){kS(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const t=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(t!==void 0&&ob(t)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:Lf(a.center,a.resolution,a.rotation,t),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:t,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:He(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const u=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=Lf(a.nextCenter,a.nextResolution,u,t)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!Pa(this.previousExtent_)&&!Rs(s.extent,this.previousExtent_))&&(this.dispatchEvent(new ol(no.MOVESTART,this,r)),this.previousExtent_=jl(this.previousExtent_)),this.previousExtent_&&!s.viewHints[sn.ANIMATING]&&!s.viewHints[sn.INTERACTING]&&!Rs(s.extent,this.previousExtent_)&&(this.dispatchEvent(new ol(no.MOVEEND,this,s)),MC(s.extent,this.previousExtent_))),this.dispatchEvent(new ol(no.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(no.LOADSTART)||this.hasListener(no.LOADEND)||this.hasListener(Yi.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const t=this.getLayerGroup();t&&this.handleLayerRemove_(new so("removelayer",t)),this.set(Bn.LAYERGROUP,e)}setSize(e){this.set(Bn.SIZE,e)}setTarget(e){this.set(Bn.TARGET,e)}setView(e){if(!e||e instanceof gr){this.set(Bn.VIEW,e);return}this.set(Bn.VIEW,new gr);const t=this;e.then(function(i){t.setView(new gr(i))})}updateSize(){const e=this.getTargetElement();let t;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(t=[Math.max(0,s),Math.max(0,o)],!ob(t)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&BC("No map visible because the map container's width or height are 0."))}const i=this.getSize();t&&(!i||!Io(t,i))&&(this.setSize(t),this.updateViewportSize_(t))}updateViewportSize_(e){const t=this.getView();t&&t.setViewportSize(e)}};function GB(n){let e=null;n.keyboardEventTarget!==void 0&&(e=typeof n.keyboardEventTarget=="string"?document.getElementById(n.keyboardEventTarget):n.keyboardEventTarget);const t={},i=n.layers&&typeof n.layers.getLayers=="function"?n.layers:new To({layers:n.layers});t[Bn.LAYERGROUP]=i,t[Bn.TARGET]=n.target,t[Bn.VIEW]=n.view instanceof gr?n.view:new gr;let r;n.controls!==void 0&&(Array.isArray(n.controls)?r=new xr(n.controls.slice()):(Dt(typeof n.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=n.controls));let s;n.interactions!==void 0&&(Array.isArray(n.interactions)?s=new xr(n.interactions.slice()):(Dt(typeof n.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=n.interactions));let o;return n.overlays!==void 0?Array.isArray(n.overlays)?o=new xr(n.overlays.slice()):(Dt(typeof n.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=n.overlays):o=new xr,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:t}}const vb=(n,e)=>{const t=[];return n.forEach(i=>{if("getSource"in i&&typeof i.getSource=="function"){const r=i.getSource();if(!(r!=null&&r.getFeatureById))return;e.forEach(s=>{const o=r.getFeatureById(s);o&&t.push(o)})}}),t},WB=(n,e)=>{if(!e)return e;const t=n.getResolutions();return t?t.reduce((i,r)=>Math.abs(r-e)<Math.abs(i-e)?r:i):e},FS=(n,e)=>{const t=n.getView(),i=t.getResolutionForExtent(e,n.getSize());if(!i)return t.getZoom()??0;const r=t.getResolutions()?WB(t,i):i;return t.getZoomForResolution(r??t.getResolution()??0)??t.getZoom()??0},gf=(n,e,t={})=>{const i=e.getGeometry();if(!i)return;const{padding:r=[50,50,50,50],maxZoom:s=16,duration:o=600}=t,a=i.getExtent(),u=n.getView();if(!u)return;const c=FS(n,a),f=Math.round(Math.min(c-1,s));u.setZoom(f),u.fit(a,{padding:r,duration:o})},DS=(n,e,t={})=>{const{padding:i=[50,50,50,50],maxZoom:r=16,duration:s=600}=t;if(!e.length)return;const o=e.map(d=>{var g;return(g=d.getGeometry())==null?void 0:g.getExtent()}).filter(d=>!!d);if(!o.length)return;const a=o.reduce((d,g)=>[Math.min(d[0],g[0]),Math.min(d[1],g[1]),Math.max(d[2],g[2]),Math.max(d[3],g[3])],o[0]),u=n.getView();if(!u)return;const c=FS(n,a),f=Math.round(Math.min(c,r));u.setZoom(f),u.fit(a,{padding:i,duration:s})};class As extends es{constructor(e){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),e)if(typeof e.getSimplifiedGeometry=="function"){const t=e;this.setGeometry(t)}else{const t=e;this.setProperties(t)}}clone(){const e=new As(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());const t=this.getGeometry();t&&e.setGeometry(t.clone());const i=this.getStyle();return i&&e.setStyle(i),e}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Zt(this.geometryChangeKey_),this.geometryChangeKey_=null);const e=this.getGeometry();e&&(this.geometryChangeKey_=At(e,Ve.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(e){this.set(this.geometryName_,e)}setStyle(e){this.style_=e,this.styleFunction_=e?qB(e):void 0,this.changed()}setId(e){this.id_=e,this.changed()}setGeometryName(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function qB(n){if(typeof n=="function")return n;let e;return Array.isArray(n)?e=n:(Dt(typeof n.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),e=[n]),function(){return e}}class NS{drawCustom(e,t,i,r,s){}drawGeometry(e){}setStyle(e){}drawCircle(e,t,i){}drawFeature(e,t,i){}drawGeometryCollection(e,t,i){}drawLineString(e,t,i){}drawMultiLineString(e,t,i){}drawMultiPoint(e,t,i){}drawMultiPolygon(e,t,i){}drawPoint(e,t,i){}drawPolygon(e,t,i){}drawText(e,t,i){}setFillStrokeStyle(e,t){}setImageStyle(e,t){}setTextStyle(e,t){}}const Oe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},ef=[Oe.FILL],po=[Oe.STROKE],ia=[Oe.BEGIN_PATH],xb=[Oe.CLOSE_PATH];class Lc extends NS{constructor(e,t,i,r){super(),this.tolerance=e,this.maxExtent=t,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(e){const t=this.pixelRatio;return t==1?e:e.map(function(i){return i*t})}appendFlatPointCoordinates(e,t){const i=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,s=this.coordinates;let o=s.length;for(let a=0,u=e.length;a<u;a+=t)r[0]=e[a],r[1]=e[a+1],wa(i,r)&&(s[o++]=r[0],s[o++]=r[1]);return o}appendFlatLineCoordinates(e,t,i,r,s,o){const a=this.coordinates;let u=a.length;const c=this.getBufferedMaxExtent();o&&(t+=r);let f=e[t],d=e[t+1];const g=this.tmpCoordinate_;let m=!0,y,v,x;for(y=t+r;y<i;y+=r)g[0]=e[y],g[1]=e[y+1],x=$m(c,g),x!==v?(m&&(a[u++]=f,a[u++]=d,m=!1),a[u++]=g[0],a[u++]=g[1]):x===Gn.INTERSECTING?(a[u++]=g[0],a[u++]=g[1],m=!1):m=!0,f=g[0],d=g[1],v=x;return(s&&m||y===t+r)&&(a[u++]=f,a[u++]=d),u}drawCustomCoordinates_(e,t,i,r,s){for(let o=0,a=i.length;o<a;++o){const u=i[o],c=this.appendFlatLineCoordinates(e,t,u,r,!1,!1);s.push(c),t=u}return t}drawCustom(e,t,i,r,s){this.beginGeometry(e,t,s);const o=e.getType(),a=e.getStride(),u=this.coordinates.length;let c,f,d,g,m;switch(o){case"MultiPolygon":c=e.getOrientedFlatCoordinates(),g=[];const y=e.getEndss();m=0;for(let v=0,x=y.length;v<x;++v){const C=[];m=this.drawCustomCoordinates_(c,m,y[v],a,C),g.push(C)}this.instructions.push([Oe.CUSTOM,u,g,e,i,Vm,s]),this.hitDetectionInstructions.push([Oe.CUSTOM,u,g,e,r||i,Vm,s]);break;case"Polygon":case"MultiLineString":d=[],c=o=="Polygon"?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),m=this.drawCustomCoordinates_(c,0,e.getEnds(),a,d),this.instructions.push([Oe.CUSTOM,u,d,e,i,ec,s]),this.hitDetectionInstructions.push([Oe.CUSTOM,u,d,e,r||i,ec,s]);break;case"LineString":case"Circle":c=e.getFlatCoordinates(),f=this.appendFlatLineCoordinates(c,0,c.length,a,!1,!1),this.instructions.push([Oe.CUSTOM,u,f,e,i,fo,s]),this.hitDetectionInstructions.push([Oe.CUSTOM,u,f,e,r||i,fo,s]);break;case"MultiPoint":c=e.getFlatCoordinates(),f=this.appendFlatPointCoordinates(c,a),f>u&&(this.instructions.push([Oe.CUSTOM,u,f,e,i,fo,s]),this.hitDetectionInstructions.push([Oe.CUSTOM,u,f,e,r||i,fo,s]));break;case"Point":c=e.getFlatCoordinates(),this.coordinates.push(c[0],c[1]),f=this.coordinates.length,this.instructions.push([Oe.CUSTOM,u,f,e,i,void 0,s]),this.hitDetectionInstructions.push([Oe.CUSTOM,u,f,e,r||i,void 0,s]);break}this.endGeometry(t)}beginGeometry(e,t,i){this.beginGeometryInstruction1_=[Oe.BEGIN_GEOMETRY,t,0,e,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Oe.BEGIN_GEOMETRY,t,0,e,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const e=this.hitDetectionInstructions;e.reverse();let t;const i=e.length;let r,s,o=-1;for(t=0;t<i;++t)r=e[t],s=r[0],s==Oe.END_GEOMETRY?o=t:s==Oe.BEGIN_GEOMETRY&&(r[2]=t,m4(this.hitDetectionInstructions,o,t),o=-1)}fillStyleToState(e,t={}){if(e){const i=e.getColor();t.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,t.fillStyle=$r(i||_i)}else t.fillStyle=void 0;return t}strokeStyleToState(e,t={}){if(e){const i=e.getColor();t.strokeStyle=$r(i||ic);const r=e.getLineCap();t.lineCap=r!==void 0?r:Nl;const s=e.getLineDash();t.lineDash=s?s.slice():ws;const o=e.getLineDashOffset();t.lineDashOffset=o||Es;const a=e.getLineJoin();t.lineJoin=a!==void 0?a:zl;const u=e.getWidth();t.lineWidth=u!==void 0?u:sc;const c=e.getMiterLimit();t.miterLimit=c!==void 0?c:nc,t.lineWidth>this.maxLineWidth&&(this.maxLineWidth=t.lineWidth,this.bufferedMaxExtent_=null)}else t.strokeStyle=void 0,t.lineCap=void 0,t.lineDash=null,t.lineDashOffset=void 0,t.lineJoin=void 0,t.lineWidth=void 0,t.miterLimit=void 0;return t}setFillStrokeStyle(e,t){const i=this.state;this.fillStyleToState(e,i),this.strokeStyleToState(t,i)}createFill(e){const t=e.fillStyle,i=[Oe.SET_FILL_STYLE,t];return typeof t!="string"&&i.push(e.fillPatternScale),i}applyStroke(e){this.instructions.push(this.createStroke(e))}createStroke(e){return[Oe.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash?this.applyPixelRatio(e.lineDash):null,e.lineDashOffset*this.pixelRatio]}updateFillStyle(e,t){const i=e.fillStyle;(typeof i!="string"||e.currentFillStyle!=i)&&(this.instructions.push(t.call(this,e)),e.currentFillStyle=i)}updateStrokeStyle(e,t){const i=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,u=e.lineWidth,c=e.miterLimit;(e.currentStrokeStyle!=i||e.currentLineCap!=r||s!=e.currentLineDash&&!Io(e.currentLineDash,s)||e.currentLineDashOffset!=o||e.currentLineJoin!=a||e.currentLineWidth!=u||e.currentMiterLimit!=c)&&(t.call(this,e),e.currentStrokeStyle=i,e.currentLineCap=r,e.currentLineDash=s,e.currentLineDashOffset=o,e.currentLineJoin=a,e.currentLineWidth=u,e.currentMiterLimit=c)}endGeometry(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const t=[Oe.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=MC(this.maxExtent),this.maxLineWidth>0)){const e=this.resolution*(this.maxLineWidth+1)/2;bo(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class UB extends Lc{constructor(e,t,i,r){super(e,t,i,r),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(e,t,i){if(!this.image_||this.maxExtent&&!wa(this.maxExtent,e.getFlatCoordinates()))return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),s=e.getStride(),o=this.coordinates.length,a=this.appendFlatPointCoordinates(r,s);this.instructions.push([Oe.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}drawMultiPoint(e,t,i){if(!this.image_)return;this.beginGeometry(e,t,i);const r=e.getFlatCoordinates(),s=[];for(let u=0,c=r.length;u<c;u+=e.getStride())(!this.maxExtent||wa(this.maxExtent,r.slice(u,u+2)))&&s.push(r[u],r[u+1]);const o=this.coordinates.length,a=this.appendFlatPointCoordinates(s,2);this.instructions.push([Oe.DRAW_IMAGE,o,a,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,o,a,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(t)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(e,t){const i=e.getAnchor(),r=e.getSize(),s=e.getOrigin();this.imagePixelRatio_=e.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=e.getHitDetectionImage(),this.image_=e.getImage(this.pixelRatio),this.height_=r[1],this.opacity_=e.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScaleArray(),this.width_=r[0],this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}class jB extends Lc{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinates_(e,t,i,r){const s=this.coordinates.length,o=this.appendFlatLineCoordinates(e,t,i,r,!1,!1),a=[Oe.MOVE_TO_LINE_TO,s,o];return this.instructions.push(a),this.hitDetectionInstructions.push(a),i}drawLineString(e,t,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ws,Es],ia);const a=e.getFlatCoordinates(),u=e.getStride();this.drawFlatCoordinates_(a,0,a.length,u),this.hitDetectionInstructions.push(po),this.endGeometry(t)}drawMultiLineString(e,t,i){const r=this.state,s=r.strokeStyle,o=r.lineWidth;if(s===void 0||o===void 0)return;this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,t,i),this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ws,Es],ia);const a=e.getEnds(),u=e.getFlatCoordinates(),c=e.getStride();let f=0;for(let d=0,g=a.length;d<g;++d)f=this.drawFlatCoordinates_(u,f,a[d],c);this.hitDetectionInstructions.push(po),this.endGeometry(t)}finish(){const e=this.state;return e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&this.instructions.push(po),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(e){e.lastStroke!=null&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(po),e.lastStroke=this.coordinates.length),e.lastStroke=0,super.applyStroke(e),this.instructions.push(ia)}}class bb extends Lc{constructor(e,t,i,r){super(e,t,i,r)}drawFlatCoordinatess_(e,t,i,r){const s=this.state,o=s.fillStyle!==void 0,a=s.strokeStyle!==void 0,u=i.length;this.instructions.push(ia),this.hitDetectionInstructions.push(ia);for(let c=0;c<u;++c){const f=i[c],d=this.coordinates.length,g=this.appendFlatLineCoordinates(e,t,f,r,!0,!a),m=[Oe.MOVE_TO_LINE_TO,d,g];this.instructions.push(m),this.hitDetectionInstructions.push(m),a&&(this.instructions.push(xb),this.hitDetectionInstructions.push(xb)),t=f}return o&&(this.instructions.push(ef),this.hitDetectionInstructions.push(ef)),a&&(this.instructions.push(po),this.hitDetectionInstructions.push(po)),t}drawCircle(e,t,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,_i]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ws,Es]);const a=e.getFlatCoordinates(),u=e.getStride(),c=this.coordinates.length;this.appendFlatLineCoordinates(a,0,a.length,u,!1,!1);const f=[Oe.CIRCLE,c];this.instructions.push(ia,f),this.hitDetectionInstructions.push(ia,f),r.fillStyle!==void 0&&(this.instructions.push(ef),this.hitDetectionInstructions.push(ef)),r.strokeStyle!==void 0&&(this.instructions.push(po),this.hitDetectionInstructions.push(po)),this.endGeometry(t)}drawPolygon(e,t,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,_i]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ws,Es]);const a=e.getEnds(),u=e.getOrientedFlatCoordinates(),c=e.getStride();this.drawFlatCoordinatess_(u,0,a,c),this.endGeometry(t)}drawMultiPolygon(e,t,i){const r=this.state,s=r.fillStyle,o=r.strokeStyle;if(s===void 0&&o===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(e,t,i),r.fillStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_FILL_STYLE,_i]),r.strokeStyle!==void 0&&this.hitDetectionInstructions.push([Oe.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,ws,Es]);const a=e.getEndss(),u=e.getOrientedFlatCoordinates(),c=e.getStride();let f=0;for(let d=0,g=a.length;d<g;++d)f=this.drawFlatCoordinatess_(u,f,a[d],c);this.endGeometry(t)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const e=this.tolerance;if(e!==0){const t=this.coordinates;for(let i=0,r=t.length;i<r;++i)t[i]=Yo(t[i],e)}return super.finish()}setFillStrokeStyles_(){const e=this.state;this.updateFillStyle(e,this.createFill),this.updateStrokeStyle(e,this.applyStroke)}}function VB(n,e,t,i,r){const s=[];let o=t,a=0,u=e.slice(t,2);for(;a<n&&o+r<i;){const[c,f]=u.slice(-2),d=e[o+r],g=e[o+r+1],m=Math.sqrt((d-c)*(d-c)+(g-f)*(g-f));if(a+=m,a>=n){const y=(n-a+m)/m,v=Ai(c,d,y),x=Ai(f,g,y);u.push(v,x),s.push(u),u=[v,x],a==n&&(o+=r),a=0}else if(a<n)u.push(e[o+r],e[o+r+1]),o+=r;else{const y=m-a,v=Ai(c,d,y/m),x=Ai(f,g,y/m);u.push(v,x),s.push(u),u=[v,x],a=0,o+=r}}return a>0&&s.push(u),s}function HB(n,e,t,i,r){let s=t,o=t,a=0,u=0,c=t,f,d,g,m,y,v,x,C,E,S;for(d=t;d<i;d+=r){const R=e[d],T=e[d+1];y!==void 0&&(E=R-y,S=T-v,m=Math.sqrt(E*E+S*S),x!==void 0&&(u+=g,f=Math.acos((x*E+C*S)/(g*m)),f>n&&(u>a&&(a=u,s=c,o=d),u=0,c=d-r)),g=m,x=E,C=S),y=R,v=T}return u+=m,u>a?[c,d]:[s,o]}const Wf={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class XB extends Lc{constructor(e,t,i,r){super(e,t,i,r),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[_i]={fillStyle:_i},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const e=super.finish();return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e}drawText(e,t,i){const r=this.textFillState_,s=this.textStrokeState_,o=this.textState_;if(this.text_===""||!o||!r&&!s)return;const a=this.coordinates;let u=a.length;const c=e.getType();let f=null,d=e.getStride();if(o.placement==="line"&&(c=="LineString"||c=="MultiLineString"||c=="Polygon"||c=="MultiPolygon")){if(!vn(this.maxExtent,e.getExtent()))return;let g;if(f=e.getFlatCoordinates(),c=="LineString")g=[f.length];else if(c=="MultiLineString")g=e.getEnds();else if(c=="Polygon")g=e.getEnds().slice(0,1);else if(c=="MultiPolygon"){const x=e.getEndss();g=[];for(let C=0,E=x.length;C<E;++C)g.push(x[C][0])}this.beginGeometry(e,t,i);const m=o.repeat,y=m?void 0:o.textAlign;let v=0;for(let x=0,C=g.length;x<C;++x){let E;m?E=VB(m*this.resolution,f,v,g[x],d):E=[f.slice(v,g[x])];for(let S=0,R=E.length;S<R;++S){const T=E[S];let F=0,O=T.length;if(y==null){const M=HB(o.maxAngle,T,0,T.length,2);F=M[0],O=M[1]}for(let M=F;M<O;M+=d)a.push(T[M],T[M+1]);const N=a.length;v=g[x],this.drawChars_(u,N),u=N}}this.endGeometry(t)}else{let g=o.overflow?null:[];switch(c){case"Point":case"MultiPoint":f=e.getFlatCoordinates();break;case"LineString":f=e.getFlatMidpoint();break;case"Circle":f=e.getCenter();break;case"MultiLineString":f=e.getFlatMidpoints(),d=2;break;case"Polygon":f=e.getFlatInteriorPoint(),o.overflow||g.push(f[2]/this.resolution),d=3;break;case"MultiPolygon":const R=e.getFlatInteriorPoints();f=[];for(let T=0,F=R.length;T<F;T+=3)o.overflow||g.push(R[T+2]/this.resolution),f.push(R[T],R[T+1]);if(f.length===0)return;d=2;break}const m=this.appendFlatPointCoordinates(f,d);if(m===u)return;if(g&&(m-u)/2!==f.length/d){let R=u/2;g=g.filter((T,F)=>{const O=a[(R+F)*2]===f[F*d]&&a[(R+F)*2+1]===f[F*d+1];return O||--R,O})}this.saveTextStates_();const y=o.backgroundFill?this.createFill(this.fillStyleToState(o.backgroundFill)):null,v=o.backgroundStroke?this.createStroke(this.strokeStyleToState(o.backgroundStroke)):null;this.beginGeometry(e,t,i);let x=o.padding;if(x!=na&&(o.scale[0]<0||o.scale[1]<0)){let R=o.padding[0],T=o.padding[1],F=o.padding[2],O=o.padding[3];o.scale[0]<0&&(T=-T,O=-O),o.scale[1]<0&&(R=-R,F=-F),x=[R,T,F,O]}const C=this.pixelRatio;this.instructions.push([Oe.DRAW_IMAGE,u,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,x==na?na:x.map(function(R){return R*C}),y,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]);const E=1/C,S=y?y.slice(0):null;S&&(S[1]=_i),this.hitDetectionInstructions.push([Oe.DRAW_IMAGE,u,m,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[E,E],NaN,this.declutterMode_,this.declutterImageWithText_,x,S,v,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?_i:this.fillKey_,this.textOffsetX_,this.textOffsetY_,g]),this.endGeometry(t)}}saveTextStates_(){const e=this.textStrokeState_,t=this.textState_,i=this.textFillState_,r=this.strokeKey_;e&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash}));const s=this.textKey_;s in this.textStates||(this.textStates[s]={font:t.font,textAlign:t.textAlign||rc,justify:t.justify,textBaseline:t.textBaseline||$f,scale:t.scale});const o=this.fillKey_;i&&(o in this.fillStates||(this.fillStates[o]={fillStyle:i.fillStyle}))}drawChars_(e,t){const i=this.textStrokeState_,r=this.textState_,s=this.strokeKey_,o=this.textKey_,a=this.fillKey_;this.saveTextStates_();const u=this.pixelRatio,c=Wf[r.textBaseline],f=this.textOffsetY_*u,d=this.text_,g=i?i.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Oe.DRAW_CHARS,e,t,c,r.overflow,a,r.maxAngle,u,f,s,g*u,d,o,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([Oe.DRAW_CHARS,e,t,c,r.overflow,a&&_i,r.maxAngle,u,f,s,g*u,d,o,1/u,this.declutterMode_,this.textKeepUpright_])}setTextStyle(e,t){let i,r,s;if(!e)this.text_="";else{const o=e.getFill();o?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=$r(o.getColor()||_i)):(r=null,this.textFillState_=r);const a=e.getStroke();if(!a)s=null,this.textStrokeState_=s;else{s=this.textStrokeState_,s||(s={},this.textStrokeState_=s);const v=a.getLineDash(),x=a.getLineDashOffset(),C=a.getWidth(),E=a.getMiterLimit();s.lineCap=a.getLineCap()||Nl,s.lineDash=v?v.slice():ws,s.lineDashOffset=x===void 0?Es:x,s.lineJoin=a.getLineJoin()||zl,s.lineWidth=C===void 0?sc:C,s.miterLimit=E===void 0?nc:E,s.strokeStyle=$r(a.getColor()||ic)}i=this.textState_;const u=e.getFont()||CS;gB(u);const c=e.getScaleArray();i.overflow=e.getOverflow(),i.font=u,i.maxAngle=e.getMaxAngle(),i.placement=e.getPlacement(),i.textAlign=e.getTextAlign(),i.repeat=e.getRepeat(),i.justify=e.getJustify(),i.textBaseline=e.getTextBaseline()||$f,i.backgroundFill=e.getBackgroundFill(),i.backgroundStroke=e.getBackgroundStroke(),i.padding=e.getPadding()||na,i.scale=c===void 0?[1,1]:c;const f=e.getOffsetX(),d=e.getOffsetY(),g=e.getRotateWithView(),m=e.getKeepUpright(),y=e.getRotation();this.text_=e.getText()||"",this.textOffsetX_=f===void 0?0:f,this.textOffsetY_=d===void 0?0:d,this.textRotateWithView_=g===void 0?!1:g,this.textKeepUpright_=m===void 0?!0:m,this.textRotation_=y===void 0?0:y,this.strokeKey_=s?(typeof s.strokeStyle=="string"?s.strokeStyle:He(s.strokeStyle))+s.lineCap+s.lineDashOffset+"|"+s.lineWidth+s.lineJoin+s.miterLimit+"["+s.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=r&&r.fillStyle?typeof r.fillStyle=="string"?r.fillStyle:"|"+He(r.fillStyle):""}this.declutterMode_=e.getDeclutterMode(),this.declutterImageWithText_=t}}const YB={Circle:bb,Default:Lc,Image:UB,LineString:jB,Polygon:bb,Text:XB};class zS{constructor(e,t,i,r){this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=r,this.resolution_=i,this.buildersByZIndex_={}}finish(){const e={};for(const t in this.buildersByZIndex_){e[t]=e[t]||{};const i=this.buildersByZIndex_[t];for(const r in i){const s=i[r].finish();e[t][r]=s}}return e}getBuilder(e,t){const i=e!==void 0?e.toString():"0";let r=this.buildersByZIndex_[i];r===void 0&&(r={},this.buildersByZIndex_[i]=r);let s=r[t];if(s===void 0){const o=YB[t];s=new o(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[t]=s}return s}}function zy(n,e,t,i){let r=n[e],s=n[e+1],o=0;for(let a=e+i;a<t;a+=i){const u=n[a],c=n[a+1];o+=Math.sqrt((u-r)*(u-r)+(c-s)*(c-s)),r=u,s=c}return o}function KB(n,e,t,i,r,s,o,a,u,c,f,d,g=!0){let m=n[e],y=n[e+1],v=0,x=0,C=0,E=0;function S(){v=m,x=y,e+=i,m=n[e],y=n[e+1],E+=C,C=Math.sqrt((m-v)*(m-v)+(y-x)*(y-x))}do S();while(e<t-i&&E+C<s);let R=C===0?0:(s-E)/C;const T=Ai(v,m,R),F=Ai(x,y,R),O=e-i,N=E,M=s+a*u(c,r,f);for(;e<t-i&&E+C<M;)S();R=C===0?0:(M-E)/C;const W=Ai(v,m,R),B=Ai(x,y,R);let z=!1;if(g)if(d){const q=[T,F,W,B];YC(q,0,4,2,d,q,q),z=q[0]>q[2]}else z=T>W;const V=Math.PI,Z=[],G=O+i===e;e=O,C=0,E=N,m=n[e],y=n[e+1];let j;if(G){S(),j=Math.atan2(y-x,m-v),z&&(j+=j>0?-V:V);const q=(W+T)/2,Y=(B+F)/2;return Z[0]=[q,Y,(M-s)/2,j,r],Z}r=r.replace(/\n/g," ");for(let q=0,Y=r.length;q<Y;){S();let te=Math.atan2(y-x,m-v);if(z&&(te+=te>0?-V:V),j!==void 0){let Me=te-j;if(Me+=Me>V?-2*V:Me<-V?2*V:0,Math.abs(Me)>o)return null}j=te;const ne=q;let me=0;for(;q<Y;++q){const Me=z?Y-q-1:q,ct=a*u(c,r[Me],f);if(e+i<t&&E+C<s+me+ct/2)break;me+=ct}if(q===ne)continue;const he=z?r.substring(Y-ne,Y-q):r.substring(ne,q);R=C===0?0:(s+me/2-E)/C;const Ue=Ai(v,m,R),oe=Ai(x,y,R);Z.push([Ue,oe,me/2,te,he]),s+=me}return Z}class $y{constructor(){$x(this,"pushMethodArgs_",(...e)=>(this.push_(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Nf(),{get:(e,t)=>{if(typeof Nf()[t]=="function")return this.push_(t),this.pushMethodArgs_},set:(e,t,i)=>(this.push_(t,i),!0)})}push_(...e){const t=this.instructions_,i=this.zIndex+this.offset_;t[i]||(t[i]=[]),t[i].push(...e)}pushFunction(e){this.push_(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(t=>{for(let i=0,r=t.length;i<r;++i){const s=t[i];if(typeof s=="function"){s(e);continue}const o=t[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const el=Qi(),Ys=[],fs=[],ds=[],Ks=[];function wb(n){return n[3].declutterBox}const Eb=new RegExp("[֑-ࣿיִ-﷿ﹰ-ﻼࠀ-࿿-]");function Jg(n,e){return e==="start"?e=Eb.test(n)?"right":"left":e==="end"&&(e=Eb.test(n)?"left":"right"),Wf[e]}function ZB(n,e,t){return t>0&&n.push(`
`,""),n.push(e,""),n}function JB(n,e,t){return t%2===0&&(n+=e),n}class QB{constructor(e,t,i,r,s){this.overlaps=i,this.pixelRatio=t,this.resolution=e,this.alignAndScaleFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=bi(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=s?new $y:null}getZIndexContext(){return this.zIndexContext_}createLabel(e,t,i,r){const s=e+t+i+r;if(this.labels_[s])return this.labels_[s];const o=r?this.strokeStates[r]:null,a=i?this.fillStates[i]:null,u=this.textStates[t],c=this.pixelRatio,f=[u.scale[0]*c,u.scale[1]*c],d=u.justify?Wf[u.justify]:Jg(Array.isArray(e)?e[0]:e,u.textAlign||rc),g=r&&o.lineWidth?o.lineWidth:0,m=Array.isArray(e)?e:String(e).split(`
`).reduce(ZB,[]),{width:y,height:v,widths:x,heights:C,lineWidths:E}=yB(u,m),S=y+g,R=[],T=(S+2)*f[0],F=(v+g)*f[1],O={width:T<0?Math.floor(T):Math.ceil(T),height:F<0?Math.floor(F):Math.ceil(F),contextInstructions:R};(f[0]!=1||f[1]!=1)&&R.push("scale",f),r&&(R.push("strokeStyle",o.strokeStyle),R.push("lineWidth",g),R.push("lineCap",o.lineCap),R.push("lineJoin",o.lineJoin),R.push("miterLimit",o.miterLimit),R.push("setLineDash",[o.lineDash]),R.push("lineDashOffset",o.lineDashOffset)),i&&R.push("fillStyle",a.fillStyle),R.push("textBaseline","middle"),R.push("textAlign","center");const N=.5-d;let M=d*S+N*g;const W=[],B=[];let z=0,V=0,Z=0,G=0,j;for(let q=0,Y=m.length;q<Y;q+=2){const te=m[q];if(te===`
`){V+=z,z=0,M=d*S+N*g,++G;continue}const ne=m[q+1]||u.font;ne!==j&&(r&&W.push("font",ne),i&&B.push("font",ne),j=ne),z=Math.max(z,C[Z]);const me=[te,M+N*x[Z]+d*(x[Z]-E[G]),.5*(g+z)+V];M+=x[Z],r&&W.push("strokeText",me),i&&B.push("fillText",me),++Z}return Array.prototype.push.apply(R,W),Array.prototype.push.apply(R,B),this.labels_[s]=O,O}replayTextBackground_(e,t,i,r,s,o,a){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,i),e.lineTo.apply(e,r),e.lineTo.apply(e,s),e.lineTo.apply(e,t),o&&(this.alignAndScaleFill_=o[2],e.fillStyle=o[1],this.fill_(e)),a&&(this.setStrokeStyle_(e,a),e.stroke())}calculateImageOrLabelDimensions_(e,t,i,r,s,o,a,u,c,f,d,g,m,y,v,x){a*=g[0],u*=g[1];let C=i-a,E=r-u;const S=s+c>e?e-c:s,R=o+f>t?t-f:o,T=y[3]+S*g[0]+y[1],F=y[0]+R*g[1]+y[2],O=C-y[3],N=E-y[0];(v||d!==0)&&(Ys[0]=O,Ks[0]=O,Ys[1]=N,fs[1]=N,fs[0]=O+T,ds[0]=fs[0],ds[1]=N+F,Ks[1]=ds[1]);let M;return d!==0?(M=Hr(bi(),i,r,1,1,d,-i,-r),Pn(M,Ys),Pn(M,fs),Pn(M,ds),Pn(M,Ks),Ts(Math.min(Ys[0],fs[0],ds[0],Ks[0]),Math.min(Ys[1],fs[1],ds[1],Ks[1]),Math.max(Ys[0],fs[0],ds[0],Ks[0]),Math.max(Ys[1],fs[1],ds[1],Ks[1]),el)):Ts(Math.min(O,O+T),Math.min(N,N+F),Math.max(O,O+T),Math.max(N,N+F),el),m&&(C=Math.round(C),E=Math.round(E)),{drawImageX:C,drawImageY:E,drawImageW:S,drawImageH:R,originX:c,originY:f,declutterBox:{minX:el[0],minY:el[1],maxX:el[2],maxY:el[3],value:x},canvasTransform:M,scale:g}}replayImageOrLabel_(e,t,i,r,s,o,a){const u=!!(o||a),c=r.declutterBox,f=a?a[2]*r.scale[0]/2:0;return c.minX-f<=t[0]&&c.maxX+f>=0&&c.minY-f<=t[1]&&c.maxY+f>=0&&(u&&this.replayTextBackground_(e,Ys,fs,ds,Ks,o,a),_B(e,r.canvasTransform,s,i,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0}fill_(e){const t=this.alignAndScaleFill_;if(t){const i=Pn(this.renderedTransform_,[0,0]),r=512*this.pixelRatio;e.save(),e.translate(i[0]%r,i[1]%r),t!==1&&e.scale(t,t),e.rotate(this.viewRotation_)}e.fill(),t&&e.restore()}setStrokeStyle_(e,t){e.strokeStyle=t[1],t[1]&&(e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.lineDashOffset=t[7],e.setLineDash(t[6]))}drawLabelWithPointPlacement_(e,t,i,r){const s=this.textStates[t],o=this.createLabel(e,t,r,i),a=this.strokeStates[i],u=this.pixelRatio,c=Jg(Array.isArray(e)?e[0]:e,s.textAlign||rc),f=Wf[s.textBaseline||$f],d=a&&a.lineWidth?a.lineWidth:0,g=o.width/u-2*s.scale[0],m=c*g+2*(.5-c)*d,y=f*o.height/u+2*(.5-f)*d;return{label:o,anchorX:m,anchorY:y}}execute_(e,t,i,r,s,o,a,u){const c=this.zIndexContext_;let f;this.pixelCoordinates_&&Io(i,this.renderedTransform_)?f=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),f=Eo(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),x6(this.renderedTransform_,i));let d=0;const g=r.length;let m=0,y,v,x,C,E,S,R,T,F,O,N,M,W,B=0,z=0;const V=this.coordinateCache_,Z=this.viewRotation_,G=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,j={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:Z},q=this.instructions!=r||this.overlaps?0:200;let Y,te,ne,me;for(;d<g;){const he=r[d];switch(he[0]){case Oe.BEGIN_GEOMETRY:Y=he[1],me=he[3],Y.getGeometry()?a!==void 0&&!vn(a,me.getExtent())?d=he[2]+1:++d:d=he[2],c&&(c.zIndex=he[4]);break;case Oe.BEGIN_PATH:B>q&&(this.fill_(e),B=0),z>q&&(e.stroke(),z=0),!B&&!z&&(e.beginPath(),E=NaN,S=NaN),++d;break;case Oe.CIRCLE:m=he[1];const oe=f[m],Me=f[m+1],ct=f[m+2],De=f[m+3],Re=ct-oe,Se=De-Me,ht=Math.sqrt(Re*Re+Se*Se);e.moveTo(oe+ht,Me),e.arc(oe,Me,ht,0,2*Math.PI,!0),++d;break;case Oe.CLOSE_PATH:e.closePath(),++d;break;case Oe.CUSTOM:m=he[1],y=he[2];const Bt=he[3],Ct=he[4],Jt=he[5];j.geometry=Bt,j.feature=Y,d in V||(V[d]=[]);const pe=V[d];Jt?Jt(f,m,y,2,pe):(pe[0]=f[m],pe[1]=f[m+1],pe.length=2),c&&(c.zIndex=he[6]),Ct(pe,j),++d;break;case Oe.DRAW_IMAGE:m=he[1],y=he[2],F=he[3],v=he[4],x=he[5];let Ne=he[6];const be=he[7],ke=he[8],Ke=he[9],tn=he[10];let ft=he[11];const k=he[12];let Ze=he[13];C=he[14]||"declutter";const ze=he[15];if(!F&&he.length>=20){O=he[19],N=he[20],M=he[21],W=he[22];const Nt=this.drawLabelWithPointPlacement_(O,N,M,W);F=Nt.label,he[3]=F;const Rn=he[23];v=(Nt.anchorX-Rn)*this.pixelRatio,he[4]=v;const ln=he[24];x=(Nt.anchorY-ln)*this.pixelRatio,he[5]=x,Ne=F.height,he[6]=Ne,Ze=F.width,he[13]=Ze}let bn;he.length>25&&(bn=he[25]);let Ut,an,bt;he.length>17?(Ut=he[16],an=he[17],bt=he[18]):(Ut=na,an=null,bt=null),tn&&G?ft+=Z:!tn&&!G&&(ft-=Z);let je=0;for(;m<y;m+=2){if(bn&&bn[je++]<Ze/this.pixelRatio)continue;const Nt=this.calculateImageOrLabelDimensions_(F.width,F.height,f[m],f[m+1],Ze,Ne,v,x,ke,Ke,ft,k,s,Ut,!!an||!!bt,Y),Rn=[e,t,F,Nt,be,an,bt];if(u){let ln,gn,Yt;if(ze){const Lt=y-m;if(!ze[Lt]){ze[Lt]={args:Rn,declutterMode:C};continue}const Tt=ze[Lt];ln=Tt.args,gn=Tt.declutterMode,delete ze[Lt],Yt=wb(ln)}let kn,un;if(ln&&(gn!=="declutter"||!u.collides(Yt))&&(kn=!0),(C!=="declutter"||!u.collides(Nt.declutterBox))&&(un=!0),gn==="declutter"&&C==="declutter"){const Lt=kn&&un;kn=Lt,un=Lt}kn&&(gn!=="none"&&u.insert(Yt),this.replayImageOrLabel_.apply(this,ln)),un&&(C!=="none"&&u.insert(Nt.declutterBox),this.replayImageOrLabel_.apply(this,Rn))}else this.replayImageOrLabel_.apply(this,Rn)}++d;break;case Oe.DRAW_CHARS:const Ae=he[1],Le=he[2],Ee=he[3],_t=he[4];W=he[5];const $e=he[6],Be=he[7],Qe=he[8];M=he[9];const St=he[10];O=he[11],Array.isArray(O)&&(O=O.reduce(JB,"")),N=he[12];const Xt=[he[13],he[13]];C=he[14]||"declutter";const pn=he[15],kt=this.textStates[N],Ot=kt.font,st=[kt.scale[0]*Be,kt.scale[1]*Be];let wt;Ot in this.widths_?wt=this.widths_[Ot]:(wt={},this.widths_[Ot]=wt);const Ht=zy(f,Ae,Le,2),Mt=Math.abs(st[0])*hb(Ot,O,wt);if(_t||Mt<=Ht){const Nt=this.textStates[N].textAlign,Rn=(Ht-Mt)*Jg(O,Nt),ln=KB(f,Ae,Le,2,O,Rn,$e,Math.abs(st[0]),hb,Ot,wt,G?0:this.viewRotation_,pn);e:if(ln){const gn=[];let Yt,kn,un,Lt,Tt;if(M)for(Yt=0,kn=ln.length;Yt<kn;++Yt){Tt=ln[Yt],un=Tt[4],Lt=this.createLabel(un,N,"",M),v=Tt[2]+(st[0]<0?-St:St),x=Ee*Lt.height+(.5-Ee)*2*St*st[1]/st[0]-Qe;const wn=this.calculateImageOrLabelDimensions_(Lt.width,Lt.height,Tt[0],Tt[1],Lt.width,Lt.height,v,x,0,0,Tt[3],Xt,!1,na,!1,Y);if(u&&C==="declutter"&&u.collides(wn.declutterBox))break e;gn.push([e,t,Lt,wn,1,null,null])}if(W)for(Yt=0,kn=ln.length;Yt<kn;++Yt){Tt=ln[Yt],un=Tt[4],Lt=this.createLabel(un,N,W,""),v=Tt[2],x=Ee*Lt.height-Qe;const wn=this.calculateImageOrLabelDimensions_(Lt.width,Lt.height,Tt[0],Tt[1],Lt.width,Lt.height,v,x,0,0,Tt[3],Xt,!1,na,!1,Y);if(u&&C==="declutter"&&u.collides(wn.declutterBox))break e;gn.push([e,t,Lt,wn,1,null,null])}u&&C!=="none"&&u.load(gn.map(wb));for(let wn=0,Ir=gn.length;wn<Ir;++wn)this.replayImageOrLabel_.apply(this,gn[wn])}}++d;break;case Oe.END_GEOMETRY:if(o!==void 0){Y=he[1];const Nt=o(Y,me,C);if(Nt)return Nt}++d;break;case Oe.FILL:q?B++:this.fill_(e),++d;break;case Oe.MOVE_TO_LINE_TO:for(m=he[1],y=he[2],te=f[m],ne=f[m+1],e.moveTo(te,ne),E=te+.5|0,S=ne+.5|0,m+=2;m<y;m+=2)te=f[m],ne=f[m+1],R=te+.5|0,T=ne+.5|0,(m==y-2||R!==E||T!==S)&&(e.lineTo(te,ne),E=R,S=T);++d;break;case Oe.SET_FILL_STYLE:this.alignAndScaleFill_=he[2],B&&(this.fill_(e),B=0,z&&(e.stroke(),z=0)),e.fillStyle=he[1],++d;break;case Oe.SET_STROKE_STYLE:z&&(e.stroke(),z=0),this.setStrokeStyle_(e,he),++d;break;case Oe.STROKE:q?z++:e.stroke(),++d;break;default:++d;break}}B&&this.fill_(e),z&&e.stroke()}execute(e,t,i,r,s,o){this.viewRotation_=r,this.execute_(e,t,i,this.instructions,s,void 0,void 0,o)}executeHitDetection(e,t,i,r,s){return this.viewRotation_=i,this.execute_(e,[e.canvas.width,e.canvas.height],t,this.hitDetectionInstructions,!0,r,s)}}const Zo=["Polygon","Circle","LineString","Image","Text","Default"],qf=["Image","Text"],eG=Zo.filter(n=>!qf.includes(n));class $S{constructor(e,t,i,r,s,o,a){this.maxExtent_=e,this.overlaps_=r,this.pixelRatio_=i,this.resolution_=t,this.renderBuffer_=o,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=bi(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(s,a)}clip(e,t){const i=this.getClipCoords(t);e.beginPath(),e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3]),e.lineTo(i[4],i[5]),e.lineTo(i[6],i[7]),e.clip()}createExecutors_(e,t){for(const i in e){let r=this.executorsByZIndex_[i];r===void 0&&(r={},this.executorsByZIndex_[i]=r);const s=e[i];for(const o in s){const a=s[o];r[o]=new QB(this.resolution_,this.pixelRatio_,this.overlaps_,a,t)}}}hasExecutors(e){for(const t in this.executorsByZIndex_){const i=this.executorsByZIndex_[t];for(let r=0,s=e.length;r<s;++r)if(e[r]in i)return!0}return!1}forEachFeatureAtCoordinate(e,t,i,r,s,o){r=Math.round(r);const a=r*2+1,u=Hr(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-i,-e[0],-e[1]),c=!this.hitDetectionContext_;c&&(this.hitDetectionContext_=dn(a,a));const f=this.hitDetectionContext_;f.canvas.width!==a||f.canvas.height!==a?(f.canvas.width=a,f.canvas.height=a):c||f.clearRect(0,0,a,a);let d;this.renderBuffer_!==void 0&&(d=Qi(),$u(d,e),bo(d,t*(this.renderBuffer_+r),d));const g=tG(r);let m;function y(T,F,O){const N=f.getImageData(0,0,a,a).data;for(let M=0,W=g.length;M<W;M++)if(N[g[M]]>0){if(!o||O==="none"||m!=="Image"&&m!=="Text"||o.includes(T)){const B=(g[M]-3)/4,z=r-B%a,V=r-(B/a|0),Z=s(T,F,z*z+V*V);if(Z)return Z}f.clearRect(0,0,a,a);break}}const v=Object.keys(this.executorsByZIndex_).map(Number);v.sort(Gr);let x,C,E,S,R;for(x=v.length-1;x>=0;--x){const T=v[x].toString();for(E=this.executorsByZIndex_[T],C=Zo.length-1;C>=0;--C)if(m=Zo[C],S=E[m],S!==void 0&&(R=S.executeHitDetection(f,u,i,y,d),R))return R}}getClipCoords(e){const t=this.maxExtent_;if(!t)return null;const i=t[0],r=t[1],s=t[2],o=t[3],a=[i,r,i,o,s,o,s,r];return Eo(a,0,8,2,e,a),a}isEmpty(){return Co(this.executorsByZIndex_)}execute(e,t,i,r,s,o,a){const u=Object.keys(this.executorsByZIndex_).map(Number);u.sort(a?g4:Gr),o=o||Zo;const c=Zo.length;for(let f=0,d=u.length;f<d;++f){const g=u[f].toString(),m=this.executorsByZIndex_[g];for(let y=0,v=o.length;y<v;++y){const x=o[y],C=m[x];if(C!==void 0){const E=a===null?void 0:C.getZIndexContext(),S=E?E.getContext():e,R=this.maxExtent_&&x!=="Image"&&x!=="Text";if(R&&(S.save(),this.clip(S,i)),!E||x==="Text"||x==="Image"?C.execute(S,t,i,r,s,a):E.pushFunction(T=>C.execute(T,t,i,r,s,a)),R&&S.restore(),E){E.offset();const T=u[f]*c+Zo.indexOf(x);this.deferredZIndexContexts_[T]||(this.deferredZIndexContexts_[T]=[]),this.deferredZIndexContexts_[T].push(E)}}}}this.renderedContext_=e}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const e=this.deferredZIndexContexts_,t=Object.keys(e).map(Number).sort(Gr);for(let i=0,r=t.length;i<r;++i)e[t[i]].forEach(s=>{s.draw(this.renderedContext_),s.clear()}),e[t[i]].length=0}}const Qg={};function tG(n){if(Qg[n]!==void 0)return Qg[n];const e=n*2+1,t=n*n,i=new Array(t+1);for(let s=0;s<=n;++s)for(let o=0;o<=n;++o){const a=s*s+o*o;if(a>t)break;let u=i[a];u||(u=[],i[a]=u),u.push(((n+s)*e+(n+o))*4+3),s>0&&u.push(((n-s)*e+(n+o))*4+3),o>0&&(u.push(((n+s)*e+(n-o))*4+3),s>0&&u.push(((n-s)*e+(n-o))*4+3))}const r=[];for(let s=0,o=i.length;s<o;++s)i[s]&&r.push(...i[s]);return Qg[n]=r,r}class nG extends NS{constructor(e,t,i,r,s,o,a){super(),this.context_=e,this.pixelRatio_=t,this.extent_=i,this.transform_=r,this.transformRotation_=r?Sd(Math.atan2(r[1],r[0]),10):0,this.viewRotation_=s,this.squaredTolerance_=o,this.userTransform_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=bi()}drawImages_(e,t,i,r){if(!this.image_)return;const s=Eo(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_,a=this.tmpLocalTransform_,u=o.globalAlpha;this.imageOpacity_!=1&&(o.globalAlpha=u*this.imageOpacity_);let c=this.imageRotation_;this.transformRotation_===0&&(c-=this.viewRotation_),this.imageRotateWithView_&&(c+=this.viewRotation_);for(let f=0,d=s.length;f<d;f+=2){const g=s[f]-this.imageAnchorX_,m=s[f+1]-this.imageAnchorY_;if(c!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const y=g+this.imageAnchorX_,v=m+this.imageAnchorY_;Hr(a,y,v,1,1,c,-y,-v),o.save(),o.transform.apply(o,a),o.translate(y,v),o.scale(this.imageScale_[0],this.imageScale_[1]),o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),o.restore()}else o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,g,m,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(o.globalAlpha=u)}drawText_(e,t,i,r){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const s=Eo(e,t,i,r,this.transform_,this.pixelCoordinates_),o=this.context_;let a=this.textRotation_;for(this.transformRotation_===0&&(a-=this.viewRotation_),this.textRotateWithView_&&(a+=this.viewRotation_);t<i;t+=r){const u=s[t]+this.textOffsetX_,c=s[t+1]+this.textOffsetY_;a!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(o.save(),o.translate(u-this.textOffsetX_,c-this.textOffsetY_),o.rotate(a),o.translate(this.textOffsetX_,this.textOffsetY_),o.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&o.strokeText(this.text_,0,0),this.textFillState_&&o.fillText(this.text_,0,0),o.restore()):(this.textStrokeState_&&o.strokeText(this.text_,u,c),this.textFillState_&&o.fillText(this.text_,u,c))}}moveToLineTo_(e,t,i,r,s){const o=this.context_,a=Eo(e,t,i,r,this.transform_,this.pixelCoordinates_);o.moveTo(a[0],a[1]);let u=a.length;s&&(u-=2);for(let c=2;c<u;c+=2)o.lineTo(a[c],a[c+1]);return s&&o.closePath(),i}drawRings_(e,t,i,r){for(let s=0,o=i.length;s<o;++s)t=this.moveToLineTo_(e,t,i[s],r,!0);return t}drawCircle(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vn(this.extent_,e.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=A6(e,this.transform_,this.pixelCoordinates_),i=t[2]-t[0],r=t[3]-t[1],s=Math.sqrt(i*i+r*r),o=this.context_;o.beginPath(),o.arc(t[0],t[1],s,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}this.text_!==""&&this.drawText_(e.getCenter(),0,2,2)}}setStyle(e){this.setFillStrokeStyle(e.getFill(),e.getStroke()),this.setImageStyle(e.getImage()),this.setTextStyle(e.getText())}setTransform(e){this.transform_=e}drawGeometry(e){switch(e.getType()){case"Point":this.drawPoint(e);break;case"LineString":this.drawLineString(e);break;case"Polygon":this.drawPolygon(e);break;case"MultiPoint":this.drawMultiPoint(e);break;case"MultiLineString":this.drawMultiLineString(e);break;case"MultiPolygon":this.drawMultiPolygon(e);break;case"GeometryCollection":this.drawGeometryCollection(e);break;case"Circle":this.drawCircle(e);break}}drawFeature(e,t){const i=t.getGeometryFunction()(e);i&&(this.setStyle(t),this.drawGeometry(i))}drawGeometryCollection(e){const t=e.getGeometriesArray();for(let i=0,r=t.length;i<r;++i)this.drawGeometry(t[i])}drawPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawMultiPoint(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getFlatCoordinates(),i=e.getStride();this.image_&&this.drawImages_(t,0,t.length,i),this.text_!==""&&this.drawText_(t,0,t.length,i)}drawLineString(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vn(this.extent_,e.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getFlatCoordinates();t.beginPath(),this.moveToLineTo_(i,0,i.length,e.getStride(),!1),t.stroke()}if(this.text_!==""){const t=e.getFlatMidpoint();this.drawText_(t,0,2,2)}}}drawMultiLineString(e){this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const t=e.getExtent();if(vn(this.extent_,t)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,r=e.getFlatCoordinates();let s=0;const o=e.getEnds(),a=e.getStride();i.beginPath();for(let u=0,c=o.length;u<c;++u)s=this.moveToLineTo_(r,s,o[u],a,!1);i.stroke()}if(this.text_!==""){const i=e.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_;t.beginPath(),this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride()),this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoint();this.drawText_(t,0,2,2)}}}drawMultiPolygon(e){if(this.squaredTolerance_&&(e=e.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!vn(this.extent_,e.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const t=this.context_,i=e.getOrientedFlatCoordinates();let r=0;const s=e.getEndss(),o=e.getStride();t.beginPath();for(let a=0,u=s.length;a<u;++a){const c=s[a];r=this.drawRings_(i,r,c,o)}this.fillState_&&t.fill(),this.strokeState_&&t.stroke()}if(this.text_!==""){const t=e.getFlatInteriorPoints();this.drawText_(t,0,t.length,2)}}}setContextFillState_(e){const t=this.context_,i=this.contextFillState_;i?i.fillStyle!=e.fillStyle&&(i.fillStyle=e.fillStyle,t.fillStyle=e.fillStyle):(t.fillStyle=e.fillStyle,this.contextFillState_={fillStyle:e.fillStyle})}setContextStrokeState_(e){const t=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=e.lineCap&&(i.lineCap=e.lineCap,t.lineCap=e.lineCap),Io(i.lineDash,e.lineDash)||t.setLineDash(i.lineDash=e.lineDash),i.lineDashOffset!=e.lineDashOffset&&(i.lineDashOffset=e.lineDashOffset,t.lineDashOffset=e.lineDashOffset),i.lineJoin!=e.lineJoin&&(i.lineJoin=e.lineJoin,t.lineJoin=e.lineJoin),i.lineWidth!=e.lineWidth&&(i.lineWidth=e.lineWidth,t.lineWidth=e.lineWidth),i.miterLimit!=e.miterLimit&&(i.miterLimit=e.miterLimit,t.miterLimit=e.miterLimit),i.strokeStyle!=e.strokeStyle&&(i.strokeStyle=e.strokeStyle,t.strokeStyle=e.strokeStyle)):(t.lineCap=e.lineCap,t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}setContextTextState_(e){const t=this.context_,i=this.contextTextState_,r=e.textAlign?e.textAlign:rc;i?(i.font!=e.font&&(i.font=e.font,t.font=e.font),i.textAlign!=r&&(i.textAlign=r,t.textAlign=r),i.textBaseline!=e.textBaseline&&(i.textBaseline=e.textBaseline,t.textBaseline=e.textBaseline)):(t.font=e.font,t.textAlign=r,t.textBaseline=e.textBaseline,this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline})}setFillStrokeStyle(e,t){if(!e)this.fillState_=null;else{const i=e.getColor();this.fillState_={fillStyle:$r(i||_i)}}if(!t)this.strokeState_=null;else{const i=t.getColor(),r=t.getLineCap(),s=t.getLineDash(),o=t.getLineDashOffset(),a=t.getLineJoin(),u=t.getWidth(),c=t.getMiterLimit(),f=s||ws;this.strokeState_={lineCap:r!==void 0?r:Nl,lineDash:this.pixelRatio_===1?f:f.map(d=>d*this.pixelRatio_),lineDashOffset:(o||Es)*this.pixelRatio_,lineJoin:a!==void 0?a:zl,lineWidth:(u!==void 0?u:sc)*this.pixelRatio_,miterLimit:c!==void 0?c:nc,strokeStyle:$r(i||ic)}}}setImageStyle(e){let t;if(!e||!(t=e.getSize())){this.image_=null;return}const i=e.getPixelRatio(this.pixelRatio_),r=e.getAnchor(),s=e.getOrigin();this.image_=e.getImage(this.pixelRatio_),this.imageAnchorX_=r[0]*i,this.imageAnchorY_=r[1]*i,this.imageHeight_=t[1]*i,this.imageOpacity_=e.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=e.getRotateWithView(),this.imageRotation_=e.getRotation();const o=e.getScaleArray();this.imageScale_=[o[0]*this.pixelRatio_/i,o[1]*this.pixelRatio_/i],this.imageWidth_=t[0]*i}setTextStyle(e){if(!e)this.text_="";else{const t=e.getFill();if(!t)this.textFillState_=null;else{const m=t.getColor();this.textFillState_={fillStyle:$r(m||_i)}}const i=e.getStroke();if(!i)this.textStrokeState_=null;else{const m=i.getColor(),y=i.getLineCap(),v=i.getLineDash(),x=i.getLineDashOffset(),C=i.getLineJoin(),E=i.getWidth(),S=i.getMiterLimit();this.textStrokeState_={lineCap:y!==void 0?y:Nl,lineDash:v||ws,lineDashOffset:x||Es,lineJoin:C!==void 0?C:zl,lineWidth:E!==void 0?E:sc,miterLimit:S!==void 0?S:nc,strokeStyle:$r(m||ic)}}const r=e.getFont(),s=e.getOffsetX(),o=e.getOffsetY(),a=e.getRotateWithView(),u=e.getRotation(),c=e.getScaleArray(),f=e.getText(),d=e.getTextAlign(),g=e.getTextBaseline();this.textState_={font:r!==void 0?r:CS,textAlign:d!==void 0?d:rc,textBaseline:g!==void 0?g:$f},this.text_=f!==void 0?Array.isArray(f)?f.reduce((m,y,v)=>m+=v%2?" ":y,""):f:"",this.textOffsetX_=s!==void 0?this.pixelRatio_*s:0,this.textOffsetY_=o!==void 0?this.pixelRatio_*o:0,this.textRotateWithView_=a!==void 0?a:!1,this.textRotation_=u!==void 0?u:0,this.textScale_=[this.pixelRatio_*c[0],this.pixelRatio_*c[1]]}}}const Pi=.5;function BS(n,e,t,i,r,s,o,a,u){const c=u?hy(r):r,f=n[0]*Pi,d=n[1]*Pi,g=dn(f,d);g.imageSmoothingEnabled=!1;const m=g.canvas,y=new nG(g,Pi,r,null,o,a,u?Tc(_6(),u):null),v=t.length,x=Math.floor((256*256*256-1)/v),C={};for(let S=1;S<=v;++S){const R=t[S-1],T=R.getStyleFunction()||i;if(!T)continue;let F=T(R,s);if(!F)continue;Array.isArray(F)||(F=[F]);const N=(S*x).toString(16).padStart(7,"#00000");for(let M=0,W=F.length;M<W;++M){const B=F[M],z=B.getGeometryFunction()(R);if(!z||!vn(c,z.getExtent()))continue;const V=B.clone(),Z=V.getFill();Z&&Z.setColor(N);const G=V.getStroke();G&&(G.setColor(N),G.setLineDash(null)),V.setText(void 0);const j=B.getImage();if(j){const ne=j.getImageSize();if(!ne)continue;const me=dn(ne[0],ne[1],void 0,{alpha:!1}),he=me.canvas;me.fillStyle=N,me.fillRect(0,0,he.width,he.height),V.setImage(new Ca({img:he,anchor:j.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:j.getOrigin(),opacity:1,size:j.getSize(),scale:j.getScale(),rotation:j.getRotation(),rotateWithView:j.getRotateWithView()}))}const q=V.getZIndex()||0;let Y=C[q];Y||(Y={},C[q]=Y,Y.Polygon=[],Y.Circle=[],Y.LineString=[],Y.Point=[]);const te=z.getType();if(te==="GeometryCollection"){const ne=z.getGeometriesArrayRecursive();for(let me=0,he=ne.length;me<he;++me){const Ue=ne[me];Y[Ue.getType().replace("Multi","")].push(Ue,V)}}else Y[te.replace("Multi","")].push(z,V)}}const E=Object.keys(C).map(Number).sort(Gr);for(let S=0,R=E.length;S<R;++S){const T=C[E[S]];for(const F in T){const O=T[F];for(let N=0,M=O.length;N<M;N+=2){y.setStyle(O[N+1]);for(let W=0,B=e.length;W<B;++W)y.setTransform(e[W]),y.drawGeometry(O[N])}}}return g.getImageData(0,0,m.width,m.height)}function GS(n,e,t){const i=[];if(t){const r=Math.floor(Math.round(n[0])*Pi),s=Math.floor(Math.round(n[1])*Pi),o=(fn(r,0,t.width-1)+fn(s,0,t.height-1)*t.width)*4,a=t.data[o],u=t.data[o+1],f=t.data[o+2]+256*(u+256*a),d=Math.floor((256*256*256-1)/e.length);f&&f%d===0&&i.push(e[f/d-1])}return i}const iG=.5,WS={Point:hG,LineString:lG,Polygon:dG,MultiPoint:fG,MultiLineString:uG,MultiPolygon:cG,GeometryCollection:aG,Circle:sG};function rG(n,e){return parseInt(He(n),10)-parseInt(He(e),10)}function e0(n,e){const t=qS(n,e);return t*t}function qS(n,e){return iG*n/e}function sG(n,e,t,i,r){const s=t.getFill(),o=t.getStroke();if(s||o){const u=n.getBuilder(t.getZIndex(),"Circle");u.setFillStrokeStyle(s,o),u.drawCircle(e,i,r)}const a=t.getText();if(a&&a.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a),u.drawText(e,i)}}function Uf(n,e,t,i,r,s,o,a){const u=[],c=t.getImage();if(c){let g=!0;const m=c.getImageState();m==Ce.LOADED||m==Ce.ERROR?g=!1:m==Ce.IDLE&&c.load(),g&&u.push(c.ready())}const f=t.getFill();f&&f.loading()&&u.push(f.ready());const d=u.length>0;return d&&Promise.all(u).then(()=>r(null)),oG(n,e,t,i,s,o,a),d}function oG(n,e,t,i,r,s,o){const a=t.getGeometryFunction()(e);if(!a)return;const u=a.simplifyTransformed(i,r);if(t.getRenderer())US(n,u,t,e,o);else{const f=WS[u.getType()];f(n,u,t,e,o,s)}}function US(n,e,t,i,r){if(e.getType()=="GeometryCollection"){const o=e.getGeometries();for(let a=0,u=o.length;a<u;++a)US(n,o[a],t,i,r);return}n.getBuilder(t.getZIndex(),"Default").drawCustom(e,i,t.getRenderer(),t.getHitDetectionRenderer(),r)}function aG(n,e,t,i,r,s){const o=e.getGeometriesArray();let a,u;for(a=0,u=o.length;a<u;++a){const c=WS[o[a].getType()];c(n,o[a],t,i,r,s)}}function lG(n,e,t,i,r){const s=t.getStroke();if(s){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawLineString(e,i,r)}const o=t.getText();if(o&&o.getText()){const a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function uG(n,e,t,i,r){const s=t.getStroke();if(s){const a=n.getBuilder(t.getZIndex(),"LineString");a.setFillStrokeStyle(null,s),a.drawMultiLineString(e,i,r)}const o=t.getText();if(o&&o.getText()){const a=n.getBuilder(t.getZIndex(),"Text");a.setTextStyle(o),a.drawText(e,i,r)}}function cG(n,e,t,i,r){const s=t.getFill(),o=t.getStroke();if(o||s){const u=n.getBuilder(t.getZIndex(),"Polygon");u.setFillStrokeStyle(s,o),u.drawMultiPolygon(e,i,r)}const a=t.getText();if(a&&a.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a),u.drawText(e,i,r)}}function hG(n,e,t,i,r,s){const o=t.getImage(),a=t.getText(),u=a&&a.getText(),c=s&&o&&u?{}:void 0;if(o){if(o.getImageState()!=Ce.LOADED)return;const f=n.getBuilder(t.getZIndex(),"Image");f.setImageStyle(o,c),f.drawPoint(e,i,r)}if(u){const f=n.getBuilder(t.getZIndex(),"Text");f.setTextStyle(a,c),f.drawText(e,i,r)}}function fG(n,e,t,i,r,s){const o=t.getImage(),a=o&&o.getOpacity()!==0,u=t.getText(),c=u&&u.getText(),f=s&&a&&c?{}:void 0;if(a){if(o.getImageState()!=Ce.LOADED)return;const d=n.getBuilder(t.getZIndex(),"Image");d.setImageStyle(o,f),d.drawMultiPoint(e,i,r)}if(c){const d=n.getBuilder(t.getZIndex(),"Text");d.setTextStyle(u,f),d.drawText(e,i,r)}}function dG(n,e,t,i,r){const s=t.getFill(),o=t.getStroke();if(s||o){const u=n.getBuilder(t.getZIndex(),"Polygon");u.setFillStrokeStyle(s,o),u.drawPolygon(e,i,r)}const a=t.getText();if(a&&a.getText()){const u=n.getBuilder(t.getZIndex(),"Text");u.setTextStyle(a),u.drawText(e,i,r)}}const pG=5;class gG extends Cc{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=pG}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return Ye()}getData(e){return null}prepareFrame(e){return Ye()}renderFrame(e,t){return Ye()}forEachFeatureAtCoordinate(e,t,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const t=e.target;(t.getState()===Ce.LOADED||t.getState()===Ce.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let t=e.getState();return t!=Ce.LOADED&&t!=Ce.ERROR&&e.addEventListener(Ve.CHANGE,this.boundHandleImageChange_),t==Ce.IDLE&&(e.load(),t=e.getState()),t==Ce.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const Cb=[];let ll=null;function mG(){ll=dn(1,1,void 0,{willReadFrequently:!0})}class By extends gG{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=bi(),this.pixelTransform=bi(),this.inversePixelTransform=bi(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,t,i){ll||mG(),ll.clearRect(0,0,1,1);let r;try{ll.drawImage(e,t,i,1,1,0,0,1,1),r=ll.getImageData(0,0,1,1).data}catch{return ll=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,t,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Io(Dl(e.style.backgroundColor),Dl(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&S6(o.canvas.style.transform,t)?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=dn();const u=o.canvas;s.appendChild(u),a=u.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,t,i){const r=Ls(i),s=Id(i),o=Rd(i),a=Td(i);Pn(t.coordinateToPixelTransform,r),Pn(t.coordinateToPixelTransform,s),Pn(t.coordinateToPixelTransform,o),Pn(t.coordinateToPixelTransform,a);const u=this.inversePixelTransform;Pn(u,r),Pn(u,s),Pn(u,o),Pn(u,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,t){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Pt(i)/r*o),u=Math.round(Tn(i)/r*o);Hr(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-u/2),XC(this.inversePixelTransform,this.pixelTransform);const c=C6(this.pixelTransform);if(this.useContainer(t,c,this.getBackground(e)),!this.containerReused){const f=this.context.canvas;f.width!=a||f.height!=u?(f.width=a,f.height=u):this.context.clearRect(0,0,a,u),c!==f.style.transform&&(f.style.transform=c)}}dispatchRenderEvent_(e,t,i){const r=this.getLayer();if(r.hasListener(e)){const s=new LS(e,this.inversePixelTransform,i,t);r.dispatchEvent(s)}}preRender(e,t){this.frameState=t,!t.declutter&&this.dispatchRenderEvent_(Yi.PRERENDER,e,t)}postRender(e,t){t.declutter||this.dispatchRenderEvent_(Yi.POSTRENDER,e,t)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new $y),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Yi.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Yi.POSTRENDER,this.context,e))}getRenderTransform(e,t,i,r,s,o,a){const u=s/2,c=o/2,f=r/t,d=-f,g=-e[0]+a,m=-e[1];return Hr(this.tempTransform,u,c,f,d,-i,g,m)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class yG extends By{constructor(e){super(e),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Qi(),this.wrappedRenderedExtent_=Qi(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(e,t,i){const r=t.extent,s=t.viewState,o=s.center,a=s.resolution,u=s.projection,c=s.rotation,f=u.getExtent(),d=this.getLayer().getSource(),g=this.getLayer().getDeclutter(),m=t.pixelRatio,y=t.viewHints,v=!(y[sn.ANIMATING]||y[sn.INTERACTING]),x=this.context,C=Math.round(Pt(r)/a*m),E=Math.round(Tn(r)/a*m),S=d.getWrapX()&&u.canWrapX(),R=S?Pt(f):null,T=S?Math.ceil((r[2]-f[2])/R)+1:1;let F=S?Math.floor((r[0]-f[0])/R):0;do{let O=this.getRenderTransform(o,a,0,m,C,E,F*R);t.declutter&&(O=O.slice(0)),e.execute(x,[x.canvas.width,x.canvas.height],O,c,v,i===void 0?Zo:i?qf:eG,i?g&&t.declutter[g]:void 0)}while(++F<T)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=dn(this.context.canvas.width,this.context.canvas.height,Cb))}resetDrawContext_(){if(this.opacity_!==1&&this.targetContext_){const e=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=e,Ac(this.context),Cb.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(e){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,e,!0)}renderDeferredInternal(e){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(e,t){const i=e.layerStatesArray[e.layerIndex];this.opacity_=i.opacity;const r=e.viewState;this.prepareContainer(e,t);const s=this.context,o=this.replayGroup_;let a=o&&!o.isEmpty();if(!a&&!(this.getLayer().hasListener(Yi.PRERENDER)||this.getLayer().hasListener(Yi.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(s,e),r.projection,this.clipped_=!1,a&&i.extent&&this.clipping){const u=zr(i.extent);a=vn(u,e.extent),this.clipped_=a&&!bs(u,e.extent),this.clipped_&&this.clipUnrotated(s,e,u)}return a&&this.renderWorlds(o,e,this.getLayer().getDeclutter()?!1:void 0),!e.declutter&&this.clipped_&&s.restore(),this.postRender(s,e),this.renderedRotation_!==r.rotation&&(this.renderedRotation_=r.rotation,this.hitDetectionImageData_=null),e.declutter||this.resetDrawContext_(),this.container}getFeatures(e){return new Promise(t=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),r=this.renderedCenter_,s=this.renderedResolution_,o=this.renderedRotation_,a=this.renderedProjection_,u=this.wrappedRenderedExtent_,c=this.getLayer(),f=[],d=i[0]*Pi,g=i[1]*Pi;f.push(this.getRenderTransform(r,s,o,Pi,d,g,0).slice());const m=c.getSource(),y=a.getExtent();if(m.getWrapX()&&a.canWrapX()&&!bs(y,u)){let v=u[0];const x=Pt(y);let C=0,E;for(;v<y[0];)--C,E=x*C,f.push(this.getRenderTransform(r,s,o,Pi,d,g,E).slice()),v+=x;for(C=0,v=u[2];v>y[2];)++C,E=x*C,f.push(this.getRenderTransform(r,s,o,Pi,d,g,E).slice()),v-=x}this.hitDetectionImageData_=BS(i,f,this.renderedFeatures_,c.getStyleFunction(),u,s,o,e0(s,this.renderedPixelRatio_),null)}t(GS(e,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(e,t,i,r,s){var g,m;if(!this.replayGroup_)return;const o=t.viewState.resolution,a=t.viewState.rotation,u=this.getLayer(),c={},f=function(y,v,x){const C=He(y),E=c[C];if(E){if(E!==!0&&x<E.distanceSq){if(x===0)return c[C]=!0,s.splice(s.lastIndexOf(E),1),r(y,u,v);E.geometry=v,E.distanceSq=x}}else{if(x===0)return c[C]=!0,r(y,u,v);s.push(c[C]={feature:y,layer:u,geometry:v,distanceSq:x,callback:r})}},d=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(e,o,a,i,f,d?(m=(g=t.declutter)==null?void 0:g[d])==null?void 0:m.all().map(y=>y.value):null)}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}prepareFrame(e){const t=this.getLayer(),i=t.getSource();if(!i)return!1;const r=e.viewHints[sn.ANIMATING],s=e.viewHints[sn.INTERACTING],o=t.getUpdateWhileAnimating(),a=t.getUpdateWhileInteracting();if(this.ready&&!o&&r||!a&&s)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const u=e.extent,c=e.viewState,f=c.projection,d=c.resolution,g=e.pixelRatio,m=t.getRevision(),y=t.getRenderBuffer();let v=t.getRenderOrder();v===void 0&&(v=rG);const x=c.center.slice(),C=bo(u,y*d),E=C.slice(),S=[C.slice()],R=f.getExtent();if(i.getWrapX()&&f.canWrapX()&&!bs(R,e.extent)){const Z=Pt(R),G=Math.max(Pt(C)/2,Z);C[0]=R[0]-G,C[2]=R[2]+G,sy(x,f);const j=NC(S[0],f);j[0]<R[0]&&j[2]<R[2]?S.push([j[0]+Z,j[1],j[2]+Z,j[3]]):j[0]>R[0]&&j[2]>R[2]&&S.push([j[0]-Z,j[1],j[2]-Z,j[3]])}if(this.ready&&this.renderedResolution_==d&&this.renderedRevision_==m&&this.renderedRenderOrder_==v&&this.renderedFrameDeclutter_===!!e.declutter&&bs(this.wrappedRenderedExtent_,C))return Io(this.renderedExtent_,E)||(this.hitDetectionImageData_=null,this.renderedExtent_=E),this.renderedCenter_=x,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const T=new zS(qS(d,g),C,d,g);let F;for(let Z=0,G=S.length;Z<G;++Z)i.loadFeatures(S[Z],d,f);const O=e0(d,g);let N=!0;const M=(Z,G)=>{let j;const q=Z.getStyleFunction()||t.getStyleFunction();if(q&&(j=q(Z,d)),j){const Y=this.renderFeature(Z,O,j,T,F,this.getLayer().getDeclutter(),G);N=N&&!Y}},W=hy(C),B=i.getFeaturesInExtent(W);v&&B.sort(v);for(let Z=0,G=B.length;Z<G;++Z)M(B[Z],Z);this.renderedFeatures_=B,this.ready=N;const z=T.finish(),V=new $S(C,d,g,i.getOverlaps(),z,t.getRenderBuffer(),!!e.declutter);return this.renderedResolution_=d,this.renderedRevision_=m,this.renderedRenderOrder_=v,this.renderedFrameDeclutter_=!!e.declutter,this.renderedExtent_=E,this.wrappedRenderedExtent_=C,this.renderedCenter_=x,this.renderedProjection_=f,this.renderedPixelRatio_=g,this.replayGroup_=V,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(e,t,i,r,s,o,a){if(!i)return!1;let u=!1;if(Array.isArray(i))for(let c=0,f=i.length;c<f;++c)u=Uf(r,e,i[c],t,this.boundHandleStyleImageChange_,s,o,a)||u;else u=Uf(r,e,i,t,this.boundHandleStyleImageChange_,s,o,a);return u}}class kc extends Ny{constructor(e){super(e)}createRenderer(){return new yG(this)}}const _G={SELECT:"select"};class vG extends tr{constructor(e,t,i,r){super(e),this.selected=t,this.deselected=i,this.mapBrowserEvent=r}}const tf={};class Gy extends Hl{constructor(e){super(),this.on,this.once,this.un,e=e||{},this.boundAddFeature_=this.addFeature_.bind(this),this.boundRemoveFeature_=this.removeFeature_.bind(this),this.condition_=e.condition?e.condition:o$,this.addCondition_=e.addCondition?e.addCondition:ib,this.removeCondition_=e.removeCondition?e.removeCondition:ib,this.toggleCondition_=e.toggleCondition?e.toggleCondition:pS,this.multi_=e.multi?e.multi:!1,this.filter_=e.filter?e.filter:xa,this.hitTolerance_=e.hitTolerance?e.hitTolerance:0,this.style_=e.style!==void 0?e.style:xG(),this.features_=e.features||new xr;let t;if(e.layers)if(typeof e.layers=="function")t=e.layers;else{const i=e.layers;t=function(r){return i.includes(r)}}else t=xa;this.layerFilter_=t,this.featureLayerAssociation_={}}addFeatureLayerAssociation_(e,t){this.featureLayerAssociation_[He(e)]=t}getFeatures(){return this.features_}getHitTolerance(){return this.hitTolerance_}getLayer(e){return this.featureLayerAssociation_[He(e)]}setHitTolerance(e){this.hitTolerance_=e}setMap(e){this.getMap()&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),super.setMap(e),e?(this.features_.addEventListener(Wn.ADD,this.boundAddFeature_),this.features_.addEventListener(Wn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(Wn.ADD,this.boundAddFeature_),this.features_.removeEventListener(Wn.REMOVE,this.boundRemoveFeature_))}addFeature_(e){const t=e.element;if(this.style_&&this.applySelectedStyle_(t),!this.getLayer(t)){const i=this.getMap().getAllLayers().find(function(r){if(r instanceof kc&&r.getSource()&&r.getSource().hasFeature(t))return r});i&&this.addFeatureLayerAssociation_(t,i)}}removeFeature_(e){this.style_&&this.restorePreviousStyle_(e.element)}getStyle(){return this.style_}applySelectedStyle_(e){const t=He(e);t in tf||(tf[t]=e.getStyle()),e.setStyle(this.style_)}restorePreviousStyle_(e){const t=this.getMap().getInteractions().getArray();for(let r=t.length-1;r>=0;--r){const s=t[r];if(s!==this&&s instanceof Gy&&s.getStyle()&&s.getFeatures().getArray().lastIndexOf(e)!==-1){e.setStyle(s.getStyle());return}}const i=He(e);e.setStyle(tf[i]),delete tf[i]}removeFeatureLayerAssociation_(e){delete this.featureLayerAssociation_[He(e)]}handleEvent(e){if(!this.condition_(e))return!0;const t=this.addCondition_(e),i=this.removeCondition_(e),r=this.toggleCondition_(e),s=!t&&!i&&!r,o=e.map,a=this.getFeatures(),u=[],c=[];if(s){Ul(this.featureLayerAssociation_),o.forEachFeatureAtPixel(e.pixel,(f,d)=>{if(!(!(f instanceof As)||!this.filter_(f,d)))return this.addFeatureLayerAssociation_(f,d),c.push(f),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let f=a.getLength()-1;f>=0;--f){const d=a.item(f),g=c.indexOf(d);g>-1?c.splice(g,1):(a.remove(d),u.push(d))}c.length!==0&&a.extend(c)}else{o.forEachFeatureAtPixel(e.pixel,(f,d)=>{if(!(!(f instanceof As)||!this.filter_(f,d)))return(t||r)&&!a.getArray().includes(f)?(this.addFeatureLayerAssociation_(f,d),c.push(f)):(i||r)&&a.getArray().includes(f)&&(u.push(f),this.removeFeatureLayerAssociation_(f)),!this.multi_},{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(let f=u.length-1;f>=0;--f)a.remove(u[f]);a.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new vG(_G.SELECT,c,u,e)),!0}}function xG(){const n=bB();return Zi(n.Polygon,n.LineString),Zi(n.GeometryCollection,n.LineString),function(e){return e.getGeometry()?n[e.getGeometry().getType()]:null}}const bG=({map:n,layer:e,onSelect:t})=>{const i=new Gy({layers:[e],condition:s$,style:r=>{const s=r.get("originalStyle");return Array.isArray(s)?s:s?[s]:[]}});return n.addInteraction(i),t&&i.on("select",r=>{const s=r.selected;t(s)}),i},wG=`
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="36" viewBox="0 0 24 36">
  <path d="M12 0C7 0 3 4 3 9c0 7.5 9 27 9 27s9-19.5 9-27c0-5-4-9-9-9z" fill="#FF6600"/>
  <circle cx="12" cy="9" r="4" fill="#fff"/>
</svg>
`,EG=`data:image/svg+xml;base64,${btoa(wG)}`;new Sn({fill:new ui({color:"rgba(0, 0, 255, 0.1)"}),stroke:new ci({color:"#3399CC",width:1}),image:new Ao({radius:5,fill:new ui({color:"#3399CC"}),stroke:new ci({color:"#000",width:1})}),text:void 0});const CG=n=>{var r;const e=n.geohash.includes("http")?n.geohash.split("http://geohash.org/")[1]:n.geohash,{latitude:t,longitude:i}=Uw.decode(e);return{type:"Point",coordinates:[i,t],label:(r=n.meta)==null?void 0:r.label,marker:(n==null?void 0:n.style)??EG,meta:n.meta}},jS=(n,e)=>n.find(t=>t.get("id")===e);var SG=8,TG={version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},RG={"*":{type:"source"}},IG=["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],AG={type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},PG={type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},MG={type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},LG={type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},kG={type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},OG={type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},FG={id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},DG=["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],NG={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},zG={"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},$G={"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},BG={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},GG={"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},WG={"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},qG={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},UG={visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},jG={type:"array",value:"*"},VG={type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},HG={type:"enum",values:{Point:{},LineString:{},Polygon:{}}},XG={type:"array",minimum:0,maximum:24,value:["number","color"],length:2},YG={type:"array",value:"*",minimum:1},KG={anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},ZG={"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},JG={source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},QG={type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},e8=["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],t8={"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},n8={"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},i8={"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},r8={"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},s8={"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},o8={"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},a8={"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},l8={"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},u8={duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},c8={"*":{type:"string"}},h8={$version:SG,$root:TG,sources:RG,source:IG,source_vector:AG,source_raster:PG,source_raster_dem:MG,source_geojson:LG,source_video:kG,source_image:OG,layer:FG,layout:DG,layout_background:NG,layout_fill:zG,layout_circle:$G,layout_heatmap:BG,"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:GG,layout_symbol:WG,layout_raster:qG,layout_hillshade:UG,"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:jG,filter_operator:VG,geometry_type:HG,function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:XG,expression:YG,light:KG,sky:ZG,terrain:JG,projection:QG,paint:e8,paint_fill:t8,"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:n8,paint_circle:i8,paint_heatmap:r8,paint_symbol:s8,paint_raster:o8,paint_hillshade:a8,"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:l8,transition:u8,"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:c8};const f8=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function d8(n,e){const t={};for(const i in n)i!=="ref"&&(t[i]=n[i]);return f8.forEach(i=>{i in e&&(t[i]=e[i])}),t}function VS(n){n=n.slice();const e=Object.create(null);for(let t=0;t<n.length;t++)e[n[t].id]=n[t];for(let t=0;t<n.length;t++)"ref"in n[t]&&(n[t]=d8(n[t],e[n[t].ref]));return n}class Nr extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class Wy{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[i,r]of t)this.bindings[i]=r}concat(e){return new Wy(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return this.bindings[e]?!0:this.parent?this.parent.has(e):!1}}const qd={kind:"null"},ge={kind:"number"},pt={kind:"string"},ot={kind:"boolean"},Wr={kind:"color"},Ud={kind:"projectionDefinition"},da={kind:"object"},rt={kind:"value"},p8={kind:"error"},jd={kind:"collator"},Vd={kind:"formatted"},Hd={kind:"padding"},lc={kind:"colorArray"},Xd={kind:"numberArray"},Oc={kind:"resolvedImage"},Yd={kind:"variableAnchorOffsetCollection"};function Mi(n,e){return{kind:"array",itemType:n,N:e}}function on(n){if(n.kind==="array"){const e=on(n.itemType);return typeof n.N=="number"?`array<${e}, ${n.N}>`:n.itemType.kind==="value"?"array":`array<${e}>`}else return n.kind}const g8=[qd,ge,pt,ot,Wr,Ud,Vd,da,Mi(rt),Hd,Xd,lc,Oc,Yd];function uc(n,e){if(e.kind==="error")return null;if(n.kind==="array"){if(e.kind==="array"&&(e.N===0&&e.itemType.kind==="value"||!uc(n.itemType,e.itemType))&&(typeof n.N!="number"||n.N===e.N))return null}else{if(n.kind===e.kind)return null;if(n.kind==="value"){for(const t of g8)if(!uc(t,e))return null}}return`Expected ${on(n)} but found ${on(e)} instead.`}function qy(n,e){return e.some(t=>t.kind===n.kind)}function pa(n,e){return e.some(t=>t==="null"?n===null:t==="array"?Array.isArray(n):t==="object"?n&&!Array.isArray(n)&&typeof n=="object":t===typeof n)}function Zs(n,e){return n.kind==="array"&&e.kind==="array"?n.itemType.kind===e.itemType.kind&&typeof n.N=="number":n.kind===e.kind}const HS=.96422,XS=1,YS=.82521,KS=4/29,_l=6/29,ZS=3*_l*_l,m8=_l*_l*_l,y8=Math.PI/180,_8=180/Math.PI;function JS(n){return n=n%360,n<0&&(n+=360),n}function QS([n,e,t,i]){n=em(n),e=em(e),t=em(t);let r,s;const o=tm((.2225045*n+.7168786*e+.0606169*t)/XS);n===e&&e===t?r=s=o:(r=tm((.4360747*n+.3850649*e+.1430804*t)/HS),s=tm((.0139322*n+.0971045*e+.7141733*t)/YS));const a=116*o-16;return[a<0?0:a,500*(r-o),200*(o-s),i]}function em(n){return n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function tm(n){return n>m8?Math.pow(n,1/3):n/ZS+KS}function eT([n,e,t,i]){let r=(n+16)/116,s=isNaN(e)?r:r+e/500,o=isNaN(t)?r:r-t/200;return r=XS*im(r),s=HS*im(s),o=YS*im(o),[nm(3.1338561*s-1.6168667*r-.4906146*o),nm(-.9787684*s+1.9161415*r+.033454*o),nm(.0719453*s-.2289914*r+1.4052427*o),i]}function nm(n){return n=n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055,n<0?0:n>1?1:n}function im(n){return n>_l?n*n*n:ZS*(n-KS)}function v8(n){const[e,t,i,r]=QS(n),s=Math.sqrt(t*t+i*i);return[Math.round(s*1e4)?JS(Math.atan2(i,t)*_8):NaN,s,e,r]}function x8([n,e,t,i]){return n=isNaN(n)?0:n*y8,eT([t,Math.cos(n)*e,Math.sin(n)*e,i])}function b8([n,e,t,i]){n=JS(n),e/=100,t/=100;function r(s){const o=(s+n/30)%12,a=e*Math.min(t,1-t);return t-a*Math.max(-1,Math.min(o-3,9-o,1))}return[r(0),r(8),r(4),i]}const w8=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function tT(n,e){return w8(n,e)?n[e]:void 0}function E8(n){if(n=n.toLowerCase().trim(),n==="transparent")return[0,0,0,0];const e=tT(C8,n);if(e){const[r,s,o]=e;return[r/255,s/255,o/255,1]}if(n.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(n)){const s=n.length<6?1:2;let o=1;return[nf(n.slice(o,o+=s)),nf(n.slice(o,o+=s)),nf(n.slice(o,o+=s)),nf(n.slice(o,o+s)||"ff")]}if(n.startsWith("rgb")){const r=/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,s=n.match(r);if(s){const[o,a,u,c,f,d,g,m,y,v,x,C]=s,E=[c||" ",g||" ",v].join("");if(E==="  "||E==="  /"||E===",,"||E===",,,"){const S=[u,d,y].join(""),R=S==="%%%"?100:S===""?255:0;if(R){const T=[ul(+a/R,0,1),ul(+f/R,0,1),ul(+m/R,0,1),x?Sb(+x,C):1];if(Tb(T))return T}}return}}const t=/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/,i=n.match(t);if(i){const[r,s,o,a,u,c,f,d,g]=i,m=[o||" ",u||" ",f].join("");if(m==="  "||m==="  /"||m===",,"||m===",,,"){const y=[+s,ul(+a,0,100),ul(+c,0,100),d?Sb(+d,g):1];if(Tb(y))return b8(y)}}}function nf(n){return parseInt(n.padEnd(2,n),16)/255}function Sb(n,e){return ul(e?n/100:n,0,1)}function ul(n,e,t){return Math.min(Math.max(e,n),t)}function Tb(n){return!n.some(Number.isNaN)}const C8={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function ga(n,e,t){return n+t*(e-n)}function cc(n,e,t){return n.map((i,r)=>ga(i,e[r],t))}class Wt{constructor(e,t,i,r=1,s=!0){this.r=e,this.g=t,this.b=i,this.a=r,s||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[e,t,i,r]))}static parse(e){if(e instanceof Wt)return e;if(typeof e!="string")return;const t=E8(e);if(t)return new Wt(...t,!1)}get rgb(){const{r:e,g:t,b:i,a:r}=this,s=r||1/0;return this.overwriteGetter("rgb",[e/s,t/s,i/s,r])}get hcl(){return this.overwriteGetter("hcl",v8(this.rgb))}get lab(){return this.overwriteGetter("lab",QS(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,i,r]=this.rgb;return`rgba(${[e,t,i].map(s=>Math.round(s*255)).join(",")},${r})`}static interpolate(e,t,i,r="rgb"){switch(r){case"rgb":{const[s,o,a,u]=cc(e.rgb,t.rgb,i);return new Wt(s,o,a,u,!1)}case"hcl":{const[s,o,a,u]=e.hcl,[c,f,d,g]=t.hcl;let m,y;if(!isNaN(s)&&!isNaN(c)){let S=c-s;c>s&&S>180?S-=360:c<s&&s-c>180&&(S+=360),m=s+i*S}else isNaN(s)?isNaN(c)?m=NaN:(m=c,(a===1||a===0)&&(y=f)):(m=s,(d===1||d===0)&&(y=o));const[v,x,C,E]=x8([m,y??ga(o,f,i),ga(a,d,i),ga(u,g,i)]);return new Wt(v,x,C,E,!1)}case"lab":{const[s,o,a,u]=eT(cc(e.lab,t.lab,i));return new Wt(s,o,a,u,!1)}}}}Wt.black=new Wt(0,0,0,1);Wt.white=new Wt(1,1,1,1);Wt.transparent=new Wt(0,0,0,0);Wt.red=new Wt(1,0,0,1);class Uy{constructor(e,t,i){e?this.sensitivity=t?"variant":"case":this.sensitivity=t?"accent":"base",this.locale=i,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const S8=["bottom","center","top"];class t0{constructor(e,t,i,r,s,o){this.text=e,this.image=t,this.scale=i,this.fontStack=r,this.textColor=s,this.verticalAlign=o}}class Cs{constructor(e){this.sections=e}static fromString(e){return new Cs([new t0(e,null,null,null,null,null)])}isEmpty(){return this.sections.length===0?!0:!this.sections.some(e=>e.text.length!==0||e.image&&e.image.name.length!==0)}static factory(e){return e instanceof Cs?e:Cs.fromString(e)}toString(){return this.sections.length===0?"":this.sections.map(e=>e.text).join("")}}class br{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof br)return e;if(typeof e=="number")return new br([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if(typeof t!="number")return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]];break}return new br(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new br(cc(e.values,t.values,i))}}class wr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof wr)return e;if(typeof e=="number")return new wr([e]);if(Array.isArray(e)){for(const t of e)if(typeof t!="number")return;return new wr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){return new wr(cc(e.values,t.values,i))}}class Li{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Li)return e;if(typeof e=="string"){const i=Wt.parse(e);return i?new Li([i]):void 0}if(!Array.isArray(e))return;const t=[];for(const i of e){if(typeof i!="string")return;const r=Wt.parse(i);if(!r)return;t.push(r)}return new Li(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i,r="rgb"){const s=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let o=0;o<e.values.length;o++)s.push(Wt.interpolate(e.values[o],t.values[o],i,r));return new Li(s)}}class hn extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const T8=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class qr{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof qr)return e;if(!(!Array.isArray(e)||e.length<1||e.length%2!==0)){for(let t=0;t<e.length;t+=2){const i=e[t],r=e[t+1];if(typeof i!="string"||!T8.has(i)||!Array.isArray(r)||r.length!==2||typeof r[0]!="number"||typeof r[1]!="number")return}return new qr(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,i){const r=e.values,s=t.values;if(r.length!==s.length)throw new hn(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==s[a])throw new hn(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${s[a]}`);o.push(r[a]);const[u,c]=r[a+1],[f,d]=s[a+1];o.push([ga(u,f,i),ga(c,d,i)])}return new qr(o)}}class Po{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new Po({name:e,available:!1}):null}}class yr{constructor(e,t,i){this.from=e,this.to=t,this.transition=i}static interpolate(e,t,i){return new yr(e,t,i)}static parse(e){if(e instanceof yr)return e;if(Array.isArray(e)&&e.length===3&&typeof e[0]=="string"&&typeof e[1]=="string"&&typeof e[2]=="number")return new yr(e[0],e[1],e[2]);if(typeof e=="object"&&typeof e.from=="string"&&typeof e.to=="string"&&typeof e.transition=="number")return new yr(e.from,e.to,e.transition);if(typeof e=="string")return new yr(e,e,1)}}function nT(n,e,t,i){return typeof n=="number"&&n>=0&&n<=255&&typeof e=="number"&&e>=0&&e<=255&&typeof t=="number"&&t>=0&&t<=255?typeof i>"u"||typeof i=="number"&&i>=0&&i<=1?null:`Invalid rgba value [${[n,e,t,i].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof i=="number"?[n,e,t,i]:[n,e,t]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function hc(n){if(n===null||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||n instanceof yr||n instanceof Wt||n instanceof Uy||n instanceof Cs||n instanceof br||n instanceof wr||n instanceof Li||n instanceof qr||n instanceof Po)return!0;if(Array.isArray(n)){for(const e of n)if(!hc(e))return!1;return!0}else if(typeof n=="object"){for(const e in n)if(!hc(n[e]))return!1;return!0}else return!1}function Mn(n){if(n===null)return qd;if(typeof n=="string")return pt;if(typeof n=="boolean")return ot;if(typeof n=="number")return ge;if(n instanceof Wt)return Wr;if(n instanceof yr)return Ud;if(n instanceof Uy)return jd;if(n instanceof Cs)return Vd;if(n instanceof br)return Hd;if(n instanceof wr)return Xd;if(n instanceof Li)return lc;if(n instanceof qr)return Yd;if(n instanceof Po)return Oc;if(Array.isArray(n)){const e=n.length;let t;for(const i of n){const r=Mn(i);if(!t)t=r;else{if(t===r)continue;t=rt;break}}return Mi(t||rt,e)}else return da}function Gu(n){const e=typeof n;return n===null?"":e==="string"||e==="number"||e==="boolean"?String(n):n instanceof Wt||n instanceof yr||n instanceof Cs||n instanceof br||n instanceof wr||n instanceof Li||n instanceof qr||n instanceof Po?n.toString():JSON.stringify(n)}class $l{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(e.length!==2)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!hc(e[1]))return t.error("invalid value");const i=e[1];let r=Mn(i);const s=t.expectedType;return r.kind==="array"&&r.N===0&&s&&s.kind==="array"&&(typeof s.N!="number"||s.N===0)&&(r=s),new $l(r,i)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const rf={string:pt,number:ge,boolean:ot,object:da};class _r{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=1,r;const s=e[0];if(s==="array"){let a;if(e.length>2){const c=e[1];if(typeof c!="string"||!(c in rf)||c==="object")return t.error('The item type argument of "array" must be one of string, number, boolean',1);a=rf[c],i++}else a=rt;let u;if(e.length>3){if(e[2]!==null&&(typeof e[2]!="number"||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);u=e[2],i++}r=Mi(a,u)}else{if(!rf[s])throw new Error(`Types doesn't contain name = ${s}`);r=rf[s]}const o=[];for(;i<e.length;i++){const a=t.parse(e[i],i,rt);if(!a)return null;o.push(a)}return new _r(r,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const i=this.args[t].evaluate(e);if(uc(this.type,Mn(i))){if(t===this.args.length-1)throw new hn(`Expected value to be of type ${on(this.type)}, but found ${on(Mn(i))} instead.`)}else return i}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Rb={"to-boolean":ot,"to-color":Wr,"to-number":ge,"to-string":pt};class go{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[0];if(!Rb[i])throw new Error(`Can't parse ${i} as it is not part of the known types`);if((i==="to-boolean"||i==="to-string")&&e.length!==2)return t.error("Expected one argument.");const r=Rb[i],s=[];for(let o=1;o<e.length;o++){const a=t.parse(e[o],o,rt);if(!a)return null;s.push(a)}return new go(r,s)}evaluate(e){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(e);case"color":{let t,i;for(const r of this.args){if(t=r.evaluate(e),i=null,t instanceof Wt)return t;if(typeof t=="string"){const s=e.parseColor(t);if(s)return s}else if(Array.isArray(t)&&(t.length<3||t.length>4?i=`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:i=nT(t[0],t[1],t[2],t[3]),!i))return new Wt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new hn(i||`Could not parse color from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const i of this.args){t=i.evaluate(e);const r=br.parse(t);if(r)return r}throw new hn(`Could not parse padding from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=wr.parse(t);if(r)return r}throw new hn(`Could not parse numberArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const i of this.args){t=i.evaluate(e);const r=Li.parse(t);if(r)return r}throw new hn(`Could not parse colorArray from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const i of this.args){t=i.evaluate(e);const r=qr.parse(t);if(r)return r}throw new hn(`Could not parse variableAnchorOffsetCollection from value '${typeof t=="string"?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const i of this.args){if(t=i.evaluate(e),t===null)return 0;const r=Number(t);if(!isNaN(r))return r}throw new hn(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Cs.fromString(Gu(this.args[0].evaluate(e)));case"resolvedImage":return Po.fromString(Gu(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return Gu(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const R8=["Unknown","Point","LineString","Polygon"];class iT{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?R8[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=Wt.parse(e),this._parseColorCache.set(e,t)),t}}class Kd{constructor(e,t,i=[],r,s=new Wy,o=[]){this.registry=e,this.path=i,this.key=i.map(a=>`[${a}]`).join(""),this.scope=s,this.errors=o,this.expectedType=r,this._isConstant=t}parse(e,t,i,r,s={}){return t?this.concat(t,i,r)._parse(e,s):this._parse(e,s)}_parse(e,t){(e===null||typeof e=="string"||typeof e=="boolean"||typeof e=="number")&&(e=["literal",e]);function i(r,s,o){return o==="assert"?new _r(s,[r]):o==="coerce"?new go(s,[r]):r}if(Array.isArray(e)){if(e.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if(typeof r!="string")return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const s=this.registry[r];if(s){let o=s.parse(e,this);if(!o)return null;if(this.expectedType){const a=this.expectedType,u=o.type;if((a.kind==="string"||a.kind==="number"||a.kind==="boolean"||a.kind==="object"||a.kind==="array")&&u.kind==="value")o=i(o,a,t.typeAnnotation||"assert");else if(a.kind==="projectionDefinition"&&["string","array"].includes(u.kind)||["color","formatted","resolvedImage"].includes(a.kind)&&["value","string"].includes(u.kind)||["padding","numberArray"].includes(a.kind)&&["value","number","array"].includes(u.kind)||a.kind==="colorArray"&&["value","string","array"].includes(u.kind)||a.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(u.kind))o=i(o,a,t.typeAnnotation||"coerce");else if(this.checkSubtype(a,u))return null}if(!(o instanceof $l)&&o.type.kind!=="resolvedImage"&&this._isConstant(o)){const a=new iT;try{o=new $l(o.type,o.evaluate(a))}catch(u){return this.error(u.message),null}}return o}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}else return typeof e>"u"?this.error("'undefined' value invalid. Use null instead."):typeof e=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error(`Expected an array, but found ${typeof e} instead.`)}concat(e,t,i){const r=typeof e=="number"?this.path.concat(e):this.path,s=i?this.scope.concat(i):this.scope;return new Kd(this.registry,this._isConstant,r,t||null,s,this.errors)}error(e,...t){const i=`${this.key}${t.map(r=>`[${r}]`).join("")}`;this.errors.push(new Nr(i,e))}checkSubtype(e,t){const i=uc(e,t);return i&&this.error(i),i}}class Zd{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const i=[];for(let s=1;s<e.length-1;s+=2){const o=e[s];if(typeof o!="string")return t.error(`Expected string, but found ${typeof o} instead.`,s);if(/[^a-zA-Z0-9_]/.test(o))return t.error("Variable names must contain only alphanumeric characters or '_'.",s);const a=t.parse(e[s+1],s+1);if(!a)return null;i.push([o,a])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,i);return r?new Zd(i,r):null}outputDefined(){return this.result.outputDefined()}}class Jd{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(e.length!==2||typeof e[1]!="string")return t.error("'var' expression requires exactly one string literal argument.");const i=e[1];return t.scope.has(i)?new Jd(i,t.scope.get(i)):t.error(`Unknown variable "${i}". Make sure "${i}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class jy{constructor(e,t,i){this.type=e,this.index=t,this.input=i}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,ge),r=t.parse(e[2],2,Mi(t.expectedType||rt));if(!i||!r)return null;const s=r.type;return new jy(s.itemType,i,r)}evaluate(e){const t=this.index.evaluate(e),i=this.input.evaluate(e);if(t<0)throw new hn(`Array index out of bounds: ${t} < 0.`);if(t>=i.length)throw new hn(`Array index out of bounds: ${t} > ${i.length-1}.`);if(t!==Math.floor(t))throw new hn(`Array index must be an integer, but found ${t} instead.`);return i[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Vy{constructor(e,t){this.type=ot,this.needle=e,this.haystack=t}static parse(e,t){if(e.length!==3)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,rt),r=t.parse(e[2],2,rt);return!i||!r?null:qy(i.type,[ot,pt,ge,qd,rt])?new Vy(i,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${on(i.type)} instead`)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!i)return!1;if(!pa(t,["boolean","string","number","null"]))throw new hn(`Expected first argument to be of type boolean, string, number or null, but found ${on(Mn(t))} instead.`);if(!pa(i,["string","array"]))throw new hn(`Expected second argument to be of type array or string, but found ${on(Mn(i))} instead.`);return i.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class jf{constructor(e,t,i){this.type=ge,this.needle=e,this.haystack=t,this.fromIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,rt),r=t.parse(e[2],2,rt);if(!i||!r)return null;if(!qy(i.type,[ot,pt,ge,qd,rt]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${on(i.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,ge);return s?new jf(i,r,s):null}else return new jf(i,r)}evaluate(e){const t=this.needle.evaluate(e),i=this.haystack.evaluate(e);if(!pa(t,["boolean","string","number","null"]))throw new hn(`Expected first argument to be of type boolean, string, number or null, but found ${on(Mn(t))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(e)),pa(i,["string"])){const s=i.indexOf(t,r);return s===-1?-1:[...i.slice(0,s)].length}else{if(pa(i,["array"]))return i.indexOf(t,r);throw new hn(`Expected second argument to be of type array or string, but found ${on(Mn(i))} instead.`)}}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class Hy{constructor(e,t,i,r,s,o){this.inputType=e,this.type=t,this.input=i,this.cases=r,this.outputs=s,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!==1)return t.error("Expected an even number of arguments.");let i,r;t.expectedType&&t.expectedType.kind!=="value"&&(r=t.expectedType);const s={},o=[];for(let c=2;c<e.length-1;c+=2){let f=e[c];const d=e[c+1];Array.isArray(f)||(f=[f]);const g=t.concat(c);if(f.length===0)return g.error("Expected at least one branch label.");for(const y of f){if(typeof y!="number"&&typeof y!="string")return g.error("Branch labels must be numbers or strings.");if(typeof y=="number"&&Math.abs(y)>Number.MAX_SAFE_INTEGER)return g.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof y=="number"&&Math.floor(y)!==y)return g.error("Numeric branch labels must be integer values.");if(!i)i=Mn(y);else if(g.checkSubtype(i,Mn(y)))return null;if(typeof s[String(y)]<"u")return g.error("Branch labels must be unique.");s[String(y)]=o.length}const m=t.parse(d,c,r);if(!m)return null;r=r||m.type,o.push(m)}const a=t.parse(e[1],1,rt);if(!a)return null;const u=t.parse(e[e.length-1],e.length-1,r);return!u||a.type.kind!=="value"&&t.concat(1).checkSubtype(i,a.type)?null:new Hy(i,r,a,s,o,u)}evaluate(e){const t=this.input.evaluate(e);return(Mn(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class Xy{constructor(e,t,i){this.type=e,this.branches=t,this.otherwise=i}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!==0)return t.error("Expected an odd number of arguments.");let i;t.expectedType&&t.expectedType.kind!=="value"&&(i=t.expectedType);const r=[];for(let o=1;o<e.length-1;o+=2){const a=t.parse(e[o],o,ot);if(!a)return null;const u=t.parse(e[o+1],o+1,i);if(!u)return null;r.push([a,u]),i=i||u.type}const s=t.parse(e[e.length-1],e.length-1,i);if(!s)return null;if(!i)throw new Error("Can't infer output type");return new Xy(i,r,s)}evaluate(e){for(const[t,i]of this.branches)if(t.evaluate(e))return i.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,i]of this.branches)e(t),e(i);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class Vf{constructor(e,t,i,r){this.type=e,this.input=t,this.beginIndex=i,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 3 or 4 arguments, but found ${e.length-1} instead.`);const i=t.parse(e[1],1,rt),r=t.parse(e[2],2,ge);if(!i||!r)return null;if(!qy(i.type,[Mi(rt),pt,rt]))return t.error(`Expected first argument to be of type array or string, but found ${on(i.type)} instead`);if(e.length===4){const s=t.parse(e[3],3,ge);return s?new Vf(i.type,i,r,s):null}else return new Vf(i.type,i,r)}evaluate(e){const t=this.input.evaluate(e),i=this.beginIndex.evaluate(e);let r;if(this.endIndex&&(r=this.endIndex.evaluate(e)),pa(t,["string"]))return[...t].slice(i,r).join("");if(pa(t,["array"]))return t.slice(i,r);throw new hn(`Expected first argument to be of type array or string, but found ${on(Mn(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function rT(n,e){const t=n.length-1;let i=0,r=t,s=0,o,a;for(;i<=r;)if(s=Math.floor((i+r)/2),o=n[s],a=n[s+1],o<=e){if(s===t||e<a)return s;i=s+1}else if(o>e)r=s-1;else throw new hn("Input is not a number.");return 0}class Qd{constructor(e,t,i){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,s]of i)this.labels.push(r),this.outputs.push(s)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");const i=t.parse(e[1],1,ge);if(!i)return null;const r=[];let s=null;t.expectedType&&t.expectedType.kind!=="value"&&(s=t.expectedType);for(let o=1;o<e.length;o+=2){const a=o===1?-1/0:e[o],u=e[o+1],c=o,f=o+1;if(typeof a!="number")return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',c);if(r.length&&r[r.length-1][0]>=a)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',c);const d=t.parse(u,f,s);if(!d)return null;s=s||d.type,r.push([a,d])}return new Qd(s,i,r)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const s=t.length;if(r>=t[s-1])return i[s-1].evaluate(e);const o=rT(t,r);return i[o].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function I8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rm,Ib;function A8(){if(Ib)return rm;Ib=1,rm=n;function n(e,t,i,r){this.cx=3*e,this.bx=3*(i-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=i,this.p2y=r}return n.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(t===void 0&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var i=e,r=0;r<8;r++){var s=this.sampleCurveX(i)-e;if(Math.abs(s)<t)return i;var o=this.sampleCurveDerivativeX(i);if(Math.abs(o)<1e-6)break;i=i-s/o}var a=0,u=1;for(i=e,r=0;r<20&&(s=this.sampleCurveX(i),!(Math.abs(s-e)<t));r++)e>s?a=i:u=i,i=(u-a)*.5+a;return i},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},rm}var P8=A8(),M8=I8(P8);class Ur{constructor(e,t,i,r,s){this.type=e,this.operator=t,this.interpolation=i,this.input=r,this.labels=[],this.outputs=[];for(const[o,a]of s)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,i,r){let s=0;if(e.name==="exponential")s=sm(t,e.base,i,r);else if(e.name==="linear")s=sm(t,1,i,r);else if(e.name==="cubic-bezier"){const o=e.controlPoints;s=new M8(o[0],o[1],o[2],o[3]).solve(sm(t,1,i,r))}return s}static parse(e,t){let[i,r,s,...o]=e;if(!Array.isArray(r)||r.length===0)return t.error("Expected an interpolation type expression.",1);if(r[0]==="linear")r={name:"linear"};else if(r[0]==="exponential"){const c=r[1];if(typeof c!="number")return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:c}}else if(r[0]==="cubic-bezier"){const c=r.slice(1);if(c.length!==4||c.some(f=>typeof f!="number"||f<0||f>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:c}}else return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!==0)return t.error("Expected an even number of arguments.");if(s=t.parse(s,2,ge),!s)return null;const a=[];let u=null;(i==="interpolate-hcl"||i==="interpolate-lab")&&t.expectedType!=lc?u=Wr:t.expectedType&&t.expectedType.kind!=="value"&&(u=t.expectedType);for(let c=0;c<o.length;c+=2){const f=o[c],d=o[c+1],g=c+3,m=c+4;if(typeof f!="number")return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',g);if(a.length&&a[a.length-1][0]>=f)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',g);const y=t.parse(d,m,u);if(!y)return null;u=u||y.type,a.push([f,y])}return!Zs(u,ge)&&!Zs(u,Ud)&&!Zs(u,Wr)&&!Zs(u,Hd)&&!Zs(u,Xd)&&!Zs(u,lc)&&!Zs(u,Yd)&&!Zs(u,Mi(ge))?t.error(`Type ${on(u)} is not interpolatable.`):new Ur(u,i,r,s,a)}evaluate(e){const t=this.labels,i=this.outputs;if(t.length===1)return i[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return i[0].evaluate(e);const s=t.length;if(r>=t[s-1])return i[s-1].evaluate(e);const o=rT(t,r),a=t[o],u=t[o+1],c=Ur.interpolationFactor(this.interpolation,r,a,u),f=i[o].evaluate(e),d=i[o+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return ga(f,d,c);case"color":return Wt.interpolate(f,d,c);case"padding":return br.interpolate(f,d,c);case"colorArray":return Li.interpolate(f,d,c);case"numberArray":return wr.interpolate(f,d,c);case"variableAnchorOffsetCollection":return qr.interpolate(f,d,c);case"array":return cc(f,d,c);case"projectionDefinition":return yr.interpolate(f,d,c)}case"interpolate-hcl":switch(this.type.kind){case"color":return Wt.interpolate(f,d,c,"hcl");case"colorArray":return Li.interpolate(f,d,c,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Wt.interpolate(f,d,c,"lab");case"colorArray":return Li.interpolate(f,d,c,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function sm(n,e,t,i){const r=i-t,s=n-t;return r===0?0:e===1?s/r:(Math.pow(e,s)-1)/(Math.pow(e,r)-1)}class fc{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let i=null;const r=t.expectedType;r&&r.kind!=="value"&&(i=r);const s=[];for(const a of e.slice(1)){const u=t.parse(a,1+s.length,i,void 0,{typeAnnotation:"omit"});if(!u)return null;i=i||u.type,s.push(u)}if(!i)throw new Error("No output type");return r&&s.some(a=>uc(r,a.type))?new fc(rt,s):new fc(i,s)}evaluate(e){let t=null,i=0,r;for(const s of this.args)if(i++,t=s.evaluate(e),t&&t instanceof Po&&!t.available&&(r||(r=t.name),t=null,i===this.args.length&&(t=r)),t!==null)break;return t}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function Ab(n,e){return n==="=="||n==="!="?e.kind==="boolean"||e.kind==="string"||e.kind==="number"||e.kind==="null"||e.kind==="value":e.kind==="string"||e.kind==="number"||e.kind==="value"}function L8(n,e,t){return e===t}function k8(n,e,t){return e!==t}function O8(n,e,t){return e<t}function F8(n,e,t){return e>t}function D8(n,e,t){return e<=t}function N8(n,e,t){return e>=t}function sT(n,e,t,i){return i.compare(e,t)===0}function z8(n,e,t,i){return!sT(n,e,t,i)}function $8(n,e,t,i){return i.compare(e,t)<0}function B8(n,e,t,i){return i.compare(e,t)>0}function G8(n,e,t,i){return i.compare(e,t)<=0}function W8(n,e,t,i){return i.compare(e,t)>=0}function Yl(n,e,t){const i=n!=="=="&&n!=="!=";return class oT{constructor(s,o,a){this.type=ot,this.lhs=s,this.rhs=o,this.collator=a,this.hasUntypedArgument=s.type.kind==="value"||o.type.kind==="value"}static parse(s,o){if(s.length!==3&&s.length!==4)return o.error("Expected two or three arguments.");const a=s[0];let u=o.parse(s[1],1,rt);if(!u)return null;if(!Ab(a,u.type))return o.concat(1).error(`"${a}" comparisons are not supported for type '${on(u.type)}'.`);let c=o.parse(s[2],2,rt);if(!c)return null;if(!Ab(a,c.type))return o.concat(2).error(`"${a}" comparisons are not supported for type '${on(c.type)}'.`);if(u.type.kind!==c.type.kind&&u.type.kind!=="value"&&c.type.kind!=="value")return o.error(`Cannot compare types '${on(u.type)}' and '${on(c.type)}'.`);i&&(u.type.kind==="value"&&c.type.kind!=="value"?u=new _r(c.type,[u]):u.type.kind!=="value"&&c.type.kind==="value"&&(c=new _r(u.type,[c])));let f=null;if(s.length===4){if(u.type.kind!=="string"&&c.type.kind!=="string"&&u.type.kind!=="value"&&c.type.kind!=="value")return o.error("Cannot use collator to compare non-string types.");if(f=o.parse(s[3],3,jd),!f)return null}return new oT(u,c,f)}evaluate(s){const o=this.lhs.evaluate(s),a=this.rhs.evaluate(s);if(i&&this.hasUntypedArgument){const u=Mn(o),c=Mn(a);if(u.kind!==c.kind||!(u.kind==="string"||u.kind==="number"))throw new hn(`Expected arguments for "${n}" to be (string, string) or (number, number), but found (${u.kind}, ${c.kind}) instead.`)}if(this.collator&&!i&&this.hasUntypedArgument){const u=Mn(o),c=Mn(a);if(u.kind!=="string"||c.kind!=="string")return e(s,o,a)}return this.collator?t(s,o,a,this.collator.evaluate(s)):e(s,o,a)}eachChild(s){s(this.lhs),s(this.rhs),this.collator&&s(this.collator)}outputDefined(){return!0}}}const q8=Yl("==",L8,sT),U8=Yl("!=",k8,z8),j8=Yl("<",O8,$8),V8=Yl(">",F8,B8),H8=Yl("<=",D8,G8),X8=Yl(">=",N8,W8);class ep{constructor(e,t,i){this.type=jd,this.locale=i,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(e.length!==2)return t.error("Expected one argument.");const i=e[1];if(typeof i!="object"||Array.isArray(i))return t.error("Collator options argument must be an object.");const r=t.parse(i["case-sensitive"]===void 0?!1:i["case-sensitive"],1,ot);if(!r)return null;const s=t.parse(i["diacritic-sensitive"]===void 0?!1:i["diacritic-sensitive"],1,ot);if(!s)return null;let o=null;return i.locale&&(o=t.parse(i.locale,1,pt),!o)?null:new ep(r,s,o)}evaluate(e){return new Uy(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class Yy{constructor(e,t,i,r,s){this.type=pt,this.number=e,this.locale=t,this.currency=i,this.minFractionDigits=r,this.maxFractionDigits=s}static parse(e,t){if(e.length!==3)return t.error("Expected two arguments.");const i=t.parse(e[1],1,ge);if(!i)return null;const r=e[2];if(typeof r!="object"||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let s=null;if(r.locale&&(s=t.parse(r.locale,1,pt),!s))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,pt),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,ge),!a))return null;let u=null;return r["max-fraction-digits"]&&(u=t.parse(r["max-fraction-digits"],1,ge),!u)?null:new Yy(i,s,o,a,u)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class Ky{constructor(e){this.type=Vd,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const i=e[1];if(!Array.isArray(i)&&typeof i=="object")return t.error("First argument must be an image or text section.");const r=[];let s=!1;for(let o=1;o<=e.length-1;++o){const a=e[o];if(s&&typeof a=="object"&&!Array.isArray(a)){s=!1;let u=null;if(a["font-scale"]&&(u=t.parse(a["font-scale"],1,ge),!u))return null;let c=null;if(a["text-font"]&&(c=t.parse(a["text-font"],1,Mi(pt)),!c))return null;let f=null;if(a["text-color"]&&(f=t.parse(a["text-color"],1,Wr),!f))return null;let d=null;if(a["vertical-align"]){if(typeof a["vertical-align"]=="string"&&!S8.includes(a["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${a["vertical-align"]}' instead.`);if(d=t.parse(a["vertical-align"],1,pt),!d)return null}const g=r[r.length-1];g.scale=u,g.font=c,g.textColor=f,g.verticalAlign=d}else{const u=t.parse(e[o],1,rt);if(!u)return null;const c=u.type.kind;if(c!=="string"&&c!=="value"&&c!=="null"&&c!=="resolvedImage")return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");s=!0,r.push({content:u,scale:null,font:null,textColor:null,verticalAlign:null})}}return new Ky(r)}evaluate(e){const t=i=>{const r=i.content.evaluate(e);return Mn(r)===Oc?new t0("",r,null,null,null,i.verticalAlign?i.verticalAlign.evaluate(e):null):new t0(Gu(r),null,i.scale?i.scale.evaluate(e):null,i.font?i.font.evaluate(e).join(","):null,i.textColor?i.textColor.evaluate(e):null,i.verticalAlign?i.verticalAlign.evaluate(e):null)};return new Cs(this.sections.map(t))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class Zy{constructor(e){this.type=Oc,this.input=e}static parse(e,t){if(e.length!==2)return t.error("Expected two arguments.");const i=t.parse(e[1],1,pt);return i?new Zy(i):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),i=Po.fromString(t);return i&&e.availableImages&&(i.available=e.availableImages.indexOf(t)>-1),i}eachChild(e){e(this.input)}outputDefined(){return!1}}class Jy{constructor(e){this.type=ge,this.input=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=t.parse(e[1],1);return i?i.type.kind!=="array"&&i.type.kind!=="string"&&i.type.kind!=="value"?t.error(`Expected argument of type string or array, but found ${on(i.type)} instead.`):new Jy(i):null}evaluate(e){const t=this.input.evaluate(e);if(typeof t=="string")return[...t].length;if(Array.isArray(t))return t.length;throw new hn(`Expected value to be of type string or array, but found ${on(Mn(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const jr=8192;function Y8(n,e){const t=K8(n[0]),i=J8(n[1]),r=Math.pow(2,e.z);return[Math.round(t*r*jr),Math.round(i*r*jr)]}function Qy(n,e){const t=Math.pow(2,e.z),i=(n[0]/jr+e.x)/t,r=(n[1]/jr+e.y)/t;return[Z8(i),Q8(r)]}function K8(n){return(180+n)/360}function Z8(n){return n*360-180}function J8(n){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+n*Math.PI/360)))/360}function Q8(n){return 360/Math.PI*Math.atan(Math.exp((180-n*360)*Math.PI/180))-90}function Fc(n,e){n[0]=Math.min(n[0],e[0]),n[1]=Math.min(n[1],e[1]),n[2]=Math.max(n[2],e[0]),n[3]=Math.max(n[3],e[1])}function dc(n,e){return!(n[0]<=e[0]||n[2]>=e[2]||n[1]<=e[1]||n[3]>=e[3])}function eW(n,e,t){return e[1]>n[1]!=t[1]>n[1]&&n[0]<(t[0]-e[0])*(n[1]-e[1])/(t[1]-e[1])+e[0]}function tW(n,e,t){const i=n[0]-e[0],r=n[1]-e[1],s=n[0]-t[0],o=n[1]-t[1];return i*o-s*r===0&&i*s<=0&&r*o<=0}function tp(n,e,t,i){const r=[e[0]-n[0],e[1]-n[1]],s=[i[0]-t[0],i[1]-t[1]];return sW(s,r)===0?!1:!!(Pb(n,e,t,i)&&Pb(t,i,n,e))}function nW(n,e,t){for(const i of t)for(let r=0;r<i.length-1;++r)if(tp(n,e,i[r],i[r+1]))return!0;return!1}function Kl(n,e,t=!1){let i=!1;for(const r of e)for(let s=0;s<r.length-1;s++){if(tW(n,r[s],r[s+1]))return t;eW(n,r[s],r[s+1])&&(i=!i)}return i}function iW(n,e){for(const t of e)if(Kl(n,t))return!0;return!1}function aT(n,e){for(const t of n)if(!Kl(t,e))return!1;for(let t=0;t<n.length-1;++t)if(nW(n[t],n[t+1],e))return!1;return!0}function rW(n,e){for(const t of e)if(aT(n,t))return!0;return!1}function sW(n,e){return n[0]*e[1]-n[1]*e[0]}function Pb(n,e,t,i){const r=n[0]-t[0],s=n[1]-t[1],o=e[0]-t[0],a=e[1]-t[1],u=i[0]-t[0],c=i[1]-t[1],f=r*c-u*s,d=o*c-u*a;return f>0&&d<0||f<0&&d>0}function e_(n,e,t){const i=[];for(let r=0;r<n.length;r++){const s=[];for(let o=0;o<n[r].length;o++){const a=Y8(n[r][o],t);Fc(e,a),s.push(a)}i.push(s)}return i}function lT(n,e,t){const i=[];for(let r=0;r<n.length;r++){const s=e_(n[r],e,t);i.push(s)}return i}function uT(n,e,t,i){if(n[0]<t[0]||n[0]>t[2]){const r=i*.5;let s=n[0]-t[0]>r?-i:t[0]-n[0]>r?i:0;s===0&&(s=n[0]-t[2]>r?-i:t[2]-n[0]>r?i:0),n[0]+=s}Fc(e,n)}function oW(n){n[0]=n[1]=1/0,n[2]=n[3]=-1/0}function Mb(n,e,t,i){const r=Math.pow(2,i.z)*jr,s=[i.x*jr,i.y*jr],o=[];for(const a of n)for(const u of a){const c=[u.x+s[0],u.y+s[1]];uT(c,e,t,r),o.push(c)}return o}function Lb(n,e,t,i){const r=Math.pow(2,i.z)*jr,s=[i.x*jr,i.y*jr],o=[];for(const a of n){const u=[];for(const c of a){const f=[c.x+s[0],c.y+s[1]];Fc(e,f),u.push(f)}o.push(u)}if(e[2]-e[0]<=r/2){oW(e);for(const a of o)for(const u of a)uT(u,e,t,r)}return o}function aW(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const s=e_(e.coordinates,i,r),o=Mb(n.geometry(),t,i,r);if(!dc(t,i))return!1;for(const a of o)if(!Kl(a,s))return!1}if(e.type==="MultiPolygon"){const s=lT(e.coordinates,i,r),o=Mb(n.geometry(),t,i,r);if(!dc(t,i))return!1;for(const a of o)if(!iW(a,s))return!1}return!0}function lW(n,e){const t=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=n.canonicalID();if(e.type==="Polygon"){const s=e_(e.coordinates,i,r),o=Lb(n.geometry(),t,i,r);if(!dc(t,i))return!1;for(const a of o)if(!aT(a,s))return!1}if(e.type==="MultiPolygon"){const s=lT(e.coordinates,i,r),o=Lb(n.geometry(),t,i,r);if(!dc(t,i))return!1;for(const a of o)if(!rW(a,s))return!1}return!0}class ma{constructor(e,t){this.type=ot,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(hc(e[1])){const i=e[1];if(i.type==="FeatureCollection"){const r=[];for(const s of i.features){const{type:o,coordinates:a}=s.geometry;o==="Polygon"&&r.push(a),o==="MultiPolygon"&&r.push(...a)}if(r.length){const s={type:"MultiPolygon",coordinates:r};return new ma(i,s)}}else if(i.type==="Feature"){const r=i.geometry.type;if(r==="Polygon"||r==="MultiPolygon")return new ma(i,i.geometry)}else if(i.type==="Polygon"||i.type==="MultiPolygon")return new ma(i,i)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return aW(e,this.geometries);if(e.geometryType()==="LineString")return lW(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class cT{constructor(e=[],t=(i,r)=>i<r?-1:i>r?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let i=(this.length>>1)-1;i>=0;i--)this._down(i)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(this.length===0)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:i}=this,r=t[e];for(;e>0;){const s=e-1>>1,o=t[s];if(i(r,o)>=0)break;t[e]=o,e=s}t[e]=r}_down(e){const{data:t,compare:i}=this,r=this.length>>1,s=t[e];for(;e<r;){let o=(e<<1)+1;const a=o+1;if(a<this.length&&i(t[a],t[o])<0&&(o=a),i(t[o],s)>=0)break;t[e]=t[o],e=o}t[e]=s}}function uW(n,e){if(n.length<=1)return[n];const i=[];let r,s;for(const o of n){const a=cW(o);a!==0&&(o.area=Math.abs(a),s===void 0&&(s=a<0),s===a<0?(r&&i.push(r),r=[o]):r.push(o))}return r&&i.push(r),i}function cW(n){let e=0;for(let t=0,i=n.length,r=i-1,s,o;t<i;r=t++)s=n[t],o=n[r],e+=(o.x-s.x)*(s.y+o.y);return e}const hW=6378.137,kb=1/298.257223563,Ob=kb*(2-kb),Fb=Math.PI/180;class t_{constructor(e){const t=Fb*hW*1e3,i=Math.cos(e*Fb),r=1/(1-Ob*(1-i*i)),s=Math.sqrt(r);this.kx=t*s*i,this.ky=t*s*r*(1-Ob)}distance(e,t){const i=this.wrap(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(i*i+r*r)}pointOnLine(e,t){let i=1/0,r,s,o,a;for(let u=0;u<e.length-1;u++){let c=e[u][0],f=e[u][1],d=this.wrap(e[u+1][0]-c)*this.kx,g=(e[u+1][1]-f)*this.ky,m=0;(d!==0||g!==0)&&(m=(this.wrap(t[0]-c)*this.kx*d+(t[1]-f)*this.ky*g)/(d*d+g*g),m>1?(c=e[u+1][0],f=e[u+1][1]):m>0&&(c+=d/this.kx*m,f+=g/this.ky*m)),d=this.wrap(t[0]-c)*this.kx,g=(t[1]-f)*this.ky;const y=d*d+g*g;y<i&&(i=y,r=c,s=f,o=u,a=m)}return{point:[r,s],index:o,t:Math.max(0,Math.min(1,a))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}const n0=100,i0=50;function hT(n,e){return e[0]-n[0]}function Hf(n){return n[1]-n[0]+1}function Ps(n,e){return n[1]>=n[0]&&n[1]<e}function r0(n,e){if(n[0]>n[1])return[null,null];const t=Hf(n);if(e){if(t===2)return[n,null];const r=Math.floor(t/2);return[[n[0],n[0]+r],[n[0]+r,n[1]]]}if(t===1)return[n,null];const i=Math.floor(t/2)-1;return[[n[0],n[0]+i],[n[0]+i+1,n[1]]]}function s0(n,e){if(!Ps(e,n.length))return[1/0,1/0,-1/0,-1/0];const t=[1/0,1/0,-1/0,-1/0];for(let i=e[0];i<=e[1];++i)Fc(t,n[i]);return t}function o0(n){const e=[1/0,1/0,-1/0,-1/0];for(const t of n)for(const i of t)Fc(e,i);return e}function Db(n){return n[0]!==-1/0&&n[1]!==-1/0&&n[2]!==1/0&&n[3]!==1/0}function n_(n,e,t){if(!Db(n)||!Db(e))return NaN;let i=0,r=0;return n[2]<e[0]&&(i=e[0]-n[2]),n[0]>e[2]&&(i=n[0]-e[2]),n[1]>e[3]&&(r=n[1]-e[3]),n[3]<e[1]&&(r=e[1]-n[3]),t.distance([0,0],[i,r])}function ra(n,e,t){const i=t.pointOnLine(e,n);return t.distance(n,i.point)}function i_(n,e,t,i,r){const s=Math.min(ra(n,[t,i],r),ra(e,[t,i],r)),o=Math.min(ra(t,[n,e],r),ra(i,[n,e],r));return Math.min(s,o)}function fW(n,e,t,i,r){if(!(Ps(e,n.length)&&Ps(i,t.length)))return 1/0;let o=1/0;for(let a=e[0];a<e[1];++a){const u=n[a],c=n[a+1];for(let f=i[0];f<i[1];++f){const d=t[f],g=t[f+1];if(tp(u,c,d,g))return 0;o=Math.min(o,i_(u,c,d,g,r))}}return o}function dW(n,e,t,i,r){if(!(Ps(e,n.length)&&Ps(i,t.length)))return NaN;let o=1/0;for(let a=e[0];a<=e[1];++a)for(let u=i[0];u<=i[1];++u)if(o=Math.min(o,r.distance(n[a],t[u])),o===0)return o;return o}function pW(n,e,t){if(Kl(n,e,!0))return 0;let i=1/0;for(const r of e){const s=r[0],o=r[r.length-1];if(s!==o&&(i=Math.min(i,ra(n,[o,s],t)),i===0))return i;const a=t.pointOnLine(r,n);if(i=Math.min(i,t.distance(n,a.point)),i===0)return i}return i}function gW(n,e,t,i){if(!Ps(e,n.length))return NaN;for(let s=e[0];s<=e[1];++s)if(Kl(n[s],t,!0))return 0;let r=1/0;for(let s=e[0];s<e[1];++s){const o=n[s],a=n[s+1];for(const u of t)for(let c=0,f=u.length,d=f-1;c<f;d=c++){const g=u[d],m=u[c];if(tp(o,a,g,m))return 0;r=Math.min(r,i_(o,a,g,m,i))}}return r}function Nb(n,e){for(const t of n)for(const i of t)if(Kl(i,e,!0))return!0;return!1}function mW(n,e,t,i=1/0){const r=o0(n),s=o0(e);if(i!==1/0&&n_(r,s,t)>=i)return i;if(dc(r,s)){if(Nb(n,e))return 0}else if(Nb(e,n))return 0;let o=1/0;for(const a of n)for(let u=0,c=a.length,f=c-1;u<c;f=u++){const d=a[f],g=a[u];for(const m of e)for(let y=0,v=m.length,x=v-1;y<v;x=y++){const C=m[x],E=m[y];if(tp(d,g,C,E))return 0;o=Math.min(o,i_(d,g,C,E,t))}}return o}function zb(n,e,t,i,r,s){if(!s)return;const o=n_(s0(i,s),r,t);o<e&&n.push([o,s,[0,0]])}function sf(n,e,t,i,r,s,o){if(!s||!o)return;const a=n_(s0(i,s),s0(r,o),t);a<e&&n.push([a,s,o])}function Xf(n,e,t,i,r=1/0){let s=Math.min(i.distance(n[0],t[0][0]),r);if(s===0)return s;const o=new cT([[0,[0,n.length-1],[0,0]]],hT),a=o0(t);for(;o.length>0;){const u=o.pop();if(u[0]>=s)continue;const c=u[1],f=e?i0:n0;if(Hf(c)<=f){if(!Ps(c,n.length))return NaN;if(e){const d=gW(n,c,t,i);if(isNaN(d)||d===0)return d;s=Math.min(s,d)}else for(let d=c[0];d<=c[1];++d){const g=pW(n[d],t,i);if(s=Math.min(s,g),s===0)return 0}}else{const d=r0(c,e);zb(o,s,i,n,a,d[0]),zb(o,s,i,n,a,d[1])}}return s}function Yf(n,e,t,i,r,s=1/0){let o=Math.min(s,r.distance(n[0],t[0]));if(o===0)return o;const a=new cT([[0,[0,n.length-1],[0,t.length-1]]],hT);for(;a.length>0;){const u=a.pop();if(u[0]>=o)continue;const c=u[1],f=u[2],d=e?i0:n0,g=i?i0:n0;if(Hf(c)<=d&&Hf(f)<=g){if(!Ps(c,n.length)&&Ps(f,t.length))return NaN;let m;if(e&&i)m=fW(n,c,t,f,r),o=Math.min(o,m);else if(e&&!i){const y=n.slice(c[0],c[1]+1);for(let v=f[0];v<=f[1];++v)if(m=ra(t[v],y,r),o=Math.min(o,m),o===0)return o}else if(!e&&i){const y=t.slice(f[0],f[1]+1);for(let v=c[0];v<=c[1];++v)if(m=ra(n[v],y,r),o=Math.min(o,m),o===0)return o}else m=dW(n,c,t,f,r),o=Math.min(o,m)}else{const m=r0(c,e),y=r0(f,i);sf(a,o,r,n,t,m[0],y[0]),sf(a,o,r,n,t,m[0],y[1]),sf(a,o,r,n,t,m[1],y[0]),sf(a,o,r,n,t,m[1],y[1])}}return o}function yW(n,e){const t=n.geometry(),i=t.flat().map(o=>Qy([o.x,o.y],n.canonical));if(t.length===0)return NaN;const r=new t_(i[0][1]);let s=1/0;for(const o of e){switch(o.type){case"Point":s=Math.min(s,Yf(i,!1,[o.coordinates],!1,r,s));break;case"LineString":s=Math.min(s,Yf(i,!1,o.coordinates,!0,r,s));break;case"Polygon":s=Math.min(s,Xf(i,!1,o.coordinates,r,s));break}if(s===0)return s}return s}function _W(n,e){const t=n.geometry(),i=t.flat().map(o=>Qy([o.x,o.y],n.canonical));if(t.length===0)return NaN;const r=new t_(i[0][1]);let s=1/0;for(const o of e){switch(o.type){case"Point":s=Math.min(s,Yf(i,!0,[o.coordinates],!1,r,s));break;case"LineString":s=Math.min(s,Yf(i,!0,o.coordinates,!0,r,s));break;case"Polygon":s=Math.min(s,Xf(i,!0,o.coordinates,r,s));break}if(s===0)return s}return s}function vW(n,e){const t=n.geometry();if(t.length===0||t[0].length===0)return NaN;const i=uW(t).map(o=>o.map(a=>a.map(u=>Qy([u.x,u.y],n.canonical)))),r=new t_(i[0][0][0][1]);let s=1/0;for(const o of e)for(const a of i){switch(o.type){case"Point":s=Math.min(s,Xf([o.coordinates],!1,a,r,s));break;case"LineString":s=Math.min(s,Xf(o.coordinates,!0,a,r,s));break;case"Polygon":s=Math.min(s,mW(a,o.coordinates,r,s));break}if(s===0)return s}return s}function om(n){return n.type==="MultiPolygon"?n.coordinates.map(e=>({type:"Polygon",coordinates:e})):n.type==="MultiLineString"?n.coordinates.map(e=>({type:"LineString",coordinates:e})):n.type==="MultiPoint"?n.coordinates.map(e=>({type:"Point",coordinates:e})):[n]}class ya{constructor(e,t){this.type=ge,this.geojson=e,this.geometries=t}static parse(e,t){if(e.length!==2)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(hc(e[1])){const i=e[1];if(i.type==="FeatureCollection")return new ya(i,i.features.map(r=>om(r.geometry)).flat());if(i.type==="Feature")return new ya(i,om(i.geometry));if("type"in i&&"coordinates"in i)return new ya(i,om(i))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(e.geometry()!=null&&e.canonicalID()!=null){if(e.geometryType()==="Point")return yW(e,this.geometries);if(e.geometryType()==="LineString")return _W(e,this.geometries);if(e.geometryType()==="Polygon")return vW(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Dc{constructor(e){this.type=rt,this.key=e}static parse(e,t){if(e.length!==2)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const i=e[1];return i==null?t.error("Global state property must be defined."):typeof i!="string"?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new Dc(i)}evaluate(e){var t;const i=(t=e.globals)===null||t===void 0?void 0:t.globalState;return!i||Object.keys(i).length===0?null:tT(i,this.key)}eachChild(){}outputDefined(){return!1}}const np={"==":q8,"!=":U8,">":V8,"<":j8,">=":X8,"<=":H8,array:_r,at:jy,boolean:_r,case:Xy,coalesce:fc,collator:ep,format:Ky,image:Zy,in:Vy,"index-of":jf,interpolate:Ur,"interpolate-hcl":Ur,"interpolate-lab":Ur,length:Jy,let:Zd,literal:$l,match:Hy,number:_r,"number-format":Yy,object:_r,slice:Vf,step:Qd,string:_r,"to-boolean":go,"to-color":go,"to-number":go,"to-string":go,var:Jd,within:ma,distance:ya,"global-state":Dc};class ki{constructor(e,t,i,r){this.name=e,this.type=t,this._evaluate=i,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const i=e[0],r=ki.definitions[i];if(!r)return t.error(`Unknown expression "${i}". If you wanted a literal array, use ["literal", [...]].`,0);const s=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(([c])=>!Array.isArray(c)||c.length===e.length-1);let u=null;for(const[c,f]of a){u=new Kd(t.registry,Kf,t.path,null,t.scope);const d=[];let g=!1;for(let m=1;m<e.length;m++){const y=e[m],v=Array.isArray(c)?c[m-1]:c.type,x=u.parse(y,1+d.length,v);if(!x){g=!0;break}d.push(x)}if(!g){if(Array.isArray(c)&&c.length!==d.length){u.error(`Expected ${c.length} arguments, but found ${d.length} instead.`);continue}for(let m=0;m<d.length;m++){const y=Array.isArray(c)?c[m]:c.type,v=d[m];u.concat(m+1).checkSubtype(y,v.type)}if(u.errors.length===0)return new ki(i,s,f,d)}}if(a.length===1)t.errors.push(...u.errors);else{const f=(a.length?a:o).map(([g])=>bW(g)).join(" | "),d=[];for(let g=1;g<e.length;g++){const m=t.parse(e[g],1+d.length);if(!m)return null;d.push(on(m.type))}t.error(`Expected arguments of type ${f}, but found (${d.join(", ")}) instead.`)}return null}static register(e,t){ki.definitions=t;for(const i in t)e[i]=ki}}function $b(n,[e,t,i,r]){e=e.evaluate(n),t=t.evaluate(n),i=i.evaluate(n);const s=r?r.evaluate(n):1,o=nT(e,t,i,s);if(o)throw new hn(o);return new Wt(e/255,t/255,i/255,s,!1)}function Bb(n,e){return n in e}function am(n,e){const t=e[n];return typeof t>"u"?null:t}function xW(n,e,t,i){for(;t<=i;){const r=t+i>>1;if(e[r]===n)return!0;e[r]>n?i=r-1:t=r+1}return!1}function Vo(n){return{type:n}}ki.register(np,{error:[p8,[pt],(n,[e])=>{throw new hn(e.evaluate(n))}],typeof:[pt,[rt],(n,[e])=>on(Mn(e.evaluate(n)))],"to-rgba":[Mi(ge,4),[Wr],(n,[e])=>{const[t,i,r,s]=e.evaluate(n).rgb;return[t*255,i*255,r*255,s]}],rgb:[Wr,[ge,ge,ge],$b],rgba:[Wr,[ge,ge,ge,ge],$b],has:{type:ot,overloads:[[[pt],(n,[e])=>Bb(e.evaluate(n),n.properties())],[[pt,da],(n,[e,t])=>Bb(e.evaluate(n),t.evaluate(n))]]},get:{type:rt,overloads:[[[pt],(n,[e])=>am(e.evaluate(n),n.properties())],[[pt,da],(n,[e,t])=>am(e.evaluate(n),t.evaluate(n))]]},"feature-state":[rt,[pt],(n,[e])=>am(e.evaluate(n),n.featureState||{})],properties:[da,[],n=>n.properties()],"geometry-type":[pt,[],n=>n.geometryType()],id:[rt,[],n=>n.id()],zoom:[ge,[],n=>n.globals.zoom],"heatmap-density":[ge,[],n=>n.globals.heatmapDensity||0],elevation:[ge,[],n=>n.globals.elevation||0],"line-progress":[ge,[],n=>n.globals.lineProgress||0],accumulated:[rt,[],n=>n.globals.accumulated===void 0?null:n.globals.accumulated],"+":[ge,Vo(ge),(n,e)=>{let t=0;for(const i of e)t+=i.evaluate(n);return t}],"*":[ge,Vo(ge),(n,e)=>{let t=1;for(const i of e)t*=i.evaluate(n);return t}],"-":{type:ge,overloads:[[[ge,ge],(n,[e,t])=>e.evaluate(n)-t.evaluate(n)],[[ge],(n,[e])=>-e.evaluate(n)]]},"/":[ge,[ge,ge],(n,[e,t])=>e.evaluate(n)/t.evaluate(n)],"%":[ge,[ge,ge],(n,[e,t])=>e.evaluate(n)%t.evaluate(n)],ln2:[ge,[],()=>Math.LN2],pi:[ge,[],()=>Math.PI],e:[ge,[],()=>Math.E],"^":[ge,[ge,ge],(n,[e,t])=>Math.pow(e.evaluate(n),t.evaluate(n))],sqrt:[ge,[ge],(n,[e])=>Math.sqrt(e.evaluate(n))],log10:[ge,[ge],(n,[e])=>Math.log(e.evaluate(n))/Math.LN10],ln:[ge,[ge],(n,[e])=>Math.log(e.evaluate(n))],log2:[ge,[ge],(n,[e])=>Math.log(e.evaluate(n))/Math.LN2],sin:[ge,[ge],(n,[e])=>Math.sin(e.evaluate(n))],cos:[ge,[ge],(n,[e])=>Math.cos(e.evaluate(n))],tan:[ge,[ge],(n,[e])=>Math.tan(e.evaluate(n))],asin:[ge,[ge],(n,[e])=>Math.asin(e.evaluate(n))],acos:[ge,[ge],(n,[e])=>Math.acos(e.evaluate(n))],atan:[ge,[ge],(n,[e])=>Math.atan(e.evaluate(n))],min:[ge,Vo(ge),(n,e)=>Math.min(...e.map(t=>t.evaluate(n)))],max:[ge,Vo(ge),(n,e)=>Math.max(...e.map(t=>t.evaluate(n)))],abs:[ge,[ge],(n,[e])=>Math.abs(e.evaluate(n))],round:[ge,[ge],(n,[e])=>{const t=e.evaluate(n);return t<0?-Math.round(-t):Math.round(t)}],floor:[ge,[ge],(n,[e])=>Math.floor(e.evaluate(n))],ceil:[ge,[ge],(n,[e])=>Math.ceil(e.evaluate(n))],"filter-==":[ot,[pt,rt],(n,[e,t])=>n.properties()[e.value]===t.value],"filter-id-==":[ot,[rt],(n,[e])=>n.id()===e.value],"filter-type-==":[ot,[pt],(n,[e])=>n.geometryType()===e.value],"filter-<":[ot,[pt,rt],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<r}],"filter-id-<":[ot,[rt],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<i}],"filter->":[ot,[pt,rt],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>r}],"filter-id->":[ot,[rt],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>i}],"filter-<=":[ot,[pt,rt],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i<=r}],"filter-id-<=":[ot,[rt],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t<=i}],"filter->=":[ot,[pt,rt],(n,[e,t])=>{const i=n.properties()[e.value],r=t.value;return typeof i==typeof r&&i>=r}],"filter-id->=":[ot,[rt],(n,[e])=>{const t=n.id(),i=e.value;return typeof t==typeof i&&t>=i}],"filter-has":[ot,[rt],(n,[e])=>e.value in n.properties()],"filter-has-id":[ot,[],n=>n.id()!==null&&n.id()!==void 0],"filter-type-in":[ot,[Mi(pt)],(n,[e])=>e.value.indexOf(n.geometryType())>=0],"filter-id-in":[ot,[Mi(rt)],(n,[e])=>e.value.indexOf(n.id())>=0],"filter-in-small":[ot,[pt,Mi(rt)],(n,[e,t])=>t.value.indexOf(n.properties()[e.value])>=0],"filter-in-large":[ot,[pt,Mi(rt)],(n,[e,t])=>xW(n.properties()[e.value],t.value,0,t.value.length-1)],all:{type:ot,overloads:[[[ot,ot],(n,[e,t])=>e.evaluate(n)&&t.evaluate(n)],[Vo(ot),(n,e)=>{for(const t of e)if(!t.evaluate(n))return!1;return!0}]]},any:{type:ot,overloads:[[[ot,ot],(n,[e,t])=>e.evaluate(n)||t.evaluate(n)],[Vo(ot),(n,e)=>{for(const t of e)if(t.evaluate(n))return!0;return!1}]]},"!":[ot,[ot],(n,[e])=>!e.evaluate(n)],"is-supported-script":[ot,[pt],(n,[e])=>{const t=n.globals&&n.globals.isSupportedScript;return t?t(e.evaluate(n)):!0}],upcase:[pt,[pt],(n,[e])=>e.evaluate(n).toUpperCase()],downcase:[pt,[pt],(n,[e])=>e.evaluate(n).toLowerCase()],concat:[pt,Vo(rt),(n,e)=>e.map(t=>Gu(t.evaluate(n))).join("")],"resolved-locale":[pt,[jd],(n,[e])=>e.evaluate(n).resolvedLocale()]});function bW(n){return Array.isArray(n)?`(${n.map(on).join(", ")})`:`(${on(n.type)}...)`}function Kf(n){if(n instanceof Jd)return Kf(n.boundExpression);if(n instanceof ki&&n.name==="error")return!1;if(n instanceof ep)return!1;if(n instanceof ma)return!1;if(n instanceof ya)return!1;if(n instanceof Dc)return!1;const e=n instanceof go||n instanceof _r;let t=!0;return n.eachChild(i=>{e?t=t&&Kf(i):t=t&&i instanceof $l}),t?r_(n)&&o_(n,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"]):!1}function r_(n){if(n instanceof ki){if(n.name==="get"&&n.args.length===1)return!1;if(n.name==="feature-state")return!1;if(n.name==="has"&&n.args.length===1)return!1;if(n.name==="properties"||n.name==="geometry-type"||n.name==="id")return!1;if(/^filter-/.test(n.name))return!1}if(n instanceof ma||n instanceof ya)return!1;let e=!0;return n.eachChild(t=>{e&&!r_(t)&&(e=!1)}),e}function s_(n){if(n instanceof ki&&n.name==="feature-state")return!1;let e=!0;return n.eachChild(t=>{e&&!s_(t)&&(e=!1)}),e}function o_(n,e){if(n instanceof ki&&e.indexOf(n.name)>=0)return!1;let t=!0;return n.eachChild(i=>{t&&!o_(i,e)&&(t=!1)}),t}function a0(n){return{result:"success",value:n}}function cl(n){return{result:"error",value:n}}function wW(n){return n["property-type"]==="data-driven"||n["property-type"]==="cross-faded-data-driven"}function EW(n){return!!n.expression&&n.expression.parameters.indexOf("zoom")>-1}function CW(n){return!!n.expression&&n.expression.interpolated}function fT(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)&&Mn(n)===da}class SW{constructor(e,t){this.expression=e,this._warningHistory={},this._evaluator=new iT,this._defaultValue=t?AW(t):null,this._enumValues=t&&t.type==="enum"?t.values:null}evaluateWithoutErrorHandling(e,t,i,r,s,o){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=i,this._evaluator.canonical=r,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,i,r,s,o){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=i||null,this._evaluator.canonical=r,this._evaluator.availableImages=s||null,this._evaluator.formattedSection=o||null;try{const a=this.expression.evaluate(this._evaluator);if(a==null||typeof a=="number"&&a!==a)return this._defaultValue;if(this._enumValues&&!(a in this._enumValues))throw new hn(`Expected value to be one of ${Object.keys(this._enumValues).map(u=>JSON.stringify(u)).join(", ")}, but found ${JSON.stringify(a)} instead.`);return a}catch(a){return this._warningHistory[a.message]||(this._warningHistory[a.message]=!0,typeof console<"u"&&console.warn(a.message)),this._defaultValue}}}function TW(n){return Array.isArray(n)&&n.length>0&&typeof n[0]=="string"&&n[0]in np}function dT(n,e){const t=new Kd(np,Kf,[],e?IW(e):void 0),i=t.parse(n,void 0,void 0,void 0,e&&e.type==="string"?{typeAnnotation:"coerce"}:void 0);return i?a0(new SW(i,e)):cl(t.errors)}class Gb{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent=e!=="constant"&&!s_(t.expression),this.globalStateRefs=ip(t.expression)}evaluateWithoutErrorHandling(e,t,i,r,s,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,s,o)}evaluate(e,t,i,r,s,o){return this._styleExpression.evaluate(e,t,i,r,s,o)}}class Wb{constructor(e,t,i,r){this.kind=e,this.zoomStops=i,this._styleExpression=t,this.isStateDependent=e!=="camera"&&!s_(t.expression),this.globalStateRefs=ip(t.expression),this.interpolationType=r}evaluateWithoutErrorHandling(e,t,i,r,s,o){return this._styleExpression.evaluateWithoutErrorHandling(e,t,i,r,s,o)}evaluate(e,t,i,r,s,o){return this._styleExpression.evaluate(e,t,i,r,s,o)}interpolationFactor(e,t,i){return this.interpolationType?Ur.interpolationFactor(this.interpolationType,e,t,i):0}}function RW(n,e){const t=dT(n,e);if(t.result==="error")return t;const i=t.value.expression,r=r_(i);if(!r&&!wW(e))return cl([new Nr("","data expressions not supported")]);const s=o_(i,["zoom"]);if(!s&&!EW(e))return cl([new Nr("","zoom expressions not supported")]);const o=mf(i);if(!o&&!s)return cl([new Nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(o instanceof Nr)return cl([o]);if(o instanceof Ur&&!CW(e))return cl([new Nr("",'"interpolate" expressions cannot be used with this property')]);if(!o)return a0(r?new Gb("constant",t.value):new Gb("source",t.value));const a=o instanceof Ur?o.interpolation:void 0;return a0(r?new Wb("camera",t.value,o.labels,a):new Wb("composite",t.value,o.labels,a))}function mf(n){let e=null;if(n instanceof Zd)e=mf(n.result);else if(n instanceof fc){for(const t of n.args)if(e=mf(t),e)break}else(n instanceof Qd||n instanceof Ur)&&n.input instanceof ki&&n.input.name==="zoom"&&(e=n);return e instanceof Nr||n.eachChild(t=>{const i=mf(t);i instanceof Nr?e=i:!e&&i?e=new Nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):e&&i&&e!==i&&(e=new Nr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),e}function ip(n,e=new Set){return n instanceof Dc&&e.add(n.key),n.eachChild(t=>{ip(t,e)}),e}function IW(n){const e={color:Wr,string:pt,number:ge,enum:pt,boolean:ot,formatted:Vd,padding:Hd,numberArray:Xd,colorArray:lc,projectionDefinition:Ud,resolvedImage:Oc,variableAnchorOffsetCollection:Yd};return n.type==="array"?Mi(e[n.value]||rt,n.length):e[n.type]}function AW(n){if(n.type==="color"&&fT(n.default))return new Wt(0,0,0,0);switch(n.type){case"color":return Wt.parse(n.default)||null;case"padding":return br.parse(n.default)||null;case"numberArray":return wr.parse(n.default)||null;case"colorArray":return Li.parse(n.default)||null;case"variableAnchorOffsetCollection":return qr.parse(n.default)||null;case"projectionDefinition":return yr.parse(n.default)||null;default:return n.default===void 0?null:n.default}}function pT(n){if(n===!0||n===!1)return!0;if(!Array.isArray(n)||n.length===0)return!1;switch(n[0]){case"has":return n.length>=2&&n[1]!=="$id"&&n[1]!=="$type";case"in":return n.length>=3&&(typeof n[1]!="string"||Array.isArray(n[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return n.length!==3||Array.isArray(n[1])||Array.isArray(n[2]);case"any":case"all":for(const e of n.slice(1))if(!pT(e)&&typeof e!="boolean")return!1;return!0;default:return!0}}const PW={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function MW(n){if(n==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};pT(n)||(n=Zf(n));const e=dT(n,PW);if(e.result==="error")throw new Error(e.value.map(t=>`${t.key}: ${t.message}`).join(", "));{const t=gT(n);return{filter:(i,r,s)=>e.value.evaluate(i,r,{},s),needGeometry:t,getGlobalStateRefs:()=>ip(e.value.expression)}}}function LW(n,e){return n<e?-1:n>e?1:0}function gT(n){if(!Array.isArray(n))return!1;if(n[0]==="within"||n[0]==="distance")return!0;for(let e=1;e<n.length;e++)if(gT(n[e]))return!0;return!1}function Zf(n){if(!n)return!0;const e=n[0];return n.length<=1?e!=="any":e==="=="?lm(n[1],n[2],"=="):e==="!="?of(lm(n[1],n[2],"==")):e==="<"||e===">"||e==="<="||e===">="?lm(n[1],n[2],e):e==="any"?kW(n.slice(1)):e==="all"?["all"].concat(n.slice(1).map(Zf)):e==="none"?["all"].concat(n.slice(1).map(Zf).map(of)):e==="in"?qb(n[1],n.slice(2)):e==="!in"?of(qb(n[1],n.slice(2))):e==="has"?Ub(n[1]):e==="!has"?of(Ub(n[1])):!0}function lm(n,e,t){switch(n){case"$type":return[`filter-type-${t}`,e];case"$id":return[`filter-id-${t}`,e];default:return[`filter-${t}`,n,e]}}function kW(n){return["any"].concat(n.map(Zf))}function qb(n,e){if(e.length===0)return!1;switch(n){case"$type":return["filter-type-in",["literal",e]];case"$id":return["filter-id-in",["literal",e]];default:return e.length>200&&!e.some(t=>typeof t!=typeof e[0])?["filter-in-large",n,["literal",e.sort(LW)]]:["filter-in-small",n,["literal",e]]}}function Ub(n){switch(n){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",n]}}function of(n){return["!",n]}function pc(n){return typeof n=="object"?["literal",n]:n}function OW(n,e){let t=n.stops;if(!t)return FW(n,e);const i=t&&typeof t[0][0]=="object",r=i||n.property!==void 0,s=i||!r;return t=t.map(o=>!r&&e.tokens&&typeof o[1]=="string"?[o[0],$W(o[1])]:[o[0],pc(o[1])]),i?DW(n,e,t):s?zW(n,e,t):l0(n,e,t)}function FW(n,e){const t=["get",n.property];if(n.default===void 0)return e.type==="string"?["string",t]:t;if(e.type==="enum")return["match",t,Object.keys(e.values),t,n.default];{const i=[e.type==="color"?"to-color":e.type,t,pc(n.default)];return e.type==="array"&&i.splice(1,0,e.value,e.length||null),i}}function a_(n){switch(n.colorSpace){case"hcl":return"interpolate-hcl";case"lab":return"interpolate-lab";default:return"interpolate"}}function DW(n,e,t){const i={},r={},s=[];for(let a=0;a<t.length;a++){const u=t[a],c=u[0].zoom;i[c]===void 0&&(i[c]={zoom:c,type:n.type,property:n.property,default:n.default},r[c]=[],s.push(c)),r[c].push([u[0].value,u[1]])}if(u_({},e)==="exponential"){const a=[a_(n),["linear"],["zoom"]];for(const u of s){const c=l0(i[u],e,r[u]);vl(a,u,c,!1)}return a}else{const a=["step",["zoom"]];for(const u of s){const c=l0(i[u],e,r[u]);vl(a,u,c,!0)}return l_(a),a}}function NW(n,e){if(n!==void 0)return n;if(e!==void 0)return e}function jb(n,e){const t=pc(NW(n.default,e.default));return t===void 0&&e.type==="resolvedImage"?"":t}function l0(n,e,t){const i=u_(n,e),r=["get",n.property];if(i==="categorical"&&typeof t[0][0]=="boolean"){const s=["case"];for(const o of t)s.push(["==",r,o[0]],o[1]);return s.push(jb(n,e)),s}else if(i==="categorical"){const s=["match",r];for(const o of t)vl(s,o[0],o[1],!1);return s.push(jb(n,e)),s}else if(i==="interval"){const s=["step",["number",r]];for(const o of t)vl(s,o[0],o[1],!0);return l_(s),n.default===void 0?s:["case",["==",["typeof",r],"number"],s,pc(n.default)]}else if(i==="exponential"){const s=n.base!==void 0?n.base:1,o=[a_(n),s===1?["linear"]:["exponential",s],["number",r]];for(const a of t)vl(o,a[0],a[1],!1);return n.default===void 0?o:["case",["==",["typeof",r],"number"],o,pc(n.default)]}else throw new Error(`Unknown property function type ${i}`)}function zW(n,e,t,i=["zoom"]){const r=u_(n,e);let s,o=!1;if(r==="interval")s=["step",i],o=!0;else if(r==="exponential"){const a=n.base!==void 0?n.base:1;s=[a_(n),a===1?["linear"]:["exponential",a],i]}else throw new Error(`Unknown zoom function type "${r}"`);for(const a of t)vl(s,a[0],a[1],o);return l_(s),s}function l_(n){n[0]==="step"&&n.length===3&&(n.push(0),n.push(n[3]))}function vl(n,e,t,i){n.length>3&&e===n[n.length-2]||(i&&n.length===2||n.push(e),n.push(t))}function u_(n,e){return n.type?n.type:e.expression.interpolated?"exponential":"interval"}function $W(n){const e=["concat"],t=/{([^{}]+)}/g;let i=0;for(let r=t.exec(n);r!==null;r=t.exec(n)){const s=n.slice(i,t.lastIndex-r[0].length);i=t.lastIndex,s.length>0&&e.push(s),e.push(["get",r[1]])}if(e.length===1)return n;if(i<n.length)e.push(n.slice(i));else if(e.length===2)return["to-string",e[1]];return e}const BW=h8;var Vb={thin:100,hairline:100,"ultra-light":200,"extra-light":200,light:300,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,"extra-bold":800,"ultra-bold":800,heavy:900,black:900,"heavy-black":900,fat:900,poster:900,"ultra-black":950,"extra-black":950},Cu=" ",Hb=/(italic|oblique)$/i,Xb={};function u0(n,e,t){var i=Xb[n];if(!i){Array.isArray(n)||(n=[n]);for(var r=400,s="normal",o=[],a,u,c=0,f=n.length;c<f;++c){var d=n[c],g=d.split(" "),m=g[g.length-1].toLowerCase();m=="normal"||m=="italic"||m=="oblique"?(s=u?s:m,u=!0,g.pop(),m=g[g.length-1].toLowerCase()):Hb.test(m)&&(m=m.replace(Hb,""),s=u?s:g[g.length-1].replace(m,""),u=!0);for(var y in Vb){var v=g.length>1?g[g.length-2].toLowerCase():"";if(m==y||m==y.replace("-","")||v+"-"+m==y){r=a?r:Vb[y],g.pop(),v&&y.startsWith(v)&&g.pop();break}}!a&&typeof m=="number"&&(r=m,a=!0);var x=g.join(Cu).replace("Klokantech Noto Sans","Noto Sans").replace("DIN Pro","Barlow").replace("Arial Unicode MS","Arial");x.indexOf(Cu)!==-1&&(x='"'+x+'"'),o.push(x)}i=Xb[n]=[s,r,o]}return i[0]+Cu+i[1]+Cu+e+"px"+(t?"/"+t:"")+Cu+i[2]}function mT(n,e,t,i){const r=[];let s=Qi();for(let o=0,a=t.length;o<a;++o){const u=t[o];s=iy(n,e,u[0],i),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),e=u[u.length-1]}return r}function Jf(n,e,t,i,r,s,o){let a,u;const c=(t-e)/i;if(c===1)a=e;else if(c===2)a=e,u=r;else if(c!==0){let f=n[e],d=n[e+1],g=0;const m=[0];for(let x=e+i;x<t;x+=i){const C=n[x],E=n[x+1];g+=Math.sqrt((C-f)*(C-f)+(E-d)*(E-d)),m.push(g),f=C,d=E}const y=r*g,v=p4(m,y);v<0?(u=(y-m[-v-2])/(m[-v-1]-m[-v-2]),a=e+(-v-2)*i):a=e+v*i}o=o>1?o:2,s=s||new Array(o);for(let f=0;f<o;++f)s[f]=a===void 0?NaN:u===void 0?n[a+f]:Ai(n[a+f],n[a+i+f],u);return s}function c0(n,e,t,i,r,s){if(t==e)return null;let o;if(r<n[e+i-1])return s?(o=n.slice(e,e+i),o[i-1]=r,o):null;if(n[t-1]<r)return s?(o=n.slice(t-i,t),o[i-1]=r,o):null;if(r==n[e+i-1])return n.slice(e,e+i);let a=e/i,u=t/i;for(;a<u;){const g=a+u>>1;r<n[(g+1)*i-1]?u=g:a=g+1}const c=n[a*i-1];if(r==c)return n.slice((a-1)*i,(a-1)*i+i);const f=n[(a+1)*i-1],d=(r-c)/(f-c);o=[];for(let g=0;g<i-1;++g)o.push(Ai(n[(a-1)*i+g],n[a*i+g],d));return o.push(r),o}function GW(n,e,t,i,r,s,o){if(o)return c0(n,e,t[t.length-1],i,r,s);let a;if(r<n[i-1])return s?(a=n.slice(0,i),a[i-1]=r,a):null;if(n[n.length-1]<r)return s?(a=n.slice(n.length-i),a[i-1]=r,a):null;for(let u=0,c=t.length;u<c;++u){const f=t[u];if(e!=f){if(r<n[e+i-1])return null;if(r<=n[f-1])return c0(n,e,f,i,r,!1);e=f}}return null}class Qf extends KC{constructor(e){super(),this.geometries_=e,this.changeEventsKeys_=[],this.listenGeometriesChange_()}unlistenGeometriesChange_(){this.changeEventsKeys_.forEach(Zt),this.changeEventsKeys_.length=0}listenGeometriesChange_(){const e=this.geometries_;for(let t=0,i=e.length;t<i;++t)this.changeEventsKeys_.push(At(e[t],Ve.CHANGE,this.changed,this))}clone(){const e=new Qf(um(this.geometries_));return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Aa(this.getExtent(),e,t))return r;const s=this.geometries_;for(let o=0,a=s.length;o<a;++o)r=s[o].closestPointXY(e,t,i,r);return r}containsXY(e,t){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)if(i[r].containsXY(e,t))return!0;return!1}computeExtent(e){jl(e);const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)kC(e,t[i].getExtent());return e}getGeometries(){return um(this.geometries_)}getGeometriesArray(){return this.geometries_}getGeometriesArrayRecursive(){let e=[];const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].getType()===this.getType()?e=e.concat(t[i].getGeometriesArrayRecursive()):e.push(t[i]);return e}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;const t=[],i=this.geometries_;let r=!1;for(let s=0,o=i.length;s<o;++s){const a=i[s],u=a.getSimplifiedGeometry(e);t.push(u),u!==a&&(r=!0)}return r?new Qf(t):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getType(){return"GeometryCollection"}intersectsExtent(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)if(t[i].intersectsExtent(e))return!0;return!1}isEmpty(){return this.geometries_.length===0}rotate(e,t){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].rotate(e,t);this.changed()}scale(e,t,i){i||(i=Ni(this.getExtent()));const r=this.geometries_;for(let s=0,o=r.length;s<o;++s)r[s].scale(e,t,i);this.changed()}setGeometries(e){this.setGeometriesArray(um(e))}setGeometriesArray(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()}applyTransform(e){const t=this.geometries_;for(let i=0,r=t.length;i<r;++i)t[i].applyTransform(e);this.changed()}translate(e,t){const i=this.geometries_;for(let r=0,s=i.length;r<s;++r)i[r].translate(e,t);this.changed()}disposeInternal(){this.unlistenGeometriesChange_(),super.disposeInternal()}}function um(n){return n.map(e=>e.clone())}class Sa extends Ma{constructor(e,t){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,t!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendCoordinate(e){Zi(this.flatCoordinates,e),this.changed()}clone(){const e=new Sa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(py(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),my(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,i,r))}forEachSegment(e){return nS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinateAtM(e,t){return this.layout!="XYM"&&this.layout!="XYZM"?null:(t=t!==void 0?t:!1,c0(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t))}getCoordinates(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(e,t){return Jf(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,this.stride)}getLength(){return zy(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(e){const t=[];return t.length=kd(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new Sa(t,"XY")}getType(){return"LineString"}intersectsExtent(e){return Od(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,this.getExtent())}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ld(this.flatCoordinates,0,e,this.stride),this.changed()}}class gc extends Ma{constructor(e,t,i){if(super(),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,t);else if(t!==void 0&&i)this.setFlatCoordinates(t,e),this.ends_=i;else{const r=e,s=[],o=[];for(let u=0,c=r.length;u<c;++u){const f=r[u];Zi(s,f.getFlatCoordinates()),o.push(s.length)}const a=r.length===0?this.getLayout():r[0].getLayout();this.setFlatCoordinates(a,s),this.ends_=o}}appendLineString(e){Zi(this.flatCoordinates,e.getFlatCoordinates().slice()),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new gc(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gy(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),yy(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,i,r))}getCoordinateAtM(e,t,i){return this.layout!="XYM"&&this.layout!="XYZM"||this.flatCoordinates.length===0?null:(t=t!==void 0?t:!1,i=i!==void 0?i:!1,GW(this.flatCoordinates,0,this.ends_,this.stride,e,t,i))}getCoordinates(){return ec(this.flatCoordinates,0,this.ends_,this.stride)}getEnds(){return this.ends_}getLineString(e){return e<0||this.ends_.length<=e?null:new Sa(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLineStrings(){const e=this.flatCoordinates,t=this.ends_,i=this.layout,r=[];let s=0;for(let o=0,a=t.length;o<a;++o){const u=t[o],c=new Sa(e.slice(s,u),i);r.push(c),s=u}return r}getLength(){const e=this.ends_;let t=0,i=0;for(let r=0,s=e.length;r<s;++r)i+=zy(this.flatCoordinates,t,e[r],this.stride),t=e[r];return i}getFlatMidpoints(){const e=[],t=this.flatCoordinates;let i=0;const r=this.ends_,s=this.stride;for(let o=0,a=r.length;o<a;++o){const u=r[o],c=Jf(t,i,u,s,.5);Zi(e,c),i=u}return e}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=eS(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,i),new gc(t,"XY",i)}getType(){return"MultiLineString"}intersectsExtent(e){return z6(this.flatCoordinates,0,this.ends_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Rc(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}class Nc extends Ma{constructor(e,t){super(),t&&!Array.isArray(e[0])?this.setFlatCoordinates(t,e):this.setCoordinates(e,t)}appendPoint(e){Zi(this.flatCoordinates,e.getFlatCoordinates()),this.changed()}clone(){const e=new Nc(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,t,i,r){if(r<Aa(this.getExtent(),e,t))return r;const s=this.flatCoordinates,o=this.stride;for(let a=0,u=s.length;a<u;a+=o){const c=fa(e,t,s[a],s[a+1]);if(c<r){r=c;for(let f=0;f<o;++f)i[f]=s[a+f];i.length=o}}return r}getCoordinates(){return fo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getPoint(e){const t=this.flatCoordinates.length/this.stride;return e<0||t<=e?null:new Is(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)}getPoints(){const e=this.flatCoordinates,t=this.layout,i=this.stride,r=[];for(let s=0,o=e.length;s<o;s+=i){const a=new Is(e.slice(s,s+i),t);r.push(a)}return r}getType(){return"MultiPoint"}intersectsExtent(e){const t=this.flatCoordinates,i=this.stride;for(let r=0,s=t.length;r<s;r+=i){const o=t[r],a=t[r+1];if(ny(e,o,a))return!0}return!1}setCoordinates(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ld(this.flatCoordinates,0,e,this.stride),this.changed()}}class Bl extends Ma{constructor(e,t,i){if(super(),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){const r=e,s=[],o=[];for(let a=0,u=r.length;a<u;++a){const c=r[a],f=s.length,d=c.getEnds();for(let g=0,m=d.length;g<m;++g)d[g]+=f;Zi(s,c.getFlatCoordinates()),o.push(d)}t=r.length===0?this.getLayout():r[0].getLayout(),e=s,i=o}t!==void 0&&i?(this.setFlatCoordinates(t,e),this.endss_=i):this.setCoordinates(e,t)}appendPolygon(e){let t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{const i=this.flatCoordinates.length;Zi(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(let r=0,s=t.length;r<s;++r)t[r]+=i}this.endss_.push(t),this.changed()}clone(){const e=this.endss_.length,t=new Array(e);for(let r=0;r<e;++r)t[r]=this.endss_[r].slice();const i=new Bl(this.flatCoordinates.slice(),this.layout,t);return i.applyProperties(this),i}closestPointXY(e,t,i,r){return r<Aa(this.getExtent(),e,t)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(M6(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),L6(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,i,r))}containsXY(e,t){return N6(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)}getArea(){return P6(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)}getCoordinates(e){let t;return e!==void 0?(t=this.getOrientedFlatCoordinates().slice(),Hm(t,0,this.endss_,this.stride,e)):t=this.flatCoordinates,Vm(t,0,this.endss_,this.stride)}getEndss(){return this.endss_}getFlatInteriorPoints(){if(this.flatInteriorPointsRevision_!=this.getRevision()){const e=mT(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=tS(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_}getInteriorPoints(){return new Nc(this.getFlatInteriorPoints().slice(),"XYM")}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;sS(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Hm(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const t=[],i=[];return t.length=F6(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,i),new Bl(t,"XY",i)}getPolygon(e){if(e<0||this.endss_.length<=e)return null;let t;if(e===0)t=0;else{const s=this.endss_[e-1];t=s[s.length-1]}const i=this.endss_[e].slice(),r=i[i.length-1];if(t!==0)for(let s=0,o=i.length;s<o;++s)i[s]-=t;return new Sr(this.flatCoordinates.slice(t,r),this.layout,i)}getPolygons(){const e=this.layout,t=this.flatCoordinates,i=this.endss_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const u=i[o].slice(),c=u[u.length-1];if(s!==0)for(let d=0,g=u.length;d<g;++d)u[d]-=s;const f=new Sr(t.slice(s,c),e,u);r.push(f),s=c}return r}getType(){return"MultiPolygon"}intersectsExtent(e){return $6(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)}setCoordinates(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);const i=QC(this.flatCoordinates,0,e,this.stride,this.endss_);if(i.length===0)this.flatCoordinates.length=0;else{const r=i[i.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}}const Yb=bi();class Qn{constructor(e,t,i,r,s,o){this.styleFunction,this.extent_,this.id_=o,this.type_=e,this.flatCoordinates_=t,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=s,this.squaredTolerance_,this.stride_=r,this.simplifiedGeometry_}get(e){return this.properties_[e]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?LC(this.flatCoordinates_):iy(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const e=Ni(this.getExtent());this.flatInteriorPoints_=xy(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const e=oS(this.flatCoordinates_,this.ends_),t=mT(this.flatCoordinates_,0,e,2);this.flatInteriorPoints_=tS(this.flatCoordinates_,0,e,2,t)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=Jf(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const e=this.flatCoordinates_;let t=0;const i=this.ends_;for(let r=0,s=i.length;r<s;++r){const o=i[r],a=Jf(e,t,o,2,.5);Zi(this.flatMidpoints_,a),t=o}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(e){return this}simplifyTransformed(e,t){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(e){e=qt(e);const t=e.getExtent(),i=e.getWorldExtent();if(t&&i){const r=Tn(i)/Tn(t);Hr(Yb,i[0],i[3],r,-r,0,0,0),Eo(this.flatCoordinates_,0,this.flatCoordinates_.length,2,Yb,this.flatCoordinates_)}}applyTransform(e){e(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var e;return new Qn(this.type_,this.flatCoordinates_.slice(),(e=this.ends_)==null?void 0:e.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=TC((e,t)=>{if(e===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),t&&this.simplifiedGeometry_.applyTransform(t);const i=this.simplifiedGeometry_.getFlatCoordinates();let r;switch(this.type_){case"LineString":i.length=kd(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,e,i,0),r=[i.length];break;case"MultiLineString":r=[],i.length=eS(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,e,i,0,r);break;case"Polygon":r=[],i.length=_y(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(e),i,0,r);break}return r&&(this.simplifiedGeometry_=new Qn(this.type_,i,r,2,this.properties_,this.id_)),this.squaredTolerance_=e,this.simplifiedGeometry_}),this}}Qn.prototype.getFlatCoordinates=Qn.prototype.getOrientedFlatCoordinates;let WW=!1;function yT(n,e,t,i,r,s,o){const a=new XMLHttpRequest;a.open("GET",typeof n=="function"?n(t,i,r):n,!0),e.getType()=="arraybuffer"&&(a.responseType="arraybuffer"),a.withCredentials=WW,a.onload=function(u){if(!a.status||a.status>=200&&a.status<300){const c=e.getType();try{let f;c=="text"||c=="json"?f=a.responseText:c=="xml"?f=a.responseXML||a.responseText:c=="arraybuffer"&&(f=a.response),f?s(e.readFeatures(f,{extent:t,featureProjection:r}),e.readProjection(f)):o()}catch{o()}}else o()},a.onerror=o,a.send()}function Kb(n,e){return function(t,i,r,s,o){yT(n,e,t,i,r,(a,u)=>{this.addFeatures(a),s!==void 0&&s(a)},()=>{this.changed(),o!==void 0&&o()})}}function qW(n,e){return[[-1/0,-1/0,1/0,1/0]]}function UW(n,e){return[n]}class Zb{constructor(e){this.rbush_=new _S(e),this.items_={}}insert(e,t){const i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(i),this.items_[He(t)]=i}load(e,t){const i=new Array(t.length);for(let r=0,s=t.length;r<s;r++){const o=e[r],a=t[r],u={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:a};i[r]=u,this.items_[He(a)]=u}this.rbush_.load(i)}remove(e){const t=He(e),i=this.items_[t];return delete this.items_[t],this.rbush_.remove(i)!==null}update(e,t){const i=this.items_[He(t)],r=[i.minX,i.minY,i.maxX,i.maxY];Rs(r,e)||(this.remove(t),this.insert(e,t))}getAll(){return this.rbush_.all().map(function(t){return t.value})}getInExtent(e){const t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};return this.rbush_.search(t).map(function(r){return r.value})}forEach(e){return this.forEach_(this.getAll(),e)}forEachInExtent(e,t){return this.forEach_(this.getInExtent(e),t)}forEach_(e,t){let i;for(let r=0,s=e.length;r<s;r++)if(i=t(e[r]),i)return i;return i}isEmpty(){return Co(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(e){const t=this.rbush_.toJSON();return Ts(t.minX,t.minY,t.maxX,t.maxY,e)}concat(e){this.rbush_.load(e.rbush_.all());for(const t in e.items_)this.items_[t]=e.items_[t]}}class Zl extends es{constructor(e){super(),this.projection=qt(e.projection),this.attributions_=Jb(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const t=this;this.viewPromise_=new Promise(function(i,r){t.viewResolver=i,t.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=Jb(e),this.changed()}setState(e){this.state_=e,this.changed()}}function Jb(n){return n?typeof n=="function"?n:(Array.isArray(n)||(n=[n]),e=>n):null}const Vi={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class Js extends tr{constructor(e,t,i){super(e),this.feature=t,this.features=i}}class Wu extends Zl{constructor(e){e=e||{},super({attributions:e.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:e.wrapX!==void 0?e.wrapX:!0}),this.on,this.once,this.un,this.loader_=Zu,this.format_=e.format||null,this.overlaps_=e.overlaps===void 0?!0:e.overlaps,this.url_=e.url,e.loader!==void 0?this.loader_=e.loader:this.url_!==void 0&&(Dt(this.format_,"`format` must be set when `url` is set"),this.loader_=Kb(this.url_,this.format_)),this.strategy_=e.strategy!==void 0?e.strategy:qW;const t=e.useSpatialIndex!==void 0?e.useSpatialIndex:!0;this.featuresRtree_=t?new Zb:null,this.loadedExtentsRtree_=new Zb,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,r;Array.isArray(e.features)?r=e.features:e.features&&(i=e.features,r=i.getArray()),!t&&i===void 0&&(i=new xr(r)),r!==void 0&&this.addFeaturesInternal(r),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(e){this.addFeatureInternal(e),this.changed()}addFeatureInternal(e){const t=He(e);if(!this.addToIndex_(t,e)){this.featuresCollection_&&this.featuresCollection_.remove(e);return}this.setupChangeEvents_(t,e);const i=e.getGeometry();if(i){const r=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new Js(Vi.ADDFEATURE,e))}setupChangeEvents_(e,t){t instanceof Qn||(this.featureChangeKeys_[e]=[At(t,Ve.CHANGE,this.handleFeatureChange_,this),At(t,Ll.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(e,t){let i=!0;if(t.getId()!==void 0){const r=String(t.getId());if(!(r in this.idIndex_))this.idIndex_[r]=t;else if(t instanceof Qn){const s=this.idIndex_[r];s instanceof Qn?Array.isArray(s)?s.push(t):this.idIndex_[r]=[s,t]:i=!1}else i=!1}return i&&(Dt(!(e in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[e]=t),i}addFeatures(e){this.addFeaturesInternal(e),this.changed()}addFeaturesInternal(e){const t=[],i=[],r=[];for(let s=0,o=e.length;s<o;s++){const a=e[s],u=He(a);this.addToIndex_(u,a)&&i.push(a)}for(let s=0,o=i.length;s<o;s++){const a=i[s],u=He(a);this.setupChangeEvents_(u,a);const c=a.getGeometry();if(c){const f=c.getExtent();t.push(f),r.push(a)}else this.nullGeometryFeatures_[u]=a}if(this.featuresRtree_&&this.featuresRtree_.load(t,r),this.hasListener(Vi.ADDFEATURE))for(let s=0,o=i.length;s<o;s++)this.dispatchEvent(new Js(Vi.ADDFEATURE,i[s]))}bindFeaturesCollection_(e){let t=!1;this.addEventListener(Vi.ADDFEATURE,function(i){t||(t=!0,e.push(i.feature),t=!1)}),this.addEventListener(Vi.REMOVEFEATURE,function(i){t||(t=!0,e.remove(i.feature),t=!1)}),e.addEventListener(Wn.ADD,i=>{t||(t=!0,this.addFeature(i.element),t=!1)}),e.addEventListener(Wn.REMOVE,i=>{t||(t=!0,this.removeFeature(i.element),t=!1)}),this.featuresCollection_=e}clear(e){if(e){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Zt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const t=new Js(Vi.CLEAR);this.dispatchEvent(t),this.changed()}forEachFeature(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureAtCoordinateDirect(e,t){const i=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(i,function(r){const s=r.getGeometry();if(s instanceof Qn||s.intersectsCoordinate(e))return t(r)})}forEachFeatureInExtent(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureIntersectingExtent(e,t){return this.forEachFeatureInExtent(e,function(i){const r=i.getGeometry();if(r instanceof Qn||r.intersectsExtent(e)){const s=t(i);if(s)return s}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let e;return this.featuresCollection_?e=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(e=this.featuresRtree_.getAll(),Co(this.nullGeometryFeatures_)||Zi(e,Object.values(this.nullGeometryFeatures_))),e}getFeaturesAtCoordinate(e){const t=[];return this.forEachFeatureAtCoordinateDirect(e,function(i){t.push(i)}),t}getFeaturesInExtent(e,t){if(this.featuresRtree_){if(!(t&&t.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(e);const r=zC(e,t);return[].concat(...r.map(s=>this.featuresRtree_.getInExtent(s)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(e,t){const i=e[0],r=e[1];let s=null;const o=[NaN,NaN];let a=1/0;const u=[-1/0,-1/0,1/0,1/0];return t=t||xa,this.featuresRtree_.forEachInExtent(u,function(c){if(t(c)){const f=c.getGeometry(),d=a;if(a=f instanceof Qn?0:f.closestPointXY(i,r,o,a),a<d){s=c;const g=Math.sqrt(a);u[0]=i-g,u[1]=r-g,u[2]=i+g,u[3]=r+g}}}),s}getExtent(e){return this.featuresRtree_.getExtent(e)}getFeatureById(e){const t=this.idIndex_[e.toString()];return t!==void 0?t:null}getFeatureByUid(e){const t=this.uidIndex_[e];return t!==void 0?t:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(e){const t=e.target,i=He(t),r=t.getGeometry();if(!r)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[i]=t);else{const o=r.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(o,t)):this.featuresRtree_&&this.featuresRtree_.update(o,t)}const s=t.getId();if(s!==void 0){const o=s.toString();this.idIndex_[o]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[o]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[i]=t;this.changed(),this.dispatchEvent(new Js(Vi.CHANGEFEATURE,t))}hasFeature(e){const t=e.getId();return t!==void 0?t in this.idIndex_:He(e)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&Co(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(e,t,i){const r=this.loadedExtentsRtree_,s=this.strategy_(e,t,i);for(let o=0,a=s.length;o<a;++o){const u=s[o];r.forEachInExtent(u,function(f){return bs(f.extent,u)})||(++this.loadingExtentsCount_,this.dispatchEvent(new Js(Vi.FEATURESLOADSTART)),this.loader_.call(this,u,t,i,f=>{--this.loadingExtentsCount_,this.dispatchEvent(new Js(Vi.FEATURESLOADEND,void 0,f))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new Js(Vi.FEATURESLOADERROR))}),r.insert(u,{extent:u.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(e){const t=this.loadedExtentsRtree_,i=t.forEachInExtent(e,function(r){if(Rs(r.extent,e))return r});i&&t.remove(i)}removeFeatures(e){let t=!1;for(let i=0,r=e.length;i<r;++i)t=this.removeFeatureInternal(e[i])||t;t&&this.changed()}removeFeature(e){if(!e)return;this.removeFeatureInternal(e)&&this.changed()}removeFeatureInternal(e){const t=He(e);if(!(t in this.uidIndex_))return!1;t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e);const i=this.featureChangeKeys_[t];i==null||i.forEach(Zt),delete this.featureChangeKeys_[t];const r=e.getId();if(r!==void 0){const s=r.toString(),o=this.idIndex_[s];o===e?delete this.idIndex_[s]:Array.isArray(o)&&(o.splice(o.indexOf(e),1),o.length===1&&(this.idIndex_[s]=o[0]))}return delete this.uidIndex_[t],this.hasListener(Vi.REMOVEFEATURE)&&this.dispatchEvent(new Js(Vi.REMOVEFEATURE,e)),!0}removeFromIdIndex_(e){for(const t in this.idIndex_)if(this.idIndex_[t]===e){delete this.idIndex_[t];break}}setLoader(e){this.loader_=e}setUrl(e){Dt(this.format_,"`format` must be set when `url` is set"),this.url_=e,this.setLoader(Kb(e,this.format_))}setOverlaps(e){this.overlaps_=e,this.changed()}}class jW extends Oy{constructor(e,t,i,r,s){const o=s!==void 0?Ce.IDLE:Ce.LOADED;super(e,t,i,o),this.loader_=s!==void 0?s:null,this.canvas_=r,this.error_=null}getError(){return this.error_}handleLoad_(e){e?(this.error_=e,this.state=Ce.ERROR):this.state=Ce.LOADED,this.changed()}load(){this.state==Ce.IDLE&&(this.state=Ce.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))}getImage(){return this.canvas_}}class zc extends Ec{constructor(e,t,i){super(),i=i||{},this.tileCoord=e,this.state=t,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(Ve.CHANGE)}release(){this.setState(ye.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==ye.EMPTY){if(this.state!==ye.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}}load(){Ye()}getAlpha(e,t){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=t,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=t-i+1e3/60;return r>=this.transition_?1:$C(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}class _T extends zc{constructor(e,t,i,r,s,o){super(e,t,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=ye.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=ye.ERROR,this.unlistenImage_(),this.image_=VW(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=ye.LOADED:this.state=ye.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==ye.ERROR&&(this.state=ye.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==ye.IDLE&&(this.state=ye.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=lB(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function VW(){const n=dn(1,1);return n.fillStyle="rgba(0,0,0,0)",n.fillRect(0,0,1,1),n.canvas}class c_{constructor(e,t,i,r){this.minX=e,this.maxX=t,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function tl(n,e,t,i,r){return r!==void 0?(r.minX=n,r.maxX=e,r.minY=t,r.maxY=i,r):new c_(n,e,t,i)}const Qb=[];class HW extends zc{constructor(e,t,i,r,s){super(e,t,{transition:0}),this.context_=null,this.executorGroups={},this.loadingSourceTiles=0,this.hitDetectionImageData={},this.replayState_={},this.sourceTiles=[],this.errorTileKeys={},this.wantedResolution,this.getSourceTiles=r.bind(void 0,this),this.removeSourceTiles_=s,this.wrappedTileCoord=i}getContext(){return this.context_||(this.context_=dn(1,1,Qb)),this.context_}hasContext(){return!!this.context_}getImage(){return this.hasContext()?this.getContext().canvas:null}getReplayState(e){const t=He(e);return t in this.replayState_||(this.replayState_[t]={dirty:!1,renderedRenderOrder:null,renderedResolution:NaN,renderedRevision:-1,renderedTileResolution:NaN,renderedTileRevision:-1,renderedTileZ:-1}),this.replayState_[t]}load(){this.getSourceTiles()}release(){this.context_&&(Ac(this.context_),Qb.push(this.context_.canvas),this.context_=null),this.removeSourceTiles_(this),this.sourceTiles.length=0,super.release()}}let vT=class extends zc{constructor(e,t,i,r,s,o){super(e,t,o),this.extent=null,this.format_=r,this.features_=null,this.loader_,this.projection=null,this.resolution,this.tileLoadFunction_=s,this.url_=i,this.key=i}getTileUrl(){return this.url_}getFormat(){return this.format_}getFeatures(){return this.features_}load(){this.state==ye.IDLE&&(this.setState(ye.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_&&this.loader_(this.extent,this.resolution,this.projection))}onLoad(e,t){this.setFeatures(e)}onError(){this.setState(ye.ERROR)}setFeatures(e){this.features_=e,this.setState(ye.LOADED)}setLoader(e){this.loader_=e}};const xT="https://api.mapbox.com";function h_(n){const e="mapbox://";return n.indexOf(e)!==0?"":n.slice(e.length)}function XW(n,e,t){if(typeof n=="string")return[{id:"default",url:ew(n,e,t)}];for(const i of n)i.url=ew(i.url,e,t);return n}function ew(n,e,t){const i=h_(n);if(!i)return decodeURI(new URL(n,t).href);const r="sprites/";if(i.indexOf(r)!==0)throw new Error(`unexpected sprites url: ${n}`);const s=i.slice(r.length);return`${xT}/styles/v1/${s}/sprite?access_token=${e}`}function ed(n,e){const t=h_(n);if(!t)return decodeURI(new URL(n,location.href).href);const i="styles/";if(t.indexOf(i)!==0)throw new Error(`unexpected style url: ${n}`);const r=t.slice(i.length);return`${xT}/styles/v1/${r}?&access_token=${e}`}const YW=["a","b","c","d"];function yf(n,e,t,i){const r=new URL(n,i||location.href),s=h_(n);if(!s)return e?(r.searchParams.has(t)||r.searchParams.set(t,e),[decodeURI(r.href)]):[decodeURI(r.href)];if(s==="mapbox.satellite"){const o=window.devicePixelRatio>=1.5?"@2x":"";return[`https://api.mapbox.com/v4/${s}/{z}/{x}/{y}${o}.webp?access_token=${e}`]}return YW.map(o=>`https://${o}.tiles.mapbox.com/v4/${s}/{z}/{x}/{y}.vector.pbf?access_token=${e}`)}const vr=Object.freeze({}),tw={},nw={};let KW=0;function f_(n){return n.id||(n.id=KW++),n.id}function ZW(n,e){return f_(n)+"."+He(e)}function bT(n){let e=tw[n.id];return e||(e={},tw[f_(n)]=e),e}function JW(n){let e=nw[n.id];return e||(e={},nw[f_(n)]=e),e}function cm(n){return n*Math.PI/180}const Vr=function(){const n=[];for(let e=78271.51696402048;n.length<=24;e/=2)n.push(e);return n}();function rp(n,e){if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof OffscreenCanvas<"u")return new OffscreenCanvas(n,e);const t=document.createElement("canvas");return t.width=n,t.height=e,t}function d_(n,e){let t=0;const i=e.length;for(;t<i;++t)if(e[t]<n&&t+1<i){const s=e[t]/e[t+1];return t+Math.log(e[t]/n)/Math.log(s)}return i-1}function Nu(n,e){const t=Math.floor(n),i=Math.pow(2,n-t);return e[t]/i}const nl={};function Gl(n,e,t={},i){if(e in nl)return i&&(i.url=nl[e][0].url),nl[e][1];const r=t.transformRequest&&t.transformRequest(e,n)||e,s=function(u){return delete nl[e],Promise.reject(new Error("Error fetching source "+e))},o=function(u){return delete nl[e],u.ok?u.json():Promise.reject(new Error("Error fetching source "+e))},a=kl(()=>r).then(u=>u instanceof Response?(i&&(i.url=u.url),o(u)):(u instanceof Request||(u=new Request(u)),u.headers.get("Accept")||u.headers.set("Accept","application/json"),i&&(i.url=u.url),fetch(u).then(o).catch(s))).catch(s);return nl[e]=[r,a],a}function wT(n,e){if(typeof n=="string")if(n.trim().startsWith("{"))try{const t=JSON.parse(n);return Promise.resolve(t)}catch(t){return Promise.reject(t)}else return n=ed(n,e.accessToken),Gl("Style",n,e);else return Promise.resolve(n)}const iw={};function ET(n,e,t={}){const i=[e,JSON.stringify(n)].toString();let r=iw[i];if(!r||t.transformRequest){let s;t.transformRequest&&(s=(a,u)=>{const c=t.transformRequest&&t.transformRequest(u,"Tiles")||u;if(a instanceof vT)a.setLoader((f,d,g)=>{const m=function(y){y.arrayBuffer().then(v=>{const C=a.getFormat().readFeatures(v,{extent:f,featureProjection:g});a.setFeatures(C)})};kl(()=>c).then(y=>{if(y instanceof Response)return m(y);fetch(y).then(m).catch(v=>a.setState(ye.ERROR))}).catch(y=>a.setState(ye.ERROR))});else{const f=a.getImage();kl(()=>c).then(d=>{if(typeof d=="string"){f.src=d;return}const g=m=>m.blob().then(y=>{const v=URL.createObjectURL(y);f.addEventListener("load",()=>URL.revokeObjectURL(v)),f.addEventListener("error",()=>URL.revokeObjectURL(v)),f.src=v});if(d instanceof Response)return g(d);fetch(d).then(g).catch(m=>a.setState(ye.ERROR))}).catch(d=>a.setState(ye.ERROR))}});const o=n.url;if(o&&!n.tiles){const a=yf(o,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(o.startsWith("mapbox://"))r=Promise.resolve({tileJson:Object.assign({},n,{url:void 0,tiles:a}),tileLoadFunction:s});else{const u={};r=Gl("Source",a[0],t,u).then(function(c){return c.tiles=c.tiles.map(function(f){return c.scheme==="tms"&&(f=f.replace("{y}","{-y}")),yf(f,t.accessToken,t.accessTokenParam||"access_token",u.url)[0]}),Promise.resolve({tileJson:c,tileLoadFunction:s})})}}else n.tiles?(n=Object.assign({},n,{tiles:n.tiles.map(function(a){return n.scheme==="tms"&&(a=a.replace("{y}","{-y}")),yf(a,t.accessToken,t.accessTokenParam||"access_token",e||location.href)[0]})}),r=Promise.resolve({tileJson:Object.assign({},n),tileLoadFunction:s})):r=Promise.reject(new Error("source has no `tiles` nor `url`"));iw[i]=r}return r}function rw(n,e,t,i){const r=[2*t*e.pixelRatio+e.width,2*t*e.pixelRatio+e.height],s=rp(r[0],r[1]),o=s.getContext("2d");o.drawImage(n,e.x,e.y,e.width,e.height,t*e.pixelRatio,t*e.pixelRatio,e.width,e.height);const a=o.getImageData(0,0,r[0],r[1]);o.globalCompositeOperation="destination-over",o.fillStyle=`rgba(${i.r*255},${i.g*255},${i.b*255},${i.a})`;const u=a.data;for(let c=0,f=a.width;c<f;++c)for(let d=0,g=a.height;d<g;++d){const m=(d*f+c)*4;u[m+3]>0&&o.arc(c,d,t*e.pixelRatio,0,2*Math.PI)}return o.fill(),s}function QW(n,e,t){const i=Math.max(0,Math.min(1,(t-n)/(e-n)));return i*i*(3-2*i)}function sw(n,e,t){const i=rp(e.width,e.height),r=i.getContext("2d");r.drawImage(n,e.x,e.y,e.width,e.height,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),o=s.data;for(let a=0,u=s.width;a<u;++a)for(let c=0,f=s.height;c<f;++c){const d=(c*u+a)*4,g=o[d+3]/255,m=.75,y=.1,v=QW(m-y,m+y,g);v>0?(o[d+0]=Math.round(255*t.r*v),o[d+1]=Math.round(255*t.g*v),o[d+2]=Math.round(255*t.b*v),o[d+3]=Math.round(255*v)):o[d+3]=0}return r.putImageData(s,0,0),i}const eq=Array(256).join(" ");function h0(n,e){if(e>=.05){let t="";const i=n.split(`
`),r=eq.slice(0,Math.round(e/.1));for(let s=0,o=i.length;s<o;++s)s>0&&(t+=`
`),t+=i[s].split("").join(r);return t}return n}let hm;function CT(){return hm||(hm=rp(1,1).getContext("2d")),hm}function Ho(n,e){return CT().measureText(n).width+(n.length-1)*e}const td={};Ko.on("propertychange",()=>{for(const n in td)delete td[n]});function f0(n,e,t,i){if(n.indexOf(`
`)!==-1){const o=n.split(`
`),a=[];for(let u=0,c=o.length;u<c;++u)a.push(f0(o[u],e,t,i));return a.join(`
`)}const r=t+","+e+","+n+","+i;let s=td[r];if(!s){const o=n.split(" ");if(o.length>1){const a=CT();a.font=e;const c=a.measureText("M").width*t;let f="";const d=[];for(let g=0,m=o.length;g<m;++g){const y=o[g],v=f+(f?" ":"")+y;Ho(v,i)<=c?f=v:(f&&d.push(f),f=y)}f&&d.push(f);for(let g=0,m=d.length;g<m&&m>1;++g){const y=d[g];if(Ho(y,i)<c*.35){const v=g>0?Ho(d[g-1],i):1/0,x=g<m-1?Ho(d[g+1],i):1/0;d.splice(g,1),m-=1,v<x?(d[g-1]+=" "+y,g-=1):d[g]=y+" "+d[g]}}for(let g=0,m=d.length-1;g<m;++g){const y=d[g],v=d[g+1];if(Ho(y,i)>c*.7&&Ho(v,i)<c*.6){const x=y.split(" "),C=x.pop();Ho(C,i)<c*.2&&(d[g]=x.join(" "),d[g+1]=C+" "+v),m-=1}}s=d.join(`
`)}else s=n;s=h0(s,i),td[r]=s}return s}const tq=["Arial","Courier New","Times New Roman","Verdana","sans-serif","serif","monospace","cursive","fantasy"],ow={};function nq(n,e="https://cdn.jsdelivr.net/npm/@fontsource/{font-family}/{fontweight}{-fontstyle}.css"){let t;for(let i=0,r=n.length;i<r;++i){const s=n[i];if(s in ow)continue;ow[s]=!0;const a=u0(s,16).split(" ");t||(t=[]),t.push([a.slice(3).join(" ").replace(/"/g,""),a[1],a[0]])}return t&&(async()=>{await document.fonts.ready;for(let i=0,r=t.length;i<r;++i){const s=t[i],o=s[0];if(tq.includes(o))continue;const a=s[1],u=s[2];if(!(await document.fonts.load(`${u} ${a} 16px "${o}"`)).some(f=>f.family.replace(/^['"]|['"]$/g,"").toLowerCase()===o.toLowerCase()&&f.weight==a&&f.style===u)){const f=e.replace("{font-family}",o.replace(/ /g,"-").toLowerCase()).replace("{Font+Family}",o.replace(/ /g,"+")).replace("{fontweight}",a).replace("{-fontstyle}",u.replace("normal","").replace(/(.+)/,"-$1")).replace("{fontstyle}",u);if(!document.querySelector('link[href="'+f+'"]')){const d=document.createElement("link");d.href=f,d.rel="stylesheet",document.head.appendChild(d)}}}})(),n}const iq={Point:1,MultiPoint:1,LineString:2,MultiLineString:2,Polygon:3,MultiPolygon:3},rq={center:[.5,.5],left:[0,.5],right:[1,.5],top:[.5,0],bottom:[.5,1],"top-left":[0,0],"top-right":[1,0],"bottom-left":[0,1],"bottom-right":[1,1]},sq=function(n,e){const t=RW(n,e);if(t.result==="error")throw new Error(t.value.map(i=>`${i.key}: ${i.message}`).join(", "));return t.value},Fi={zoom:0,distanceFromCenter:0};ki.register(np,{...ki.definitions,pitch:[{kind:"number"},[],n=>Fi.pitch||90],"distance-from-center":[{kind:"number"},[],n=>Fi.distanceFromCenter||0]});let af,fm;function Ie(n,e,t,i,r,s){const o=n.id;r||(r={},console.warn("No functionCache provided to getValue()")),r[o]||(r[o]={});const a=r[o];if(!a[t]){let u=(n[e]||vr)[t];const c=BW[`${e}_${n.type}`][t];u===void 0&&(u=c.default);let f=TW(u);if(!f&&fT(u)&&(u=OW(u,c),f=!0),f){const d=sq(u,c);a[t]=d.evaluate.bind(d)}else c.type=="color"&&(u=Wt.parse(u)),a[t]=function(){return u}}return a[t](Fi,i,s)}function aw(n,e,t,i){return Ie(n,"layout",`${t}-allow-overlap`,e,i)?Ie(n,"layout",`${t}-ignore-placement`,e,i)?"none":"obstacle":"declutter"}function oq(n,e,t,i){if(i||console.warn("No filterCache provided to evaluateFilter()"),!(n in i))try{i[n]=MW(e).filter}catch(r){console.warn("Filter will evaluate to false: "+r.message),i[n]=function(){return!1}}return i[n](Fi,t)}function io(n,e){if(n){if(n.a===0||e===0)return;const t=n.a;return e=e===void 0?1:e,t===0?"transparent":"rgba("+Math.round(n.r*255/t)+","+Math.round(n.g*255/t)+","+Math.round(n.b*255/t)+","+t*e+")"}return n}const aq=/\{[^{}}]*\}/g;function dm(n,e){return n.replace(aq,function(t){return e[t.slice(1,-1)]||""})}function lw(n,e){let t=n.split(":")[0];return t===n&&(t="default"),e[t]}const lq={};function uq(n,e,t,i=Vr,r=void 0,s=void 0,o=void 0,a=void 0){if(typeof e=="string"&&(e=JSON.parse(e)),e.version!=8)throw new Error("glStyle version 8 required.");lq[ZW(e,n)]=Array.from(arguments);const u={};(typeof s=="string"||s instanceof Request||s instanceof Response||s instanceof Promise)&&(s={default:s});for(const T in s){const F=s[T];kl(()=>F).then(async O=>{let N;if(typeof Image<"u"){const M=new Image;if(typeof O=="string")M.crossOrigin="anonymous",M.src=O;else{let W;O instanceof Request?W=await fetch(O):O instanceof Response&&(W=O);const B=await W.blob();N=URL.createObjectURL(B),M.src=N}M.addEventListener("load",function W(){M.removeEventListener("load",W),u[T]={image:M,size:[M.width,M.height]},n.changed(),N&&URL.revokeObjectURL(N)}),M.addEventListener("error",function W(){URL.revokeObjectURL(N),M.removeEventListener("error",W)})}else if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){const M=self;M.postMessage({action:"loadImage",src:O}),M.addEventListener("message",function(B){B.data.action==="imageLoaded"&&B.data.src===O&&(u[T]={image:B.data.image,size:[B.data.image.width,B.data.image.height]})})}})}const c=VS(e.layers),f={},d=[],g={},m={},y=bT(e),v=JW(e);let x;for(let T=0,F=c.length;T<F;++T){const O=c[T],N=O.id;if(typeof t=="string"&&O.source==t||Array.isArray(t)&&t.indexOf(N)!==-1){const M=O["source-layer"];if(x){if(O.source!==x)throw new Error(`Layer "${N}" does not use source "${x}`)}else{x=O.source;const B=e.sources[x];if(!B)throw new Error(`Source "${x}" is not defined`);const z=B.type;if(z!=="vector"&&z!=="geojson")throw new Error(`Source "${x}" is not of type "vector" or "geojson", but "${z}"`)}let W=f[M];W||(W=[],f[M]=W),W.push({layer:O,index:T}),d.push(N)}}const C=new ci,E=new ui,S=[],R=function(T,F,O){var Y,te,ne;const N=((ne=(te=(Y=n.getSource)==null?void 0:Y.call(n))==null?void 0:te.format_)==null?void 0:ne.layerName_)??"mvt:layer",M=T.getProperties(),W=f[M[N]];if(!W)return;let B=i.indexOf(F);B==-1&&(B=d_(F,i)),Fi.zoom=B,Fi.distanceFromCenter=0;const z=T.getGeometry(),V=iq[z.getType()],Z=n.get("map");if(Z&&Z instanceof Wd&&V===1){const me=Z.getSize();if(me){const he=Z.getView().getCenter(),Ue=Ni(z.getExtent());Fi.distanceFromCenter=$4(he,Ue)/F/me[1]}}const G={id:T.getId(),properties:M,type:V},j=n.get("mapbox-featurestate")[T.getId()];let q=-1;for(let me=0,he=W.length;me<he;++me){const Ue=W[me],oe=Ue.layer,Me=oe.id;if(O!==void 0&&O!==Me)continue;const ct=oe.layout||vr,De=oe.paint||vr;if(ct.visibility==="none"||"minzoom"in oe&&B<oe.minzoom||"maxzoom"in oe&&B>=oe.maxzoom)continue;const Re=oe.filter;if(!Re||oq(Me,Re,G,v)){let Se,ht,Bt,Ct,Jt,pe;const Ne=Ue.index;if(V==3&&(oe.type=="fill"||oe.type=="fill-extrusion"))if(ht=Ie(oe,"paint",oe.type+"-opacity",G,y,j),oe.type+"-pattern"in De){const je=Ie(oe,"paint",oe.type+"-pattern",G,y,j);if(je){const Ae=typeof je=="string"?dm(je,M):je.toString(),Le=lw(Ae,u);if(r&&r[Ae]&&Le){++q,pe=S[q],(!pe||!pe.getFill()||pe.getStroke()||pe.getText())&&(pe=new Sn({fill:new ui}),S[q]=pe),Bt=pe.getFill(),pe.setZIndex(Ne);const Ee=Ae+"."+ht;let _t=m[Ee];if(!_t){const $e=r[Ae],Be=rp($e.width,$e.height),Qe=Be.getContext("2d");Qe.globalAlpha=ht,Qe.drawImage(Le.image,$e.x,$e.y,$e.width,$e.height,0,0,$e.width,$e.height),_t=Qe.createPattern(Be,"repeat"),m[Ee]=_t}Bt.setColor(_t)}}}else Se=io(Ie(oe,"paint",oe.type+"-color",G,y,j),ht),oe.type+"-outline-color"in De&&(Jt=io(Ie(oe,"paint",oe.type+"-outline-color",G,y,j),ht)),Jt||(Jt=Se),(Se||Jt)&&(++q,pe=S[q],(!pe||Se&&!pe.getFill()||!Se&&pe.getFill()||Jt&&!pe.getStroke()||!Jt&&pe.getStroke()||pe.getText())&&(pe=new Sn({fill:Se?new ui:void 0,stroke:Jt?new ci:void 0}),S[q]=pe),Se&&(Bt=pe.getFill(),Bt.setColor(Se)),Jt&&(Ct=pe.getStroke(),Ct.setColor(Jt),Ct.setWidth(.5)),pe.setZIndex(Ne));if(V!=1&&oe.type=="line"){"line-pattern"in De?Se=void 0:Se=io(Ie(oe,"paint","line-color",G,y,j),Ie(oe,"paint","line-opacity",G,y,j));const je=Ie(oe,"paint","line-width",G,y,j);Se&&je>0&&(++q,pe=S[q],(!pe||!pe.getStroke()||pe.getFill()||pe.getText())&&(pe=new Sn({stroke:new ci}),S[q]=pe),Ct=pe.getStroke(),Ct.setLineCap(Ie(oe,"layout","line-cap",G,y,j)),Ct.setLineJoin(Ie(oe,"layout","line-join",G,y,j)),Ct.setMiterLimit(Ie(oe,"layout","line-miter-limit",G,y,j)),Ct.setColor(Se),Ct.setWidth(je),Ct.setLineDash(De["line-dasharray"]?Ie(oe,"paint","line-dasharray",G,y,j).map(function(Ae){return Ae*je}):null),pe.setZIndex(Ne))}let be=!1,ke=null,Ke=0,tn,ft,k;if((V==1||V==2)&&"icon-image"in ct){const je=Ie(oe,"layout","icon-image",G,y,j);if(je){tn=typeof je=="string"?dm(je,M):je.toString();let Ae;const Le=a?a(n,tn):void 0,Ee=lw(tn,u);if(r&&r[tn]&&Ee||Le){const _t=Ie(oe,"layout","icon-rotation-alignment",G,y,j);if(V==2){const $e=T.getGeometry();if($e.getFlatMidpoint||$e.getFlatMidpoints){const Be=$e.getExtent();if(Math.sqrt(Math.max(Math.pow((Be[2]-Be[0])/F,2),Math.pow((Be[3]-Be[1])/F,2)))>150){const St=$e.getType()==="MultiLineString"?$e.getFlatMidpoints():$e.getFlatMidpoint();if(fm||(af=[NaN,NaN],fm=new Qn("Point",af,[],2,{},void 0)),Ae=fm,af[0]=St[0],af[1]=St[1],Ie(oe,"layout","symbol-placement",G,y,j)==="line"&&_t==="map"){const pn=$e.getStride(),kt=$e.getFlatCoordinates();for(let Ot=0,st=kt.length-pn;Ot<st;Ot+=pn){const wt=kt[Ot],Ht=kt[Ot+1],Mt=kt[Ot+pn],Nt=kt[Ot+pn+1],Rn=Math.min(wt,Mt),ln=Math.max(wt,Mt),gn=St[0],Yt=St[1],kn=(Nt-Ht)*(gn-wt)-(Mt-wt)*(Yt-Ht);if(Math.abs(kn)<.001&&gn<=ln&&gn>=Rn){Ke=Math.atan2(Ht-Nt,Mt-wt);break}}}}}}if(V!==2||Ae){const $e=Ie(oe,"layout","icon-size",G,y,j),Be=De["icon-color"]!==void 0?Ie(oe,"paint","icon-color",G,y,j):null;if(!Be||Be.a!==0){const Qe=Ie(oe,"paint","icon-halo-color",G,y,j),St=Ie(oe,"paint","icon-halo-width",G,y,j);let Xt=`${tn}.${$e}.${St}.${Qe}`;if(Be!==null&&(Xt+=`.${Be}`),ft=g[Xt],!ft){const pn=aw(oe,G,"icon",y);let kt;"icon-offset"in ct&&(kt=Ie(oe,"layout","icon-offset",G,y,j).slice(0),kt[0]*=$e,kt[1]*=-$e);let Ot=Be?[Be.r*255,Be.g*255,Be.b*255,Be.a]:void 0;if(Le){const st={color:Ot,rotateWithView:_t==="map",displacement:kt,declutterMode:pn,scale:$e};typeof Le=="string"?st.src=Le:(st.img=Le,st.imgSize=[Le.width,Le.height]),ft=new Ca(st)}else{const st=r[tn];let wt,Ht,Mt;if(St)st.sdf?(wt=rw(sw(Ee.image,st,Be||[0,0,0,1]),{x:0,y:0,width:st.width,height:st.height,pixelRatio:st.pixelRatio},St,Qe),Ot=void 0):wt=rw(Ee.image,st,St,Qe);else{if(st.sdf&&!Ee.unSDFed){const Nt=sw(Ee.image,{x:0,y:0,width:Ee.size[0],height:Ee.size[1]},{r:1,g:1,b:1});Ee.image=Nt,Ee.unSDFed=!0}wt=Ee.image,Ht=[st.width,st.height],Mt=[st.x,st.y]}ft=new Ca({color:Ot,img:wt,imgSize:Ee.size,size:Ht,offset:Mt,rotateWithView:_t==="map",scale:$e/st.pixelRatio,displacement:kt,declutterMode:pn})}g[Xt]=ft}}ft&&(++q,pe=S[q],(!pe||!pe.getImage()||pe.getFill()||pe.getStroke())&&(pe=new Sn,S[q]=pe),pe.setGeometry(Ae),ft.setRotation(Ke+cm(Ie(oe,"layout","icon-rotate",G,y,j))),ft.setOpacity(Ie(oe,"paint","icon-opacity",G,y,j)),ft.setAnchor(rq[Ie(oe,"layout","icon-anchor",G,y,j)]),pe.setImage(ft),ke=pe.getText(),pe.setText(void 0),pe.setZIndex(Ne),be=!0,k=!1)}else k=!0}}}if(V==1&&oe.type==="circle"){++q,pe=S[q],(!pe||!pe.getImage()||pe.getFill()||pe.getStroke())&&(pe=new Sn,S[q]=pe);const je="circle-radius"in De?Ie(oe,"paint","circle-radius",G,y,j):5,Ae=io(Ie(oe,"paint","circle-stroke-color",G,y,j),Ie(oe,"paint","circle-stroke-opacity",G,y,j)),Le=Ie(oe,"paint","circle-translate",G,y,j),Ee=io(Ie(oe,"paint","circle-color",G,y,j),Ie(oe,"paint","circle-opacity",G,y,j)),_t=Ie(oe,"paint","circle-stroke-width",G,y,j),$e=je+"."+Ae+"."+Ee+"."+_t+"."+Le[0]+"."+Le[1];ft=g[$e],ft||(ft=new Ao({radius:je,displacement:[Le[0],-Le[1]],stroke:Ae&&_t>0?new ci({width:_t,color:Ae}):void 0,fill:Ee?new ui({color:Ee}):void 0,declutterMode:"none"}),g[$e]=ft),pe.setImage(ft),ke=pe.getText(),pe.setText(void 0),pe.setGeometry(void 0),pe.setZIndex(Ne),be=!0}let Ze,ze,bn,Ut,an,bt;if("text-field"in ct){Ut=Math.round(Ie(oe,"layout","text-size",G,y,j));const je=Ie(oe,"layout","text-font",G,y,j);bn=Ie(oe,"layout","text-line-height",G,y,j),ze=u0(o?o(je,e.metadata?e.metadata["ol:webfonts"]:void 0):je,Ut,bn),ze.includes("sans-serif")||(ze+=",sans-serif"),an=Ie(oe,"layout","text-letter-spacing",G,y,j),bt=Ie(oe,"layout","text-max-width",G,y,j);const Ae=Ie(oe,"layout","text-field",G,y,j);typeof Ae=="object"&&Ae.sections?Ae.sections.length===1?Ze=Ae.toString():Ze=Ae.sections.reduce((Le,Ee,_t)=>{const $e=Ee.fontStack?Ee.fontStack.split(","):je,Be=u0(o?o($e):$e,Ut*(Ee.scale||1),bn);let Qe=Ee.text;if(Qe===`
`)return Le.push(`
`,""),Le;if(V==2)return Le.push(h0(Qe,an),Be),Le;Qe=f0(Qe,Be,bt,an).split(`
`);for(let St=0,Xt=Qe.length;St<Xt;++St)St>0&&Le.push(`
`,""),Le.push(Qe[St],Be);return Le},[]):Ze=dm(Ae,M).trim(),ht=Ie(oe,"paint","text-opacity",G,y,j)}if(Ze&&ht&&!k){be||(++q,pe=S[q],(!pe||!pe.getText()||pe.getFill()||pe.getStroke())&&(pe=new Sn,S[q]=pe),pe.setImage(void 0),pe.setGeometry(void 0));const je=aw(oe,G,"text",y);pe.getText()||pe.setText(ke),ke=pe.getText(),(!ke||"getDeclutterMode"in ke&&ke.getDeclutterMode()!==je)&&(ke=new $d({padding:[2,2,2,2],declutterMode:je}),pe.setText(ke));const Ae=Ie(oe,"layout","text-transform",G,y,j);Ae=="uppercase"?Ze=Array.isArray(Ze)?Ze.map((Mt,Nt)=>Nt%2?Mt:Mt.toUpperCase()):Ze.toUpperCase():Ae=="lowercase"&&(Ze=Array.isArray(Ze)?Ze.map((Mt,Nt)=>Nt%2?Mt:Mt.toLowerCase()):Ze.toLowerCase());const Le=Array.isArray(Ze)?Ze:V==2?h0(Ze,an):f0(Ze,ze,bt,an);if(ke.setText(Le),ke.setFont(ze),ke.setRotation(cm(Ie(oe,"layout","text-rotate",G,y,j))),typeof ke.setKeepUpright=="function"){const Mt=Ie(oe,"layout","text-keep-upright",G,y,j);ke.setKeepUpright(Mt)}const Ee=Ie(oe,"layout","text-anchor",G,y,j),_t=be||V==1?"point":Ie(oe,"layout","symbol-placement",G,y,j);let $e;if(_t==="line-center"?(ke.setPlacement("line"),$e="center"):ke.setPlacement(_t),_t==="line"&&typeof ke.setRepeat=="function"){const Mt=Ie(oe,"layout","symbol-spacing",G,y,j);ke.setRepeat(Mt*2)}ke.setOverflow(_t==="point");let Be=Ie(oe,"paint","text-halo-width",G,y,j);const Qe=Ie(oe,"layout","text-offset",G,y,j),St=Ie(oe,"paint","text-translate",G,y,j);let Xt=0,pn=0;if(_t=="point"){$e="center",Ee.indexOf("left")!==-1?($e="left",pn=Be):Ee.indexOf("right")!==-1&&($e="right",pn=-Be);const Mt=Ie(oe,"layout","text-rotation-alignment",G,y,j);ke.setRotateWithView(Mt=="map")}else ke.setMaxAngle(cm(Ie(oe,"layout","text-max-angle",G,y,j))*Ze.length/Le.length),ke.setRotateWithView(!1);ke.setTextAlign($e);let kt="middle";Ee.indexOf("bottom")==0?(kt="bottom",Xt=-Be-.5*(bn-1)*Ut):Ee.indexOf("top")==0&&(kt="top",Xt=Be+.5*(bn-1)*Ut),ke.setTextBaseline(kt);const Ot=Ie(oe,"layout","text-justify",G,y,j);ke.setJustify(Ot==="auto"?void 0:Ot),ke.setOffsetX(Qe[0]*Ut+pn+St[0]),ke.setOffsetY(Qe[1]*Ut+Xt+St[1]),E.setColor(io(Ie(oe,"paint","text-color",G,y,j),ht)),ke.setFill(E);const st=io(Ie(oe,"paint","text-halo-color",G,y,j),ht);if(st&&Be>0){C.setColor(st),Be*=2;const Mt=.5*Ut;C.setWidth(Be<=Mt?Be:Mt),ke.setStroke(C)}else ke.setStroke(void 0);const wt=Ie(oe,"layout","text-padding",G,y,j),Ht=ke.getPadding();wt!==Ht[0]&&(Ht[0]=wt,Ht[1]=wt,Ht[2]=wt,Ht[3]=wt),pe.setZIndex(Ne)}}}if(q>-1)return S.length=q+1,S};return n.setStyle(R),n.set("mapbox-layers",d),n.set("mapbox-source",x),n.set("mapbox-featurestate",n.get("mapbox-featurestate")||{}),R}class ST{constructor(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0,this.featureClass=As,this.supportedMediaTypes=null}getReadOptions(e,t){if(t){let i=t.dataProjection?qt(t.dataProjection):this.readProjection(e);t.extent&&i&&i.getUnits()==="tile-pixels"&&(i=qt(i),i.setWorldExtent(t.extent)),t={dataProjection:i,featureProjection:t.featureProjection}}return this.adaptOptions(t)}adaptOptions(e){return Object.assign({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection,featureClass:this.featureClass},e)}getType(){return Ye()}readFeature(e,t){return Ye()}readFeatures(e,t){return Ye()}readGeometry(e,t){return Ye()}readProjection(e){return Ye()}writeFeature(e,t){return Ye()}writeFeatures(e,t){return Ye()}writeGeometry(e,t){return Ye()}}function sp(n,e,t){const i=t?qt(t.featureProjection):null,r=t?qt(t.dataProjection):null;let s=n;if(i&&r&&!wo(i,r)){e&&(s=n.clone());const o=e?i:r,a=e?r:i;o.getUnits()==="tile-pixels"?s.transform(o,a):s.applyTransform(Qu(o,a))}if(e&&t&&t.decimals!==void 0){const o=Math.pow(10,t.decimals),a=function(u){for(let c=0,f=u.length;c<f;++c)u[c]=Math.round(u[c]*o)/o;return u};s===n&&(s=n.clone()),s.applyTransform(a)}return s}const cq={Point:Is,LineString:Sa,Polygon:Sr,MultiPoint:Nc,MultiLineString:gc,MultiPolygon:Bl};function hq(n,e,t){return Array.isArray(e[0])?(sS(n,0,e,t)||(n=n.slice(),Hm(n,0,e,t)),n):(wy(n,0,e,t)||(n=n.slice(),Df(n,0,e,t)),n)}function TT(n,e){var s;const t=n.geometry;if(!t)return[];if(Array.isArray(t))return t.map(o=>TT({...n,geometry:o})).flat();const i=t.type==="MultiPolygon"?"Polygon":t.type;if(i==="GeometryCollection"||i==="Circle")throw new Error("Unsupported geometry type: "+i);const r=t.layout.length;return sp(new Qn(i,i==="Polygon"?hq(t.flatCoordinates,t.ends,r):t.flatCoordinates,(s=t.ends)==null?void 0:s.flat(),r,n.properties||{},n.id).enableSimplifyTransformed(),!1,e)}function p_(n,e){if(!n)return null;if(Array.isArray(n)){const i=n.map(r=>p_(r,e));return new Qf(i)}const t=cq[n.type];return sp(new t(n.flatCoordinates,n.layout||"XY",n.ends),!1,e)}class fq extends ST{constructor(){super()}getType(){return"json"}readFeature(e,t){return this.readFeatureFromObject(lf(e),this.getReadOptions(e,t))}readFeatures(e,t){return this.readFeaturesFromObject(lf(e),this.getReadOptions(e,t))}readFeatureFromObject(e,t){return Ye()}readFeaturesFromObject(e,t){return Ye()}readGeometry(e,t){return this.readGeometryFromObject(lf(e),this.getReadOptions(e,t))}readGeometryFromObject(e,t){return Ye()}readProjection(e){return this.readProjectionFromObject(lf(e))}readProjectionFromObject(e){return Ye()}writeFeature(e,t){return JSON.stringify(this.writeFeatureObject(e,t))}writeFeatureObject(e,t){return Ye()}writeFeatures(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))}writeFeaturesObject(e,t){return Ye()}writeGeometry(e,t){return JSON.stringify(this.writeGeometryObject(e,t))}writeGeometryObject(e,t){return Ye()}}function lf(n){if(typeof n=="string"){const e=JSON.parse(n);return e||null}return n!==null?n:null}class uw extends fq{constructor(e){e=e||{},super(),this.dataProjection=qt(e.dataProjection?e.dataProjection:"EPSG:4326"),e.featureProjection&&(this.defaultFeatureProjection=qt(e.featureProjection)),e.featureClass&&(this.featureClass=e.featureClass),this.geometryName_=e.geometryName,this.extractGeometryName_=e.extractGeometryName,this.supportedMediaTypes=["application/geo+json","application/vnd.geo+json"]}readFeatureFromObject(e,t){let i=null;e.type==="Feature"?i=e:i={type:"Feature",geometry:e,properties:null};const r=g_(i.geometry);if(this.featureClass===Qn)return TT({geometry:r,id:i.id,properties:i.properties},t);const s=new As;return this.geometryName_?s.setGeometryName(this.geometryName_):this.extractGeometryName_&&i.geometry_name&&s.setGeometryName(i.geometry_name),s.setGeometry(p_(r,t)),"id"in i&&s.setId(i.id),i.properties&&s.setProperties(i.properties,!0),s}readFeaturesFromObject(e,t){const i=e;let r=null;if(i.type==="FeatureCollection"){const s=e;r=[];const o=s.features;for(let a=0,u=o.length;a<u;++a){const c=this.readFeatureFromObject(o[a],t);c&&r.push(c)}}else r=[this.readFeatureFromObject(e,t)];return r.flat()}readGeometryFromObject(e,t){return dq(e,t)}readProjectionFromObject(e){const t=e.crs;let i;if(t)if(t.type=="name")i=qt(t.properties.name);else if(t.type==="EPSG")i=qt("EPSG:"+t.properties.code);else throw new Error("Unknown SRS type");else i=this.dataProjection;return i}writeFeatureObject(e,t){t=this.adaptOptions(t);const i={type:"Feature",geometry:null,properties:null},r=e.getId();if(r!==void 0&&(i.id=r),!e.hasProperties())return i;const s=e.getProperties(),o=e.getGeometry();return o&&(i.geometry=d0(o,t),delete s[e.getGeometryName()]),Co(s)||(i.properties=s),i}writeFeaturesObject(e,t){t=this.adaptOptions(t);const i=[];for(let r=0,s=e.length;r<s;++r)i.push(this.writeFeatureObject(e[r],t));return{type:"FeatureCollection",features:i}}writeGeometryObject(e,t){return d0(e,this.adaptOptions(t))}}function g_(n,e){if(!n)return null;let t;switch(n.type){case"Point":{t=gq(n);break}case"LineString":{t=mq(n);break}case"Polygon":{t=xq(n);break}case"MultiPoint":{t=_q(n);break}case"MultiLineString":{t=yq(n);break}case"MultiPolygon":{t=vq(n);break}case"GeometryCollection":{t=pq(n);break}default:throw new Error("Unsupported GeoJSON type: "+n.type)}return t}function dq(n,e){const t=g_(n);return p_(t,e)}function pq(n,e){return n.geometries.map(function(i){return g_(i)})}function gq(n){const e=n.coordinates;return{type:"Point",flatCoordinates:e,layout:La(e.length)}}function mq(n){var i;const e=n.coordinates,t=e.flat();return{type:"LineString",flatCoordinates:t,ends:[t.length],layout:La(((i=e[0])==null?void 0:i.length)||2)}}function yq(n){var s,o;const e=n.coordinates,t=((o=(s=e[0])==null?void 0:s[0])==null?void 0:o.length)||2,i=[],r=Rc(i,0,e,t);return{type:"MultiLineString",flatCoordinates:i,ends:r,layout:La(t)}}function _q(n){var t;const e=n.coordinates;return{type:"MultiPoint",flatCoordinates:e.flat(),layout:La(((t=e[0])==null?void 0:t.length)||2)}}function vq(n){var s,o;const e=n.coordinates,t=[],i=((o=(s=e[0])==null?void 0:s[0])==null?void 0:o[0].length)||2,r=QC(t,0,e,i);return{type:"MultiPolygon",flatCoordinates:t,ends:r,layout:La(i)}}function xq(n){var s,o;const e=n.coordinates,t=[],i=(o=(s=e[0])==null?void 0:s[0])==null?void 0:o.length,r=Rc(t,0,e,i);return{type:"Polygon",flatCoordinates:t,ends:r,layout:La(i)}}function d0(n,e){n=sp(n,!0,e);const t=n.getType();let i;switch(t){case"Point":{i=Tq(n);break}case"LineString":{i=wq(n);break}case"Polygon":{i=Rq(n,e);break}case"MultiPoint":{i=Cq(n);break}case"MultiLineString":{i=Eq(n);break}case"MultiPolygon":{i=Sq(n,e);break}case"GeometryCollection":{i=bq(n,e);break}case"Circle":{i={type:"GeometryCollection",geometries:[]};break}default:throw new Error("Unsupported geometry type: "+t)}return i}function bq(n,e){return e=Object.assign({},e),delete e.featureProjection,{type:"GeometryCollection",geometries:n.getGeometriesArray().map(function(i){return d0(i,e)})}}function wq(n,e){return{type:"LineString",coordinates:n.getCoordinates()}}function Eq(n,e){return{type:"MultiLineString",coordinates:n.getCoordinates()}}function Cq(n,e){return{type:"MultiPoint",coordinates:n.getCoordinates()}}function Sq(n,e){let t;return e&&(t=e.rightHanded),{type:"MultiPolygon",coordinates:n.getCoordinates(t)}}function Tq(n,e){return{type:"Point",coordinates:n.getCoordinates()}}function Rq(n,e){let t;return e&&(t=e.rightHanded),{type:"Polygon",coordinates:n.getCoordinates(t)}}const p0=65536*65536,cw=1/p0,Iq=12,hw=typeof TextDecoder>"u"?null:new TextDecoder("utf-8"),pm=0,uf=1,Su=2,cf=5;class Aq{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,i=this.length){for(;this.pos<i;){const r=this.readVarint(),s=r>>3,o=this.pos;this.type=r&7,e(s,t,this),this.pos===o&&this.skip(r)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*p0;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*p0;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let i,r;return r=t[this.pos++],i=r&127,r<128||(r=t[this.pos++],i|=(r&127)<<7,r<128)||(r=t[this.pos++],i|=(r&127)<<14,r<128)||(r=t[this.pos++],i|=(r&127)<<21,r<128)?i:(r=t[this.pos],i|=(r&15)<<28,Pq(i,e,this))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2===1?(e+1)/-2:e/2}readBoolean(){return!!this.readVarint()}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=Iq&&hw?hw.decode(this.buf.subarray(t,e)):qq(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const i=this.readPackedEnd();for(;this.pos<i;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return this.type===Su?this.readVarint()+this.pos:this.pos+1}skip(e){const t=e&7;if(t===pm)for(;this.buf[this.pos++]>127;);else if(t===Su)this.pos=this.readVarint()+this.pos;else if(t===cf)this.pos+=4;else if(t===uf)this.pos+=8;else throw new Error(`Unimplemented type: ${t}`)}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const i=new Uint8Array(t);i.set(this.buf),this.buf=i,this.dataView=new DataView(i.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*cw),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,e&-1,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*cw),!0),this.pos+=8}writeVarint(e){if(e=+e||0,e>268435455||e<0){Mq(e,this);return}this.realloc(4),this.buf[this.pos++]=e&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0),!(e<=127)&&(this.buf[this.pos++]=e>>>7&127)))}writeSVarint(e){this.writeVarint(e<0?-e*2-1:e*2)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(e.length*4),this.pos++;const t=this.pos;this.pos=Uq(this.buf,e,this.pos);const i=this.pos-t;i>=128&&fw(t,i,this),this.pos=t-1,this.writeVarint(i),this.pos+=i}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let i=0;i<t;i++)this.buf[this.pos++]=e[i]}writeRawMessage(e,t){this.pos++;const i=this.pos;e(t,this);const r=this.pos-i;r>=128&&fw(i,r,this),this.pos=i-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,i){this.writeTag(e,Su),this.writeRawMessage(t,i)}writePackedVarint(e,t){t.length&&this.writeMessage(e,Oq,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Fq,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,zq,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,Dq,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Nq,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,$q,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,Bq,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,Gq,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,Wq,t)}writeBytesField(e,t){this.writeTag(e,Su),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,cf),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,cf),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,uf),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,uf),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,pm),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,pm),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,Su),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,cf),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,uf),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Pq(n,e,t){const i=t.buf;let r,s;if(s=i[t.pos++],r=(s&112)>>4,s<128||(s=i[t.pos++],r|=(s&127)<<3,s<128)||(s=i[t.pos++],r|=(s&127)<<10,s<128)||(s=i[t.pos++],r|=(s&127)<<17,s<128)||(s=i[t.pos++],r|=(s&127)<<24,s<128)||(s=i[t.pos++],r|=(s&1)<<31,s<128))return il(n,r,e);throw new Error("Expected varint not more than 10 bytes")}function il(n,e,t){return t?e*4294967296+(n>>>0):(e>>>0)*4294967296+(n>>>0)}function Mq(n,e){let t,i;if(n>=0?(t=n%4294967296|0,i=n/4294967296|0):(t=~(-n%4294967296),i=~(-n/4294967296),t^4294967295?t=t+1|0:(t=0,i=i+1|0)),n>=18446744073709552e3||n<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),Lq(t,i,e),kq(i,e)}function Lq(n,e,t){t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos++]=n&127|128,n>>>=7,t.buf[t.pos]=n&127}function kq(n,e){const t=(n&7)<<4;e.buf[e.pos++]|=t|((n>>>=3)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127|((n>>>=7)?128:0),n&&(e.buf[e.pos++]=n&127)))))}function fw(n,e,t){const i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(Math.LN2*7));t.realloc(i);for(let r=t.pos-1;r>=n;r--)t.buf[r+i]=t.buf[r]}function Oq(n,e){for(let t=0;t<n.length;t++)e.writeVarint(n[t])}function Fq(n,e){for(let t=0;t<n.length;t++)e.writeSVarint(n[t])}function Dq(n,e){for(let t=0;t<n.length;t++)e.writeFloat(n[t])}function Nq(n,e){for(let t=0;t<n.length;t++)e.writeDouble(n[t])}function zq(n,e){for(let t=0;t<n.length;t++)e.writeBoolean(n[t])}function $q(n,e){for(let t=0;t<n.length;t++)e.writeFixed32(n[t])}function Bq(n,e){for(let t=0;t<n.length;t++)e.writeSFixed32(n[t])}function Gq(n,e){for(let t=0;t<n.length;t++)e.writeFixed64(n[t])}function Wq(n,e){for(let t=0;t<n.length;t++)e.writeSFixed64(n[t])}function qq(n,e,t){let i="",r=e;for(;r<t;){const s=n[r];let o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a>t)break;let u,c,f;a===1?s<128&&(o=s):a===2?(u=n[r+1],(u&192)===128&&(o=(s&31)<<6|u&63,o<=127&&(o=null))):a===3?(u=n[r+1],c=n[r+2],(u&192)===128&&(c&192)===128&&(o=(s&15)<<12|(u&63)<<6|c&63,(o<=2047||o>=55296&&o<=57343)&&(o=null))):a===4&&(u=n[r+1],c=n[r+2],f=n[r+3],(u&192)===128&&(c&192)===128&&(f&192)===128&&(o=(s&15)<<18|(u&63)<<12|(c&63)<<6|f&63,(o<=65535||o>=1114112)&&(o=null))),o===null?(o=65533,a=1):o>65535&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|o&1023),i+=String.fromCharCode(o),r+=a}return i}function Uq(n,e,t){for(let i=0,r,s;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344)if(s)if(r<56320){n[t++]=239,n[t++]=191,n[t++]=189,s=r;continue}else r=s-55296<<10|r-56320|65536,s=null;else{r>56319||i+1===e.length?(n[t++]=239,n[t++]=191,n[t++]=189):s=r;continue}else s&&(n[t++]=239,n[t++]=191,n[t++]=189,s=null);r<128?n[t++]=r:(r<2048?n[t++]=r>>6|192:(r<65536?n[t++]=r>>12|224:(n[t++]=r>>18|240,n[t++]=r>>12&63|128),n[t++]=r>>6&63|128),n[t++]=r&63|128)}return t}class m_ extends ST{constructor(e){super(),e=e||{},this.dataProjection=new Ad({code:"",units:"tile-pixels"}),this.featureClass=e.featureClass?e.featureClass:Qn,this.geometryName_=e.geometryName,this.layerName_=e.layerName?e.layerName:"layer",this.layers_=e.layers?e.layers:null,this.idProperty_=e.idProperty,this.supportedMediaTypes=["application/vnd.mapbox-vector-tile","application/x-protobuf"]}readRawGeometry_(e,t,i,r){e.pos=t.geometry;const s=e.readVarint()+e.pos;let o=1,a=0,u=0,c=0,f=0,d=0;for(;e.pos<s;){if(!a){const g=e.readVarint();o=g&7,a=g>>3}if(a--,o===1||o===2)u+=e.readSVarint(),c+=e.readSVarint(),o===1&&f>d&&(r.push(f),d=f),i.push(u,c),f+=2;else if(o===7)f>d&&(i.push(i[d],i[d+1]),f+=2);else throw new Error("Invalid command found in the PBF")}f>d&&(r.push(f),d=f)}createFeature_(e,t,i){const r=t.type;if(r===0)return null;let s;const o=t.properties;let a;this.idProperty_?(a=o[this.idProperty_],delete o[this.idProperty_]):a=t.id,o[this.layerName_]=t.layer.name;const u=[],c=[];this.readRawGeometry_(e,t,u,c);const f=Yq(r,c.length);if(this.featureClass===Qn)s=new this.featureClass(f,u,c,2,o,a),s.transform(i.dataProjection);else{let d;if(f=="Polygon"){const y=oS(u,c);d=y.length>1?new Bl(u,"XY",y):new Sr(u,"XY",c)}else d=f==="Point"?new Is(u,"XY"):f==="LineString"?new Sa(u,"XY"):f==="MultiPoint"?new Nc(u,"XY"):f==="MultiLineString"?new gc(u,"XY",c):null;const g=this.featureClass;s=new g,this.geometryName_&&s.setGeometryName(this.geometryName_);const m=sp(d,!1,i);s.setGeometry(m),a!==void 0&&s.setId(a),s.setProperties(o,!0)}return s}getType(){return"arraybuffer"}readFeatures(e,t){const i=this.layers_;t=this.adaptOptions(t);const r=qt(t.dataProjection);r.setWorldExtent(t.extent),t.dataProjection=r;const s=new Aq(e),o=s.readFields(jq,{}),a=[];for(const u in o){if(i&&!i.includes(u))continue;const c=o[u],f=c?[0,0,c.extent,c.extent]:null;r.setExtent(f);for(let d=0,g=c.length;d<g;++d){const m=Xq(s,c,d),y=this.createFeature_(s,m,t);y!==null&&a.push(y)}}return a}readProjection(e){return this.dataProjection}setLayers(e){this.layers_=e}}function jq(n,e,t){if(n===3){const i={keys:[],values:[],features:[]},r=t.readVarint()+t.pos;t.readFields(Vq,i,r),i.length=i.features.length,i.length&&(e[i.name]=i)}}function Vq(n,e,t){if(n===15)e.version=t.readVarint();else if(n===1)e.name=t.readString();else if(n===5)e.extent=t.readVarint();else if(n===2)e.features.push(t.pos);else if(n===3)e.keys.push(t.readString());else if(n===4){let i=null;const r=t.readVarint()+t.pos;for(;t.pos<r;)n=t.readVarint()>>3,i=n===1?t.readString():n===2?t.readFloat():n===3?t.readDouble():n===4?t.readVarint64():n===5?t.readVarint():n===6?t.readSVarint():n===7?t.readBoolean():null;e.values.push(i)}}function Hq(n,e,t){if(n==1)e.id=t.readVarint();else if(n==2){const i=t.readVarint()+t.pos;for(;t.pos<i;){const r=e.layer.keys[t.readVarint()],s=e.layer.values[t.readVarint()];e.properties[r]=s}}else n==3?e.type=t.readVarint():n==4&&(e.geometry=t.pos)}function Xq(n,e,t){n.pos=e.features[t];const i=n.readVarint()+n.pos,r={layer:e,type:0,properties:{}};return n.readFields(Hq,r,i),r}function Yq(n,e){let t;return n===1?t=e===1?"Point":"MultiPoint":n===2?t=e===1?"LineString":"MultiLineString":n===3&&(t="Polygon"),t}class Kq extends By{constructor(e){super(e),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(e){const t=e.layerStatesArray[e.layerIndex],i=e.pixelRatio,r=e.viewState,s=r.resolution,o=this.getLayer().getSource(),a=e.viewHints;let u=e.extent;if(t.extent!==void 0&&(u=Er(u,zr(t.extent,r.projection))),!a[sn.ANIMATING]&&!a[sn.INTERACTING]&&!Pa(u))if(o){const c=r.projection,f=o.getImage(u,s,i,c);f&&(this.loadImage(f)?this.image=f:f.getState()===Ce.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=Pn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!wa(s,r))return null;const o=this.image.getExtent(),a=this.image.getImage(),u=Pt(o),c=Math.floor(a.width*((r[0]-o[0])/u));if(c<0||c>=a.width)return null;const f=Tn(o),d=Math.floor(a.height*((o[3]-r[1])/f));return d<0||d>=a.height?null:this.getImageData(a,c,d)}renderFrame(e,t){const i=this.image,r=i.getExtent(),s=i.getResolution(),[o,a]=Array.isArray(s)?s:[s,s],u=i.getPixelRatio(),c=e.layerStatesArray[e.layerIndex],f=e.pixelRatio,d=e.viewState,g=d.center,m=d.resolution,y=f*o/(m*u),v=f*a/(m*u);this.prepareContainer(e,t);const x=this.context.canvas.width,C=this.context.canvas.height,E=this.getRenderContext(e);let S=!1,R=!0;if(c.extent){const M=zr(c.extent,d.projection);R=vn(M,e.extent),S=R&&!bs(M,e.extent),S&&this.clipUnrotated(E,e,M)}const T=i.getImage(),F=Hr(this.tempTransform,x/2,C/2,y,v,0,u*(r[0]-g[0])/o,u*(g[1]-r[3])/a);this.renderedResolution=a*f/u;const O=T.width*F[0],N=T.height*F[3];if(this.getLayer().getSource().getInterpolate()||(E.imageSmoothingEnabled=!1),this.preRender(E,e),R&&O>=.5&&N>=.5){const M=F[4],W=F[5],B=c.opacity;B!==1&&(E.save(),E.globalAlpha=B),E.drawImage(T,0,0,+T.width,+T.height,M,W,O,N),B!==1&&E.restore()}return this.postRender(this.context,e),S&&E.restore(),E.imageSmoothingEnabled=!0,this.container}}class Zq extends Xl{constructor(e){e=e||{},super(e)}}class RT extends Zq{constructor(e){super(e)}createRenderer(){return new Kq(this)}getData(e){return super.getData(e)}}function g0(n){return n instanceof Image||n instanceof HTMLCanvasElement||n instanceof HTMLVideoElement||n instanceof ImageBitmap?n:null}const Jq=new Error("disposed"),Qq=[256,256];class dw extends zc{constructor(e){const t=ye.IDLE;super(e.tileCoord,t,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=g0(this.data_);return e?[e.width,e.height]:Qq}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==ye.IDLE&&this.state!==ye.ERROR)return;this.state=ye.LOADING,this.changed();const e=this;this.loader_().then(function(t){e.data_=t,e.state=ye.LOADED,e.changed()}).catch(function(t){e.error_=t,e.state=ye.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Jq),this.controller_=null),super.disposeInternal()}}let gm;const xl=[];function pw(n,e,t,i,r){n.beginPath(),n.moveTo(0,0),n.lineTo(e,t),n.lineTo(i,r),n.closePath(),n.save(),n.clip(),n.fillRect(0,0,Math.max(e,i)+1,Math.max(t,r)),n.restore()}function mm(n,e){return Math.abs(n[e*4]-210)>2||Math.abs(n[e*4+3]-.75*255)>2}function eU(){if(gm===void 0){const n=dn(6,6,xl);n.globalCompositeOperation="lighter",n.fillStyle="rgba(210, 0, 0, 0.75)",pw(n,4,5,4,0),pw(n,4,5,0,5);const e=n.getImageData(0,0,3,3).data;gm=mm(e,0)||mm(e,4)||mm(e,8),Ac(n),xl.push(n.canvas)}return gm}function m0(n,e,t,i){const r=cy(t,e,n);let s=Um(e,i,t);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=n.getMetersPerUnit();a!==void 0&&(s/=a);const u=n.getExtent();if(!u||wa(u,r)){const c=Um(n,s,r)/s;isFinite(c)&&c>0&&(s/=c)}return s}function tU(n,e,t,i){const r=Ni(t);let s=m0(n,e,r,i);return(!isFinite(s)||s<=0)&&FC(t,function(o){return s=m0(n,e,o,i),isFinite(s)&&s>0}),s}function IT(n,e,t,i,r,s,o,a,u,c,f,d,g,m){const y=dn(Math.round(t*n),Math.round(t*e),xl);if(d||(y.imageSmoothingEnabled=!1),u.length===0)return y.canvas;y.scale(t,t);function v(T){return Math.round(T*t)/t}y.globalCompositeOperation="lighter";const x=Qi();u.forEach(function(T,F,O){kC(x,T.extent)});let C;const E=t/i,S=(d?1:1+Math.pow(2,-24))/E;if(!g||u.length!==1||c!==0){if(C=dn(Math.round(Pt(x)*E),Math.round(Tn(x)*E),xl),d||(C.imageSmoothingEnabled=!1),r&&m){const T=(r[0]-x[0])*E,F=-(r[3]-x[3])*E,O=Pt(r)*E,N=Tn(r)*E;C.rect(T,F,O,N),C.clip()}u.forEach(function(T,F,O){if(T.image.width>0&&T.image.height>0){if(T.clipExtent){C.save();const z=(T.clipExtent[0]-x[0])*E,V=-(T.clipExtent[3]-x[3])*E,Z=Pt(T.clipExtent)*E,G=Tn(T.clipExtent)*E;C.rect(d?z:Math.round(z),d?V:Math.round(V),d?Z:Math.round(z+Z)-Math.round(z),d?G:Math.round(V+G)-Math.round(V)),C.clip()}const N=(T.extent[0]-x[0])*E,M=-(T.extent[3]-x[3])*E,W=Pt(T.extent)*E,B=Tn(T.extent)*E;C.drawImage(T.image,c,c,T.image.width-2*c,T.image.height-2*c,d?N:Math.round(N),d?M:Math.round(M),d?W:Math.round(N+W)-Math.round(N),d?B:Math.round(M+B)-Math.round(M)),T.clipExtent&&C.restore()}})}const R=Ls(o);return a.getTriangles().forEach(function(T,F,O){const N=T.source,M=T.target;let W=N[0][0],B=N[0][1],z=N[1][0],V=N[1][1],Z=N[2][0],G=N[2][1];const j=v((M[0][0]-R[0])/s),q=v(-(M[0][1]-R[1])/s),Y=v((M[1][0]-R[0])/s),te=v(-(M[1][1]-R[1])/s),ne=v((M[2][0]-R[0])/s),me=v(-(M[2][1]-R[1])/s),he=W,Ue=B;W=0,B=0,z-=he,V-=Ue,Z-=he,G-=Ue;const oe=[[z,V,0,0,Y-j],[Z,G,0,0,ne-j],[0,0,z,V,te-q],[0,0,Z,G,me-q]],Me=I4(oe);if(!Me)return;if(y.save(),y.beginPath(),eU()||!d){y.moveTo(Y,te);const De=4,Re=j-Y,Se=q-te;for(let ht=0;ht<De;ht++)y.lineTo(Y+v((ht+1)*Re/De),te+v(ht*Se/(De-1))),ht!=De-1&&y.lineTo(Y+v((ht+1)*Re/De),te+v((ht+1)*Se/(De-1)));y.lineTo(ne,me)}else y.moveTo(Y,te),y.lineTo(j,q),y.lineTo(ne,me);y.clip(),y.transform(Me[0],Me[2],Me[1],Me[3],j,q),y.translate(x[0]-he,x[3]-Ue);let ct;if(C)ct=C.canvas,y.scale(S,-S);else{const De=u[0],Re=De.extent;ct=De.image,y.scale(Pt(Re)/ct.width,-Tn(Re)/ct.height)}y.drawImage(ct,0,0),y.restore()}),C&&(Ac(C),xl.push(C.canvas)),f&&(y.save(),y.globalCompositeOperation="source-over",y.strokeStyle="black",y.lineWidth=1,a.getTriangles().forEach(function(T,F,O){const N=T.target,M=(N[0][0]-R[0])/s,W=-(N[0][1]-R[1])/s,B=(N[1][0]-R[0])/s,z=-(N[1][1]-R[1])/s,V=(N[2][0]-R[0])/s,Z=-(N[2][1]-R[1])/s;y.beginPath(),y.moveTo(B,z),y.lineTo(M,W),y.lineTo(V,Z),y.closePath(),y.stroke()}),y.restore()),y.canvas}const nU=10,gw=.25;class AT{constructor(e,t,i,r,s,o,a){this.sourceProj_=e,this.targetProj_=t;let u={};const c=a?m6(S=>Pn(a,cy(S,this.targetProj_,this.sourceProj_))):Qu(this.targetProj_,this.sourceProj_);this.transformInv_=function(S){const R=S[0]+"/"+S[1];return u[R]||(u[R]=c(S)),u[R]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Pt(r)>=Pt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Pt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Pt(this.targetProj_.getExtent()):null;const f=Ls(i),d=Id(i),g=Rd(i),m=Td(i),y=this.transformInv_(f),v=this.transformInv_(d),x=this.transformInv_(g),C=this.transformInv_(m),E=nU+(o?Math.max(0,Math.ceil(Math.log2(Bm(i)/(o*o*256*256)))):0);if(this.addQuad_(f,d,g,m,y,v,x,C,E),this.wrapsXInSource_){let S=1/0;this.triangles_.forEach(function(R,T,F){S=Math.min(S,R.source[0][0],R.source[1][0],R.source[2][0])}),this.triangles_.forEach(R=>{if(Math.max(R.source[0][0],R.source[1][0],R.source[2][0])-S>this.sourceWorldWidth_/2){const T=[[R.source[0][0],R.source[0][1]],[R.source[1][0],R.source[1][1]],[R.source[2][0],R.source[2][1]]];T[0][0]-S>this.sourceWorldWidth_/2&&(T[0][0]-=this.sourceWorldWidth_),T[1][0]-S>this.sourceWorldWidth_/2&&(T[1][0]-=this.sourceWorldWidth_),T[2][0]-S>this.sourceWorldWidth_/2&&(T[2][0]-=this.sourceWorldWidth_);const F=Math.min(T[0][0],T[1][0],T[2][0]);Math.max(T[0][0],T[1][0],T[2][0])-F<this.sourceWorldWidth_/2&&(R.source=T)}})}u={}}addTriangle_(e,t,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,t,i]})}addQuad_(e,t,i,r,s,o,a,u,c){const f=zm([s,o,a,u]),d=this.sourceWorldWidth_?Pt(f)/this.sourceWorldWidth_:null,g=this.sourceWorldWidth_,m=this.sourceProj_.canWrapX()&&d>.5&&d<1;let y=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const x=zm([e,t,i,r]);y=Pt(x)/this.targetWorldWidth_>gw||y}!m&&this.sourceProj_.isGlobal()&&d&&(y=d>gw||y)}if(!y&&this.maxSourceExtent_&&isFinite(f[0])&&isFinite(f[1])&&isFinite(f[2])&&isFinite(f[3])&&!vn(f,this.maxSourceExtent_))return;let v=0;if(!y&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(u[0])||!isFinite(u[1]))){if(c>0)y=!0;else if(v=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(u[0])||!isFinite(u[1])?1:0),v!=1&&v!=2&&v!=4&&v!=8)return}if(c>0){if(!y){const x=[(e[0]+i[0])/2,(e[1]+i[1])/2],C=this.transformInv_(x);let E;m?E=(gl(s[0],g)+gl(a[0],g))/2-gl(C[0],g):E=(s[0]+a[0])/2-C[0];const S=(s[1]+a[1])/2-C[1];y=E*E+S*S>this.errorThresholdSquared_}if(y){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const x=[(t[0]+i[0])/2,(t[1]+i[1])/2],C=this.transformInv_(x),E=[(r[0]+e[0])/2,(r[1]+e[1])/2],S=this.transformInv_(E);this.addQuad_(e,t,x,E,s,o,C,S,c-1),this.addQuad_(E,x,i,r,S,C,a,u,c-1)}else{const x=[(e[0]+t[0])/2,(e[1]+t[1])/2],C=this.transformInv_(x),E=[(i[0]+r[0])/2,(i[1]+r[1])/2],S=this.transformInv_(E);this.addQuad_(e,x,E,r,s,C,S,u,c-1),this.addQuad_(x,t,i,E,C,o,a,S,c-1)}return}}if(m){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}v&11||this.addTriangle_(e,i,r,s,a,u),v&14||this.addTriangle_(e,i,t,s,a,o),v&&(v&13||this.addTriangle_(t,r,e,o,u,s),v&7||this.addTriangle_(t,r,i,o,u,a))}calculateSourceExtent(){const e=Qi();return this.triangles_.forEach(function(t,i,r){const s=t.source;$u(e,s[0]),$u(e,s[1]),$u(e,s[2])}),e}getTriangles(){return this.triangles_}}const PT=.5;class MT extends zc{constructor(e,t,i,r,s,o,a,u,c,f,d,g){super(s,ye.IDLE,g),this.renderEdges_=d!==void 0?d:!1,this.pixelRatio_=a,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=t,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const m=r.getTileCoordExtent(this.wrappedTileCoord_),y=this.targetTileGrid_.getExtent();let v=this.sourceTileGrid_.getExtent();const x=y?Er(m,y):m;if(Bm(x)===0){this.state=ye.EMPTY;return}const C=e.getExtent();C&&(v?v=Er(v,C):v=C);const E=r.getResolution(this.wrappedTileCoord_[0]),S=tU(e,i,x,E);if(!isFinite(S)||S<=0){this.state=ye.EMPTY;return}const R=f!==void 0?f:PT;if(this.triangulation_=new AT(e,i,x,v,S*R,E),this.triangulation_.getTriangles().length===0){this.state=ye.EMPTY;return}this.sourceZ_=t.getZForResolution(S);let T=this.triangulation_.calculateSourceExtent();if(v&&(e.canWrapX()?(T[1]=fn(T[1],v[1],v[3]),T[3]=fn(T[3],v[1],v[3])):T=Er(T,v)),!Bm(T))this.state=ye.EMPTY;else{let F=0,O=0;e.canWrapX()&&(F=Pt(C),O=Math.floor((T[0]-C[0])/F)),zC(T.slice(),e,!0).forEach(M=>{const W=t.getTileRangeForExtentAndZ(M,this.sourceZ_);for(let B=W.minX;B<=W.maxX;B++)for(let z=W.minY;z<=W.maxY;z++){const V=c(this.sourceZ_,B,z,a);if(V){const Z=O*F;this.sourceTiles_.push({tile:V,offset:Z})}}++O}),this.sourceTiles_.length===0&&(this.state=ye.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(t=>{var r;const i=t.tile;if(i&&i.getState()==ye.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=t.offset,s[2]+=t.offset;const o=(r=this.clipExtent_)==null?void 0:r.slice();o&&(o[0]+=t.offset,o[2]+=t.offset),e.push({extent:s,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=ye.ERROR;else{const t=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(t),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(t),a=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=IT(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,u,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=ye.LOADED}this.changed()}load(){if(this.state==ye.IDLE){this.state=ye.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:t})=>{const i=t.getState();if(i==ye.IDLE||i==ye.LOADING){e++;const r=At(t,Ve.CHANGE,s=>{const o=t.getState();(o==ye.LOADED||o==ye.ERROR||o==ye.EMPTY)&&(Zt(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:t},i,r){t.getState()==ye.IDLE&&t.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Zt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ac(this.canvas_.getContext("2d")),xl.push(this.canvas_),this.canvas_=null),super.release()}}class iU{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const e=this.pop();e instanceof bc&&e.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let t=this.oldest_;for(;t;)e(t.value_,t.key_,this),t=t.newer}get(e,t){const i=this.entries_[e];return Dt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const t=this.entries_[e];return Dt(t!==void 0,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.key_;return e}getValues(){const e=new Array(this.count_);let t=0,i;for(i=this.newest_;i;i=i.older)e[t++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var t;return(t=this.entries_[e])==null?void 0:t.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,t){this.get(e),this.entries_[e].value_=t}set(e,t){Dt(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}function nd(n,e,t,i){return i!==void 0?(i[0]=n,i[1]=e,i[2]=t,i):[n,e,t]}function rU(n,e,t){return n+"/"+e+"/"+t}function sU(n){return oU(n[0],n[1],n[2])}function oU(n,e,t){return(e<<n)+t}function aU(n,e){const t=n[0],i=n[1],r=n[2];if(e.getMinZoom()>t||t>e.getMaxZoom())return!1;const s=e.getFullTileRange(t);return s?s.containsXY(i,r):!0}function ym(n,e,t,i,r){return`${He(n)},${e},${rU(t,i,r)}`}function _m(n,e,t){if(!(t in n))return n[t]=new Set([e]),!0;const i=n[t],r=i.has(e);return r||i.add(e),!r}function lU(n,e,t){const i=n[t];return i?i.delete(e):!1}function mw(n,e){const t=n.layerStatesArray[n.layerIndex];t.extent&&(e=Er(e,zr(t.extent,n.viewState.projection)));const i=t.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(n.viewState.projection).getExtent();r&&(e=Er(e,r))}return e}class LT extends By{constructor(e,t){super(e),t=t||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Qi(),this.tempTileRange_=new c_(0,0,0,0),this.tempTileCoord_=nd(0,0,0);const i=t.cacheSize!==void 0?t.cacheSize:512;this.tileCache_=new iU(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,t,i,r){const s=this.tileCache_,a=this.getLayer().getSource(),u=ym(a,a.getKey(),e,t,i);let c;if(s.containsKey(u))c=s.get(u);else{if(c=a.getTile(e,t,i,r.pixelRatio,r.viewState.projection),!c)return null;s.set(u,c)}return c}getTile(e,t,i,r){const s=this.getOrCreateTile(e,t,i,r);return s||null}getData(e){const t=this.frameState;if(!t)return null;const i=this.getLayer(),r=Pn(t.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!wa(s,r))return null;const o=t.viewState,a=i.getRenderSource(),u=a.getTileGridForProjection(o.projection),c=a.getTilePixelRatio(t.pixelRatio);for(let f=u.getZForResolution(o.resolution);f>=u.getMinZoom();--f){const d=u.getTileCoordForCoordAndZ(r,f),g=this.getTile(f,d[1],d[2],t);if(!g||g.getState()!==ye.LOADED)continue;const m=u.getOrigin(f),y=ei(u.getTileSize(f)),v=u.getResolution(f);let x;if(g instanceof _T||g instanceof MT)x=g.getImage();else if(g instanceof dw){if(x=g0(g.getData()),!x)continue}else continue;const C=Math.floor(c*((r[0]-m[0])/v-d[1]*y[0])),E=Math.floor(c*((m[1]-r[1])/v-d[2]*y[1])),S=Math.round(c*a.getGutterForProjection(o.projection));return this.getImageData(x,C+S,E+S)}return null}prepareFrame(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;const t=this.getLayer().getSource();if(!t)return!1;const i=t.getRevision();return this.renderedSourceRevision_?this.renderedSourceRevision_!==i&&(this.renderedSourceRevision_=i,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedSourceRevision_=i,!0}enqueueTiles(e,t,i,r,s){const o=e.viewState,a=this.getLayer(),u=a.getRenderSource(),c=u.getTileGridForProjection(o.projection),f=He(u);f in e.wantedTiles||(e.wantedTiles[f]={});const d=e.wantedTiles[f],g=a.getMapInternal(),m=Math.max(i-s,c.getMinZoom(),c.getZForResolution(Math.min(a.getMaxResolution(),g?g.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):c.getResolution(0)),u.zDirection)),y=o.rotation,v=y?DC(o.center,o.resolution,y,e.size):void 0;for(let x=i;x>=m;--x){const C=c.getTileRangeForExtentAndZ(t,x,this.tempTileRange_),E=c.getResolution(x);for(let S=C.minX;S<=C.maxX;++S)for(let R=C.minY;R<=C.maxY;++R){if(y&&!c.tileCoordIntersectsViewport([x,S,R],v))continue;const T=this.getTile(x,S,R,e);if(!T||!_m(r,T,x))continue;const O=T.getKey();if(d[O]=!0,T.getState()===ye.IDLE&&!e.tileQueue.isKeyQueued(O)){const N=nd(x,S,R,this.tempTileCoord_);e.tileQueue.enqueue([T,f,c.getTileCoordCenter(N),E])}}}}findStaleTile_(e,t){const i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let u=0;u<a.length;++u){const c=ym(this.getLayer().getSource(),a[u],r,s,o);if(i.containsKey(c)){const f=i.peek(c);if(f.getState()===ye.LOADED)return f.endTransition(He(this)),_m(t,f,r),!0}}return!1}findAltTiles_(e,t,i,r){const s=e.getTileRangeForTileCoordAndZ(t,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,u=this.getLayer().getRenderSource(),c=u.getKey();for(let f=s.minX;f<=s.maxX;++f)for(let d=s.minY;d<=s.maxY;++d){const g=ym(u,c,i,f,d);let m=!1;if(a.containsKey(g)){const y=a.peek(g);y.getState()===ye.LOADED&&(_m(r,y,i),m=!0)}m||(o=!1)}return o}renderFrame(e,t){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,u=e.pixelRatio,c=this.getLayer(),f=c.getSource(),d=f.getTileGridForProjection(s),g=d.getZForResolution(o,f.zDirection),m=d.getResolution(g),y=f.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==y&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=y):this.renderedSourceKey_=y;let v=e.extent;const x=f.getTilePixelRatio(u);this.prepareContainer(e,t);const C=this.context.canvas.width,E=this.context.canvas.height,S=i.extent&&zr(i.extent);S&&(v=Er(v,zr(i.extent)));const R=m*C/2/x,T=m*E/2/x,F=[a[0]-R,a[1]-T,a[0]+R,a[1]+T],O={};this.renderedTiles.length=0;const N=c.getPreload();if(e.nextExtent){const Y=d.getZForResolution(r.nextResolution,f.zDirection),te=mw(e,e.nextExtent);this.enqueueTiles(e,te,Y,O,N)}const M=mw(e,v);if(this.enqueueTiles(e,M,g,O,0),N>0&&setTimeout(()=>{this.enqueueTiles(e,M,g-1,O,N-1)},0),!(g in O))return this.container;const W=He(this),B=e.time;for(const Y of O[g]){const te=Y.getState();if(te===ye.EMPTY)continue;const ne=Y.tileCoord;if(te===ye.LOADED&&Y.getAlpha(W,B)===1){Y.endTransition(W);continue}if(te!==ye.ERROR&&(this.renderComplete=!1),this.findStaleTile_(ne,O)){lU(O,Y,g),e.animate=!0;continue}if(this.findAltTiles_(d,ne,g+1,O))continue;const Ue=d.getMinZoom();for(let oe=g-1;oe>=Ue&&!this.findAltTiles_(d,ne,oe,O);--oe);}const z=m/o*u/x,V=this.getRenderContext(e);Hr(this.tempTransform,C/2,E/2,z,z,0,-C/2,-E/2),i.extent&&this.clipUnrotated(V,e,S),f.getInterpolate()||(V.imageSmoothingEnabled=!1),this.preRender(V,e);const Z=Object.keys(O).map(Number);Z.sort(Gr);let G;const j=[],q=[];for(let Y=Z.length-1;Y>=0;--Y){const te=Z[Y],ne=f.getTilePixelSize(te,u,s),he=d.getResolution(te)/m,Ue=ne[0]*he*z,oe=ne[1]*he*z,Me=d.getTileCoordForCoordAndZ(Ls(F),te),ct=d.getTileCoordExtent(Me),De=Pn(this.tempTransform,[x*(ct[0]-F[0])/m,x*(F[3]-ct[3])/m]),Re=x*f.getGutterForProjection(s);for(const Se of O[te]){if(Se.getState()!==ye.LOADED)continue;const ht=Se.tileCoord,Bt=Me[1]-ht[1],Ct=Math.round(De[0]-(Bt-1)*Ue),Jt=Me[2]-ht[2],pe=Math.round(De[1]-(Jt-1)*oe),Ne=Math.round(De[0]-Bt*Ue),be=Math.round(De[1]-Jt*oe),ke=Ct-Ne,Ke=pe-be,tn=Z.length===1;let ft=!1;G=[Ne,be,Ne+ke,be,Ne+ke,be+Ke,Ne,be+Ke];for(let k=0,Ze=j.length;k<Ze;++k)if(!tn&&te<q[k]){const ze=j[k];vn([Ne,be,Ne+ke,be+Ke],[ze[0],ze[3],ze[4],ze[7]])&&(ft||(V.save(),ft=!0),V.beginPath(),V.moveTo(G[0],G[1]),V.lineTo(G[2],G[3]),V.lineTo(G[4],G[5]),V.lineTo(G[6],G[7]),V.moveTo(ze[6],ze[7]),V.lineTo(ze[4],ze[5]),V.lineTo(ze[2],ze[3]),V.lineTo(ze[0],ze[1]),V.clip())}j.push(G),q.push(te),this.drawTile(Se,e,Ne,be,ke,Ke,Re,tn),ft&&V.restore(),this.renderedTiles.unshift(Se),this.updateUsedTiles(e.usedTiles,f,Se)}}if(this.renderedResolution=m,this.extentChanged=!this.renderedExtent_||!Rs(this.renderedExtent_,F),this.renderedExtent_=F,this.renderedPixelRatio=u,this.postRender(this.context,e),i.extent&&V.restore(),V.imageSmoothingEnabled=!0,this.renderComplete){const Y=(te,ne)=>{const me=He(f),he=ne.wantedTiles[me],Ue=he?Object.keys(he).length:0;this.updateCacheSize(Ue),this.tileCache_.expireCache()};e.postRenderFunctions.push(Y)}return this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,t,i,r,s,o,a,u){let c;if(e instanceof dw){if(c=g0(e.getData()),!c)throw new Error("Rendering array data is not yet supported")}else c=this.getTileImage(e);if(!c)return;const f=this.getRenderContext(t),d=He(this),g=t.layerStatesArray[t.layerIndex],m=g.opacity*(u?e.getAlpha(d,t.time):1),y=m!==f.globalAlpha;y&&(f.save(),f.globalAlpha=m),f.drawImage(c,a,a,c.width-2*a,c.height-2*a,i,r,s,o),y&&f.restore(),m!==g.opacity?t.animate=!0:u&&e.endTransition(d)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,t,i){const r=He(t);r in e||(e[r]={}),e[r][i.getKey()]=!0}}const mo={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class uU extends Xl{constructor(e){e=e||{};const t=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete t.preload,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(mo.PRELOAD)}setPreload(e){this.set(mo.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(mo.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(mo.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}class op extends uU{constructor(e){super(e)}createRenderer(){return new LT(this,{cacheSize:this.getCacheSize()})}}const cU={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"],vector:[]},yw={hybrid:["Image","Text","Default"],vector:["Polygon","Circle","LineString","Image","Text","Default"]};class hU extends LT{constructor(e,t){super(e,t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.renderedLayerRevision_,this.renderedPixelToCoordinateTransform_=null,this.renderedRotation_,this.renderedOpacity_=1,this.tmpTransform_=bi(),this.tileClipContexts_=null}drawTile(e,t,i,r,s,o,a,u){this.updateExecutorGroup_(e,t.pixelRatio,t.viewState.projection),this.tileImageNeedsRender_(e)&&this.renderTileImage_(e,t),super.drawTile(e,t,i,r,s,o,a,u)}getTile(e,t,i,r){const s=this.getOrCreateTile(e,t,i,r);if(!s)return null;const a=r.viewState.resolution,u=r.viewHints;return(!(u[sn.ANIMATING]||u[sn.INTERACTING])||!s.wantedResolution)&&(s.wantedResolution=a),s}prepareFrame(e){const t=this.getLayer().getRevision();return this.renderedLayerRevision_!==t&&(this.renderedLayerRevision_=t,this.renderedTiles.length=0),super.prepareFrame(e)}updateExecutorGroup_(e,t,i){const r=this.getLayer(),s=r.getRevision(),o=r.getRenderOrder()||null,a=e.wantedResolution,u=e.getReplayState(r);if(!u.dirty&&u.renderedResolution===a&&u.renderedRevision==s&&u.renderedRenderOrder==o)return;const c=r.getSource(),f=!!r.getDeclutter(),d=c.getTileGrid(),m=c.getTileGridForProjection(i).getTileCoordExtent(e.wrappedTileCoord),y=c.getSourceTiles(t,i,e),v=He(r);delete e.hitDetectionImageData[v],e.executorGroups[v]=[],u.dirty=!1;for(let x=0,C=y.length;x<C;++x){const E=y[x];if(E.getState()!=ye.LOADED)continue;const S=E.tileCoord,R=d.getTileCoordExtent(S),T=Er(m,R),F=bo(T,r.getRenderBuffer()*a,this.tempExtent),O=Rs(R,T)?null:F,N=new zS(0,T,a,t),M=e0(a,t),W=function(G,j){let q;const Y=G.getStyleFunction()||r.getStyleFunction();if(Y&&(q=Y(G,a)),q){const te=this.renderFeature(G,M,q,N,f,j);u.dirty=u.dirty||te}},B=E.getFeatures();o&&o!==u.renderedRenderOrder&&B.sort(o);for(let G=0,j=B.length;G<j;++G){const q=B[G];(!O||vn(O,q.getGeometry().getExtent()))&&W.call(this,q,G)}const z=N.finish(),V=r.getRenderMode()!=="vector"&&f&&y.length===1?null:T,Z=new $S(V,a,t,c.getOverlaps(),z,r.getRenderBuffer(),!0);e.executorGroups[v].push(Z)}u.renderedRevision=s,u.renderedRenderOrder=o,u.renderedResolution=a}forEachFeatureAtCoordinate(e,t,i,r,s){var S,R;const o=t.viewState.resolution,a=t.viewState.rotation;i=i??0;const u=this.getLayer(),f=u.getSource().getTileGridForProjection(t.viewState.projection),d=zm([e]);bo(d,o*i,d);const g={},m=function(T,F,O){let N=T.getId();N===void 0&&(N=He(T));const M=g[N];if(M){if(M!==!0&&O<M.distanceSq){if(O===0)return g[N]=!0,s.splice(s.lastIndexOf(M),1),r(T,u,F);M.geometry=F,M.distanceSq=O}}else{if(O===0)return g[N]=!0,r(T,u,F);s.push(g[N]={feature:T,layer:u,geometry:F,distanceSq:O,callback:r})}},y=this.renderedTiles,v=He(u),x=u.getDeclutter(),C=x?(R=(S=t.declutter)==null?void 0:S[x])==null?void 0:R.all().map(T=>T.value):null;let E;e:for(let T=0,F=y.length;T<F;++T){const O=y[T],N=f.getTileCoordExtent(O.wrappedTileCoord);if(!vn(N,d))continue;const M=O.executorGroups[v];for(let W=0,B=M.length;W<B;++W)if(E=M[W].forEachFeatureAtCoordinate(e,o,a,i,m,C),E)break e}return E}getFeatures(e){return this.renderedTiles.length===0?Promise.resolve([]):new Promise((t,i)=>{const r=this.getLayer(),s=r.getSource(),o=this.renderedProjection,a=o.getExtent(),u=this.renderedResolution,c=s.getTileGridForProjection(o),f=Pn(this.renderedPixelToCoordinateTransform_,e.slice()),d=c.getTileCoordForCoordAndResolution(f,u).toString(),g=this.renderedTiles.find(S=>S.tileCoord.toString()===d&&S.getState()===ye.LOADED);if(!g||g.loadingSourceTiles>0){t([]);return}s.getWrapX()&&o.canWrapX()&&!bs(a,c.getTileCoordExtent(g.tileCoord))&&sy(f,o);const m=He(r),y=c.getTileCoordExtent(g.wrappedTileCoord),v=Ls(y),x=[(f[0]-v[0])/u,(v[1]-f[1])/u],C=g.getSourceTiles().reduce((S,R)=>S.concat(R.getFeatures()),[]);let E=g.hitDetectionImageData[m];if(!E){const S=ei(c.getTileSize(c.getZForResolution(u,s.zDirection))),R=this.renderedRotation_,T=[this.getRenderTransform(c.getTileCoordCenter(g.wrappedTileCoord),u,0,Pi,S[0]*Pi,S[1]*Pi,0)];E=BS(S,T,C,r.getStyleFunction(),c.getTileCoordExtent(g.wrappedTileCoord),g.getReplayState(r).renderedResolution,R),g.hitDetectionImageData[m]=E}t(GS(x,C,E))})}getFeaturesInExtent(e){const t=[],i=this.getTileCache();if(i.getCount()===0)return t;const s=this.getLayer().getSource().getTileGridForProjection(this.frameState.viewState.projection),o=s.getZForResolution(this.renderedResolution),a={};return i.forEach(u=>{if(u.tileCoord[0]!==o||u.getState()!==ye.LOADED)return;const c=u.getSourceTiles();for(let f=0,d=c.length;f<d;++f){const g=c[f],m=g.getKey();if(m in a)continue;a[m]=!0;const y=g.tileCoord;if(vn(e,s.getTileCoordExtent(y))){const v=g.getFeatures();if(v)for(let x=0,C=v.length;x<C;++x){const E=v[x],S=E.getGeometry();vn(e,S.getExtent())&&t.push(E)}}}}),t}handleFontsChanged(){const e=this.getLayer();e.getVisible()&&this.renderedLayerRevision_!==void 0&&e.changed()}handleStyleImageChange_(e){this.renderIfReadyAndVisible()}renderDeclutter(e,t){var g;const i=this.context,r=i.globalAlpha;i.globalAlpha=t.opacity;const s=e.viewHints,o=!(s[sn.ANIMATING]||s[sn.INTERACTING]),a=[this.context.canvas.width,this.context.canvas.height],u=this.getLayer().getDeclutter(),c=u?(g=e.declutter)==null?void 0:g[u]:void 0,f=He(this.getLayer()),d=this.renderedTiles;for(let m=0,y=d.length;m<y;++m){const v=d[m],x=v.executorGroups[f];if(x)for(let C=x.length-1;C>=0;--C)x[C].execute(this.context,a,this.getTileRenderTransform(v,e),e.viewState.rotation,o,qf,c)}i.globalAlpha=r}renderDeferredInternal(e){const t=this.renderedTiles,i=He(this.getLayer()),r=t.reduce((u,c,f)=>(c.executorGroups[i].forEach(d=>u.push({executorGroup:d,index:f})),u),[]),s=r.map(({executorGroup:u})=>u.getDeferredZIndexContexts()),o={};for(let u=0,c=r.length;u<c;++u){const f=r[u].executorGroup.getDeferredZIndexContexts();for(const d in f)o[d]=!0}Object.keys(o).map(Number).sort(Gr).forEach(u=>{s.forEach((c,f)=>{c[u]&&(c[u].forEach(d=>{const{executorGroup:g,index:m}=r[f],y=g.getRenderedContext(),v=y.globalAlpha;y.globalAlpha=this.renderedOpacity_;const x=this.tileClipContexts_[m];x&&x.draw(y),d.draw(y),x&&y.restore(),y.globalAlpha=v,d.clear()}),c[u].length=0)})})}getTileRenderTransform(e,t){const i=t.pixelRatio,r=t.viewState,s=r.center,o=r.resolution,a=r.rotation,u=t.size,c=Math.round(u[0]*i),f=Math.round(u[1]*i),g=this.getLayer().getSource().getTileGridForProjection(t.viewState.projection),m=e.tileCoord,y=g.getTileCoordExtent(e.wrappedTileCoord),v=g.getTileCoordExtent(m,this.tempExtent)[0]-y[0];return fy(Fg(this.inversePixelTransform.slice(),1/i,1/i),this.getRenderTransform(s,o,a,i,c,f,v))}postRender(e,t){var T;const i=t.viewHints,r=!(i[sn.ANIMATING]||i[sn.INTERACTING]);this.renderedPixelToCoordinateTransform_=t.pixelToCoordinateTransform.slice(),this.renderedRotation_=t.viewState.rotation,this.renderedOpacity_=t.layerStatesArray[t.layerIndex].opacity;const s=this.getLayer(),o=s.getRenderMode(),a=e.globalAlpha;e.globalAlpha=this.renderedOpacity_;const u=s.getDeclutter(),c=u?yw[o].filter(F=>!qf.includes(F)):yw[o],f=t.viewState,d=f.rotation,g=s.getSource(),y=g.getTileGridForProjection(f.projection).getZForResolution(f.resolution,g.zDirection),v=this.renderedTiles,x=[],C=[],E=[],S=He(s);let R=!0;for(let F=v.length-1;F>=0;--F){const O=v[F];R=R&&!O.getReplayState(s).dirty;const N=O.executorGroups[S].filter(G=>G.hasExecutors(c));if(N.length===0)continue;const M=this.getTileRenderTransform(O,t),W=O.tileCoord[0];let B=!1;const z=N[0].getClipCoords(M);let V=e,Z;if(z){Z=new $y,V=Z.getContext();for(let G=0,j=x.length;G<j;++G)if(y!==W&&W<C[G]){const q=x[G];vn([z[0],z[3],z[4],z[7]],[q[0],q[3],q[4],q[7]])&&(B||(V.save(),B=!0),V.beginPath(),V.moveTo(z[0],z[1]),V.lineTo(z[2],z[3]),V.lineTo(z[4],z[5]),V.lineTo(z[6],z[7]),V.moveTo(q[6],q[7]),V.lineTo(q[4],q[5]),V.lineTo(q[2],q[3]),V.lineTo(q[0],q[1]),V.clip())}x.push(z),C.push(W)}for(let G=0,j=N.length;G<j;++G)N[G].execute(e,[e.canvas.width,e.canvas.height],M,d,r,c,(T=t.declutter)==null?void 0:T[u]);B&&(V===e?V.restore():E[F]=Z)}e.globalAlpha=a,this.ready=R,this.tileClipContexts_=E,t.declutter||this.renderDeferredInternal(t),super.postRender(e,t)}renderFeature(e,t,i,r,s,o){if(!i)return!1;let a=!1;if(Array.isArray(i))for(let u=0,c=i.length;u<c;++u)a=Uf(r,e,i[u],t,this.boundHandleStyleImageChange_,void 0,s,o)||a;else a=Uf(r,e,i,t,this.boundHandleStyleImageChange_,void 0,s,o);return a}tileImageNeedsRender_(e){const t=this.getLayer();if(t.getRenderMode()==="vector")return!1;const i=e.getReplayState(t),r=t.getRevision(),s=e.wantedResolution;return i.renderedTileResolution!==s||i.renderedTileRevision!==r}renderTileImage_(e,t){const i=this.getLayer(),r=e.getReplayState(i),s=i.getRevision(),o=e.executorGroups[He(i)];r.renderedTileRevision=s;const a=e.wrappedTileCoord,u=a[0],c=i.getSource();let f=t.pixelRatio;const g=t.viewState.projection,m=c.getTileGridForProjection(g),y=m.getResolution(e.tileCoord[0]),v=t.pixelRatio/e.wantedResolution*y,x=m.getResolution(u),C=e.getContext();f=Math.round(Math.max(f,v/f));const E=c.getTilePixelSize(u,f,g);C.canvas.width=E[0],C.canvas.height=E[1];const S=f/v;if(S!==1){const O=j1(this.tmpTransform_);Fg(O,S,S),C.setTransform.apply(C,O)}const R=m.getTileCoordExtent(a,this.tempExtent),T=v/x,F=j1(this.tmpTransform_);Fg(F,T,-T),b6(F,-R[0],-R[3]);for(let O=0,N=o.length;O<N;++O)o[O].execute(C,[C.canvas.width*S,C.canvas.height*S],F,0,!0,cU[i.getRenderMode()],null);r.renderedTileResolution=e.wantedResolution}}class bl extends Ny{constructor(e){e=e||{};const t=Object.assign({},e);delete t.preload;const i=e.cacheSize===void 0?0:e.cacheSize;delete e.cacheSize,delete t.useInterimTilesOnError,super(t),this.on,this.once,this.un,this.cacheSize_=i;const r=e.renderMode||"hybrid";Dt(r=="hybrid"||r=="vector","`renderMode` must be `'hybrid'` or `'vector'`"),this.renderMode_=r,this.setPreload(e.preload?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0),this.getBackground,this.setBackground}createRenderer(){return new hU(this,{cacheSize:this.cacheSize_})}getFeatures(e){return super.getFeatures(e)}getFeaturesInExtent(e){return this.getRenderer().getFeaturesInExtent(e)}getRenderMode(){return this.renderMode_}getPreload(){return this.get(mo.PRELOAD)}getUseInterimTilesOnError(){return this.get(mo.USE_INTERIM_TILES_ON_ERROR)}setPreload(e){this.set(mo.PRELOAD,e)}setUseInterimTilesOnError(e){this.set(mo.USE_INTERIM_TILES_ON_ERROR,e)}}function y0(n){return Array.isArray(n)?Math.min(...n):n}class fU extends Oy{constructor(e,t,i,r,s,o,a){let u=e.getExtent();u&&e.canWrapX()&&(u=u.slice(),u[0]=-1/0,u[2]=1/0);let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);const f=c?Er(i,c):i,d=Ni(f),g=m0(e,t,d,r),m=PT,y=new AT(e,t,f,u,g*m,r),v=y.calculateSourceExtent(),x=Pa(v)?null:o(v,g,s),C=x?Ce.IDLE:Ce.EMPTY,E=x?x.getPixelRatio():1;super(i,r,E,C),this.targetProj_=t,this.maxSourceExtent_=u,this.triangulation_=y,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=x,this.sourcePixelRatio_=E,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==Ce.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const e=this.sourceImage_.getState();if(e==Ce.LOADED){const t=Pt(this.targetExtent_)/this.targetResolution_,i=Tn(this.targetExtent_)/this.targetResolution_;this.canvas_=IT(t,i,this.sourcePixelRatio_,y0(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=e,this.changed()}load(){if(this.state==Ce.IDLE){this.state=Ce.LOADING,this.changed();const e=this.sourceImage_.getState();e==Ce.LOADED||e==Ce.ERROR?this.reproject_():(this.sourceListenerKey_=At(this.sourceImage_,Ve.CHANGE,t=>{const i=this.sourceImage_.getState();(i==Ce.LOADED||i==Ce.ERROR)&&(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){Zt(this.sourceListenerKey_),this.sourceListenerKey_=null}}const hf=4,vm={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class dU extends tr{constructor(e,t){super(e),this.image=t}}class kT extends Zl{constructor(e){super({attributions:e.attributions,projection:e.projection,state:e.state,interpolate:e.interpolate!==void 0?e.interpolate:!0}),this.on,this.once,this.un,this.loader=e.loader||null,this.resolutions_=e.resolutions!==void 0?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=e.loader?e.loader.length===0:!1,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(e){this.resolutions_=e}findNearestResolution(e){const t=this.getResolutions();if(t){const i=Cd(t,e,0);e=t[i]}return e}getImage(e,t,i,r){const s=this.getProjection();if(!s||!r||wo(s,r))return s&&(r=s),this.getImageInternal(e,t,i,r);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&wo(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&Rs(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new fU(s,r,e,t,i,(o,a,u)=>this.getImageInternal(o,a,u,s),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(e,t,i,r){if(this.loader){const s=pU(e,t,i,1),o=this.findNearestResolution(t);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&bs(this.wantedExtent_,s)||bs(this.image.getExtent(),s))&&(this.wantedResolution_&&y0(this.wantedResolution_)===o||y0(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=o,this.image=new Oy(s,o,i,this.loader),this.image.addEventListener(Ve.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(e){const t=e.target;let i;switch(t.getState()){case Ce.LOADING:this.loading=!0,i=vm.IMAGELOADSTART;break;case Ce.LOADED:this.loading=!1,i=vm.IMAGELOADEND;break;case Ce.ERROR:this.loading=!1,i=vm.IMAGELOADERROR;break;default:return}this.hasListener(i)&&this.dispatchEvent(new dU(i,t))}}function pU(n,e,t,i){const r=e/t,s=Ni(n),o=ho(Pt(n)/r,hf),a=ho(Tn(n)/r,hf),u=ho((i-1)*o/2,hf),c=o+2*u,f=ho((i-1)*a/2,hf),d=a+2*f;return Lf(s,r,0,[c,d])}const rl=[0,0,0],Qs=5;class ap{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,Dt(y4(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let t;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!t)t=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==t){t=void 0;break}}this.zoomFactor_=t,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,Dt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Ls(i)),Dt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,Dt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Ty,Dt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const o=new c_(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,t,i){const r=this.getTileRangeForExtentAndZ(e,t);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,u=r.maxY;a<=u;++a)i([t,s,a])}forEachTileCoordParentTileRange(e,t,i,r){let s,o,a,u=null,c=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):u=this.getTileCoordExtent(e,r);c>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=tl(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(u,c,i),t(c,s))return!0;--c}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,t,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return tl(s,s+1,o,o+1,t)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}return null}getTileRangeForTileCoordAndZ(e,t,i){if(t>this.maxZoom||t<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(t===r)return tl(s,o,s,o,i);if(this.zoomFactor_){const u=Math.pow(this.zoomFactor_,t-r),c=Math.floor(s*u),f=Math.floor(o*u);if(t<r)return tl(c,c,f,f,i);const d=Math.floor(u*(s+1))-1,g=Math.floor(u*(o+1))-1;return tl(c,d,f,g,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t,i)}getTileRangeForExtentAndZ(e,t,i){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,rl);const r=rl[1],s=rl[2];this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,rl);const o=rl[1],a=rl[2];return tl(r,o,s,a,i)}getTileCoordCenter(e){const t=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=ei(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*i,t[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,t){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=ei(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,u=o+s[0]*r,c=a+s[1]*r;return Ts(o,a,u,c,t)}getTileCoordForCoordAndResolution(e,t,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,i)}getTileCoordForXYAndResolution_(e,t,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),u=this.getOrigin(o),c=ei(this.getTileSize(o),this.tmpSize_);let f=a*(e-u[0])/i/c[0],d=a*(u[1]-t)/i/c[1];return r?(f=ho(f,Qs)-1,d=ho(d,Qs)-1):(f=Vh(f,Qs),d=Vh(d,Qs)),nd(o,f,d,s)}getTileCoordForXYAndZ_(e,t,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),u=ei(this.getTileSize(i),this.tmpSize_);let c=(e-o[0])/a/u[0],f=(o[1]-t)/a/u[1];return r?(c=ho(c,Qs)-1,f=ho(f,Qs)-1):(c=Vh(c,Qs),f=Vh(f,Qs)),nd(i,c,f,s)}getTileCoordForCoordAndZ(e,t,i){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,t){const i=Cd(this.resolutions_,e,t||0);return fn(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,t){return iS(t,0,t.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const t=this.resolutions_.length,i=new Array(t);for(let r=this.minZoom;r<t;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function OT(n){let e=n.getDefaultTileGrid();return e||(e=yU(n),n.setDefaultTileGrid(e)),e}function gU(n,e,t){const i=e[0],r=n.getTileCoordCenter(e),s=$c(t);if(!wa(s,r)){const o=Pt(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,n.getTileCoordForCoordAndZ(r,i)}return e}function mU(n,e,t,i){i=i!==void 0?i:"top-left";const r=FT(n,e,t);return new ap({extent:n,origin:L4(n,i),resolutions:r,tileSize:t})}function lp(n){const e=n||{},t=e.extent||qt("EPSG:3857").getExtent(),i={extent:t,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:FT(t,e.maxZoom,e.tileSize,e.maxResolution)};return new ap(i)}function FT(n,e,t,i){e=e!==void 0?e:aS,t=ei(t!==void 0?t:Ty);const r=Tn(n),s=Pt(n);i=i>0?i:Math.max(s/t[0],r/t[1]);const o=e+1,a=new Array(o);for(let u=0;u<o;++u)a[u]=i/Math.pow(2,u);return a}function yU(n,e,t,i){const r=$c(n);return mU(r,e,t,i)}function $c(n){n=qt(n);let e=n.getExtent();if(!e){const t=180*So.degrees/n.getMetersPerUnit();e=Ts(-t,-t,t,t)}return e}class DT extends Zl{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const t=[256,256];this.tileGrid&&ei(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),t),this.tmpSize=[0,0],this.key_=e.key||He(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}getTile(e,t,i,r,s){return Ye()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:OT(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(t),o=ei(r.getTileSize(e),this.tmpSize);return s==1?o:N$(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,t){const i=t!==void 0?t:this.getProjection(),r=t!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(e=gU(r,e,i)),aU(e,r)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class _U extends tr{constructor(e,t){super(e),this.tile=t}}function NT(n){return function(e){const t=e.buffers,i=e.meta,r=e.imageOps,s=e.width,o=e.height,a=t.length,u=t[0].byteLength;if(r){const g=new Array(a);for(let y=0;y<a;++y)g[y]=new ImageData(new Uint8ClampedArray(t[y]),s,o);return n(g,i).data.buffer}const c=new Uint8ClampedArray(u),f=new Array(a),d=new Array(a);for(let g=0;g<a;++g)f[g]=new Uint8ClampedArray(t[g]),d[g]=[0,0,0,0];for(let g=0;g<u;g+=4){for(let y=0;y<a;++y){const v=f[y];d[y][0]=v[g],d[y][1]=v[g+1],d[y][2]=v[g+2],d[y][3]=v[g+3]}const m=n(d,i);c[g]=m[0],c[g+1]=m[1],c[g+2]=m[2],c[g+3]=m[3]}return c.buffer}}function vU(n,e){const i=Object.keys(n.lib||{}).map(function(s){return"const "+s+" = "+n.lib[s].toString()+";"}).concat(["const __minion__ = ("+NT.toString()+")(",n.operation.toString(),");",'self.addEventListener("message", function(event) {',"  const buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),r=new Worker(typeof Blob>"u"?"data:text/javascript;base64,"+Buffer.from(i.join(`
`),"binary").toString("base64"):URL.createObjectURL(new Blob(i,{type:"text/javascript"})));return r.addEventListener("message",e),r}function xU(n,e){const t=NT(n.operation);let i=!1;return{postMessage:function(r){setTimeout(function(){i||e({data:{buffer:t(r),meta:r.meta}})},0)},terminate:function(){i=!0}}}class bU extends bc{constructor(e){super(),this.imageOps_=!!e.imageOps;let t;e.threads===0?t=0:this.imageOps_?t=1:t=e.threads||1;const i=new Array(t);if(t)for(let r=0;r<t;++r)i[r]=vU(e,this.onWorkerMessage_.bind(this,r));else i[0]=xU(e,this.onWorkerMessage_.bind(this,0));this.workers_=i,this.queue_=[],this.maxQueueLength_=e.queue||1/0,this.running_=0,this.dataLookup_={},this.job_=null}process(e,t,i){this.enqueue_({inputs:e,meta:t,callback:i}),this.dispatch_()}enqueue_(e){for(this.queue_.push(e);this.queue_.length>this.maxQueueLength_;)this.queue_.shift().callback(null,null)}dispatch_(){if(this.running_||this.queue_.length===0)return;const e=this.queue_.shift();this.job_=e;const t=e.inputs[0].width,i=e.inputs[0].height,r=e.inputs.map(function(u){return u.data.buffer}),s=this.workers_.length;if(this.running_=s,s===1){this.workers_[0].postMessage({buffers:r,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},r);return}const o=e.inputs[0].data.length,a=4*Math.ceil(o/4/s);for(let u=0;u<s;++u){const c=u*a,f=[];for(let d=0,g=r.length;d<g;++d)f.push(r[d].slice(c,c+a));this.workers_[u].postMessage({buffers:f,meta:e.meta,imageOps:this.imageOps_,width:t,height:i},f)}}onWorkerMessage_(e,t){this.disposed||(this.dataLookup_[e]=t.data,--this.running_,this.running_===0&&this.resolveJob_())}resolveJob_(){const e=this.job_,t=this.workers_.length;let i,r;if(t===1)i=new Uint8ClampedArray(this.dataLookup_[0].buffer),r=this.dataLookup_[0].meta;else{const s=e.inputs[0].data.length;i=new Uint8ClampedArray(s),r=new Array(t);const o=4*Math.ceil(s/4/t);for(let a=0;a<t;++a){const u=this.dataLookup_[a].buffer,c=a*o;i.set(new Uint8ClampedArray(u),c),r[a]=this.dataLookup_[a].meta}}this.job_=null,this.dataLookup_={},e.callback(null,new ImageData(i,e.inputs[0].width,e.inputs[0].height),r),this.dispatch_()}disposeInternal(){for(let e=0;e<this.workers_.length;++e)this.workers_[e].terminate();this.workers_.length=0}}const _w={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};class vw extends tr{constructor(e,t,i){super(e),this.extent=t.extent,this.resolution=t.viewState.resolution/t.pixelRatio,this.data=i}}class zT extends kT{constructor(e){super({projection:null}),this.on,this.once,this.un,this.processor_=null,this.operationType_=e.operationType!==void 0?e.operationType:"pixel",this.threads_=e.threads!==void 0?e.threads:1,this.layers_=CU(e.sources);const t=this.changed.bind(this);for(let i=0,r=this.layers_.length;i<r;++i)this.layers_[i].addEventListener(Ve.CHANGE,t);this.useResolutions_=e.resolutions!==null,this.tileQueue_=new PC(function(){return 1},this.processSources_.bind(this)),this.requestedFrameState_,this.renderedImageCanvas_=null,this.renderedRevision_,this.frameState_={animate:!1,coordinateToPixelTransform:bi(),declutter:null,extent:null,index:0,layerIndex:0,layerStatesArray:EU(this.layers_),pixelRatio:1,pixelToCoordinateTransform:bi(),postRenderFunctions:[],size:[0,0],tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{},mapId:He(this),renderTargets:{}},this.setAttributions(function(i){var s;const r=[];for(let o=0,a=e.sources.length;o<a;++o){const u=e.sources[o],c=u instanceof Zl?u:u.getSource();if(!c)continue;const f=(s=c.getAttributions())==null?void 0:s(i);typeof f=="string"?r.push(f):f!==void 0&&r.push(...f)}return r}),e.operation!==void 0&&this.setOperation(e.operation,e.lib)}setOperation(e,t){this.processor_&&this.processor_.dispose(),this.processor_=new bU({operation:e,imageOps:this.operationType_==="image",queue:1,lib:t,threads:this.threads_}),this.changed()}updateFrameState_(e,t,i){const r=Object.assign({},this.frameState_);r.viewState=Object.assign({},r.viewState);const s=Ni(e);r.size[0]=Math.ceil(Pt(e)/t),r.size[1]=Math.ceil(Tn(e)/t),r.extent=[s[0]-r.size[0]*t/2,s[1]-r.size[1]*t/2,s[0]+r.size[0]*t/2,s[1]+r.size[1]*t/2],r.time=Date.now();const o=r.viewState;return o.center=s,o.projection=i,o.resolution=t,r}allSourcesReady_(){let e=!0,t;for(let i=0,r=this.layers_.length;i<r;++i)if(t=this.layers_[i].getSource(),!t||t.getState()!=="ready"){e=!1;break}return e}getImage(e,t,i,r){if(!this.allSourcesReady_())return null;this.tileQueue_.loadMoreTiles(16,16),t=this.findNearestResolution(t);const s=this.updateFrameState_(e,t,r);if(this.requestedFrameState_=s,this.renderedImageCanvas_){const o=this.renderedImageCanvas_.getResolution(),a=this.renderedImageCanvas_.getExtent();(t!==o||!Rs(s.extent,a))&&(this.renderedImageCanvas_=null)}return(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_)&&this.processSources_(),s.animate&&requestAnimationFrame(this.changed.bind(this)),this.renderedImageCanvas_}processSources_(){const e=this.requestedFrameState_,t=this.layers_.length,i=new Array(t);for(let s=0;s<t;++s){e.layerIndex=s,e.renderTargets={};const o=wU(this.layers_[s],e);if(o)i[s]=o;else return}const r={};this.dispatchEvent(new vw(_w.BEFOREOPERATIONS,e,r)),this.processor_.process(i,r,this.onWorkerComplete_.bind(this,e))}onWorkerComplete_(e,t,i,r){if(t||!i)return;const s=e.extent,o=e.viewState.resolution;if(o!==this.requestedFrameState_.viewState.resolution||!Rs(s,this.requestedFrameState_.extent))return;let a;if(this.renderedImageCanvas_)a=this.renderedImageCanvas_.getImage().getContext("2d");else{const u=Math.round(Pt(s)/o),c=Math.round(Tn(s)/o);a=dn(u,c),this.renderedImageCanvas_=new jW(s,o,1,a.canvas)}a.putImageData(i,0,0),e.animate?requestAnimationFrame(this.changed.bind(this)):this.changed(),this.renderedRevision_=this.getRevision(),this.dispatchEvent(new vw(_w.AFTEROPERATIONS,e,r))}getResolutions(e){if(!this.useResolutions_)return null;let t=super.getResolutions();if(!t)for(let i=0,r=this.layers_.length;i<r&&(t=this.layers_[i].getSource().getResolutions(e),!t);++i);return t}disposeInternal(){this.processor_&&this.processor_.dispose(),super.disposeInternal()}}zT.prototype.dispose;let Xo=null;function wU(n,e){const t=n.getRenderer();if(!t)throw new Error("Unsupported layer type: "+n);if(!t.prepareFrame(e))return null;const i=e.size[0],r=e.size[1];if(i===0||r===0)return null;const s=t.renderFrame(e,null);let o;if(s instanceof HTMLCanvasElement)o=s;else{if(s&&(o=s.firstElementChild),!(o instanceof HTMLCanvasElement))throw new Error("Unsupported rendered element: "+o);if(o.width===i&&o.height===r)return o.getContext("2d").getImageData(0,0,i,r)}if(!Xo)Xo=dn(i,r,void 0,{willReadFrequently:!0});else{const a=Xo.canvas;a.width!==i||a.height!==r?Xo=dn(i,r,void 0,{willReadFrequently:!0}):Xo.clearRect(0,0,i,r)}return Xo.drawImage(o,0,0,i,r),Xo.getImageData(0,0,i,r)}function EU(n){return n.map(function(e){return e.getLayerState()})}function CU(n){const e=n.length,t=new Array(e);for(let i=0;i<e;++i)t[i]=SU(n[i]);return t}function SU(n){let e;return n instanceof Zl?n instanceof DT?e=new op({source:n}):n instanceof kT&&(e=new RT({source:n})):e=n,e}function TU(n,e,t,i){const r=document.createElement("script"),s="olc_"+He(e);function o(){delete window[s],r.parentNode.removeChild(r)}r.async=!0,r.src=n+(n.includes("?")?"&":"?")+"callback="+s;const a=setTimeout(function(){o(),t&&t()},1e4);window[s]=function(u){clearTimeout(a),o(),e(u)},document.head.appendChild(r)}const RU=/\{z\}/g,IU=/\{x\}/g,AU=/\{y\}/g,PU=/\{-y\}/g;function MU(n,e,t,i,r){return n.replace(RU,e.toString()).replace(IU,t.toString()).replace(AU,i.toString()).replace(PU,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function LU(n){const e=[];let t=/\{([a-z])-([a-z])\}/.exec(n);if(t){const i=t[1].charCodeAt(0),r=t[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(n.replace(t[0],String.fromCharCode(s)));return e}if(t=/\{(\d+)-(\d+)\}/.exec(n),t){const i=parseInt(t[2],10);for(let r=parseInt(t[1],10);r<=i;r++)e.push(n.replace(t[0],r.toString()));return e}return e.push(n),e}function kU(n,e){return function(t,i,r){if(!t)return;let s;const o=t[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return MU(n,o,t[1],t[2],s)}}function $T(n,e){const t=n.length,i=new Array(t);for(let r=0;r<t;++r)i[r]=kU(n[r],e);return OU(i)}function OU(n){return n.length===1?n[0]:function(e,t,i){if(!e)return;const r=sU(e),s=gl(r,n.length);return n[s](e,t,i)}}const xm={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class up extends DT{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===up.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const t=e.target,i=He(t),r=t.getState();let s;r==ye.LOADING?(this.tileLoadingKeys_[i]=!0,s=xm.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==ye.ERROR?xm.TILELOADERROR:r==ye.LOADED?xm.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new _U(s,t))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,t){this.tileUrlFunction=e,typeof t<"u"?this.setKey(t):this.changed()}setUrl(e){const t=LU(e);this.urls=t,this.setUrls(t)}setUrls(e){this.urls=e;const t=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction($T(e,this.tileGrid),t):this.setKey(t)}tileUrlFunction(e,t,i){}}class BT extends up{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:FU,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:_T,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!wo(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const t=this.getProjection();if(this.tileGrid&&(!t||wo(t,e)))return this.tileGrid;const i=He(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=OT(e)),this.tileGridForProjection[i]}createTile_(e,t,i,r,s,o){const a=[e,t,i],u=this.getTileCoordForTileUrlFunction(a,s),c=u?this.tileUrlFunction(u,r,s):void 0,f=new this.tileClass(a,c!==void 0?ye.IDLE:ye.EMPTY,c!==void 0?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=o,f.addEventListener(Ve.CHANGE,this.handleTileChange.bind(this)),f}getTile(e,t,i,r,s){const o=this.getProjection();if(!o||!s||wo(o,s))return this.getTileInternal(e,t,i,r,o||s);const a=[e,t,i],u=this.getKey(),c=this.getTileGridForProjection(o),f=this.getTileGridForProjection(s),d=this.getTileCoordForTileUrlFunction(a,s),g=new MT(o,c,s,f,a,d,this.getTilePixelRatio(r),this.getGutter(),(m,y,v,x)=>this.getTileInternal(m,y,v,x,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=u,g}getTileInternal(e,t,i,r,s){const o=this.getKey();return this.createTile_(e,t,i,r,s,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,t){const i=qt(e);if(i){const r=He(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=t)}}}function FU(n,e){n.getImage().src=e}class GT extends BT{constructor(e){if(super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:qt("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:"loading",tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,zDirection:e.zDirection}),this.tileJSON_=null,this.tileSize_=e.tileSize,e.url)if(e.jsonp)TU(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this));else{const t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this)),t.addEventListener("error",this.onXHRError_.bind(this)),t.open("GET",e.url),t.send()}else if(e.tileJSON)this.handleTileJSONResponse(e.tileJSON);else throw new Error("Either `url` or `tileJSON` options must be provided")}onXHRLoad_(e){const t=e.target;if(!t.status||t.status>=200&&t.status<300){let i;try{i=JSON.parse(t.responseText)}catch{this.handleTileJSONError();return}this.handleTileJSONResponse(i)}else this.handleTileJSONError()}onXHRError_(e){this.handleTileJSONError()}getTileJSON(){return this.tileJSON_}handleTileJSONResponse(e){const t=qt("EPSG:4326"),i=this.getProjection();let r;if(e.bounds!==void 0){const c=Tc(t,i);r=F4(e.bounds,c)}const s=$c(i),o=e.minzoom||0,a=e.maxzoom||22,u=lp({extent:s,maxZoom:a,minZoom:o,tileSize:this.tileSize_});if(this.tileGrid=u,this.tileUrlFunction=$T(e.tiles,u),e.attribution&&!this.getAttributions()){const c=r!==void 0?r:s;this.setAttributions(function(f){return vn(c,f.extent)?[e.attribution]:null})}this.tileJSON_=e,this.setState("ready")}handleTileJSONError(){this.setState("error")}}class cp extends up{constructor(e){const t=e.projection||"EPSG:3857",i=e.extent||$c(t),r=e.tileGrid||lp({extent:i,maxResolution:e.maxResolution,maxZoom:e.maxZoom!==void 0?e.maxZoom:22,minZoom:e.minZoom,tileSize:e.tileSize||512});super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,interpolate:!0,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:WT,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===void 0?!0:e.wrapX,transition:e.transition,zDirection:e.zDirection===void 0?1:e.zDirection}),this.format_=e.format?e.format:null,this.tileKeysBySourceTileUrl_={},this.sourceTiles_={},this.overlaps_=e.overlaps==null?!0:e.overlaps,this.tileClass=e.tileClass?e.tileClass:vT,this.tileGrids_={}}getOverlaps(){return this.overlaps_}getSourceTiles(e,t,i){if(i.getState()===ye.IDLE){i.setState(ye.LOADING);const r=i.wrappedTileCoord,s=this.getTileGridForProjection(t),o=s.getTileCoordExtent(r),a=r[0],u=s.getResolution(a);bo(o,-u,o);const c=this.tileGrid,f=c.getExtent();f&&Er(o,f,o);const d=c.getZForResolution(u,this.zDirection);c.forEachTileCoord(o,d,g=>{const m=this.tileUrlFunction(g,e,t);this.sourceTiles_[m]||(this.sourceTiles_[m]=new this.tileClass(g,m?ye.IDLE:ye.EMPTY,m,this.format_,this.tileLoadFunction));const y=this.sourceTiles_[m];i.sourceTiles.push(y),this.tileKeysBySourceTileUrl_[m]||(this.tileKeysBySourceTileUrl_[m]=[]),this.tileKeysBySourceTileUrl_[m].push(i.getKey());const v=y.getState();if(v<ye.LOADED){const x=C=>{this.handleTileChange(C);const E=y.getState();if(E===ye.LOADED||E===ye.ERROR){const S=y.getKey();S in i.errorTileKeys?y.getState()===ye.LOADED&&delete i.errorTileKeys[S]:i.loadingSourceTiles--,E===ye.ERROR?i.errorTileKeys[S]=!0:y.removeEventListener(Ve.CHANGE,x),i.loadingSourceTiles===0&&i.setState(Co(i.errorTileKeys)?ye.LOADED:ye.ERROR)}};y.addEventListener(Ve.CHANGE,x),i.loadingSourceTiles++}v===ye.IDLE&&(y.extent=c.getTileCoordExtent(g),y.projection=t,y.resolution=c.getResolution(g[0]),y.load())}),i.loadingSourceTiles||i.setState(i.sourceTiles.some(g=>g.getState()===ye.ERROR)?ye.ERROR:ye.LOADED)}return i.sourceTiles}removeSourceTiles(e){const t=e.getKey(),i=e.sourceTiles;for(let r=0,s=i.length;r<s;++r){const o=i[r].getTileUrl();if(!this.tileKeysBySourceTileUrl_[o])return;const a=this.tileKeysBySourceTileUrl_[o].indexOf(t);a!==-1&&(this.tileKeysBySourceTileUrl_[o].splice(a,1),this.tileKeysBySourceTileUrl_[o].length===0&&(delete this.tileKeysBySourceTileUrl_[o],delete this.sourceTiles_[o]))}}getTile(e,t,i,r,s){const o=[e,t,i];let a=this.getTileCoordForTileUrlFunction(o,s);const u=this.getTileGrid().getExtent(),c=this.getTileGridForProjection(s);if(a&&u){const g=c.getTileCoordExtent(a);bo(g,-c.getResolution(e),g),vn(u,g)||(a=null)}let f=!0;if(a!==null){const g=this.tileGrid,m=c.getResolution(e),y=g.getZForResolution(m,1),v=c.getTileCoordExtent(a);bo(v,-m,v),g.forEachTileCoord(v,y,x=>{f=f&&!this.tileUrlFunction(x,r,s)})}const d=new HW(o,f?ye.EMPTY:ye.IDLE,a,this.getSourceTiles.bind(this,r,s),this.removeSourceTiles.bind(this));return d.key=this.getKey(),d}getTileGridForProjection(e){const t=e.getCode();let i=this.tileGrids_[t];if(!i){const r=this.getProjection();Dt(r===null||wo(r,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection.");const s=this.tileGrid,o=s.getResolutions().slice(),a=o.map(function(f,d){return s.getOrigin(d)}),u=o.map(function(f,d){return s.getTileSize(d)}),c=aS+1;for(let f=o.length;f<c;++f)o.push(o[f-1]/2),a.push(a[f-1]),u.push(u[f-1]);i=new ap({extent:s.getExtent(),origins:a,resolutions:o,tileSizes:u}),this.tileGrids_[t]=i}return i}getTilePixelRatio(e){return e}getTilePixelSize(e,t,i){const r=this.getTileGridForProjection(i),s=ei(r.getTileSize(e),this.tmpSize);return[Math.round(s[0]*t),Math.round(s[1]*t)]}setOverlaps(e){this.overlaps_=e,this.changed()}}function WT(n,e){n.setLoader(function(t,i,r){yT(e,n.getFormat(),t,i,r,n.onLoad.bind(n),n.onError.bind(n))})}function DU(n,e){const t=n[0],i=t.width,r=t.height,s=t.data,o=new Uint8ClampedArray(s.length),a=e.resolution*2,u=i-1,c=r-1,f=[0,0,0,0],d=2*Math.PI,g=Math.PI/2,m=Math.PI*e.sunEl/180,y=Math.PI*e.sunAz/180,v=Math.cos(m),x=Math.sin(m),C=e.highlightColor,E=e.shadowColor,S=e.accentColor,R=e.encoding;let T,F,O,N,M,W,B,z,V,Z,G,j,q,Y,te,ne,me,he,Ue,oe,Me,ct;function De(Re,Se="mapbox"){if(Se==="mapbox")return(Re[0]*256*256+Re[1]*256+Re[2])*.1-1e4;if(Se==="terrarium")return Re[0]*256+Re[1]+Re[2]/256-32768}for(F=0;F<=c;++F)for(M=F===0?0:F-1,W=F===c?c:F+1,T=0;T<=u;++T)O=T===0?0:T-1,N=T===u?u:T+1,B=(F*i+O)*4,f[0]=s[B],f[1]=s[B+1],f[2]=s[B+2],f[3]=s[B+3],z=e.vert*De(f,R),B=(F*i+N)*4,f[0]=s[B],f[1]=s[B+1],f[2]=s[B+2],f[3]=s[B+3],V=e.vert*De(f,R),Z=(V-z)/a,B=(M*i+T)*4,f[0]=s[B],f[1]=s[B+1],f[2]=s[B+2],f[3]=s[B+3],z=e.vert*De(f,R),B=(W*i+T)*4,f[0]=s[B],f[1]=s[B+1],f[2]=s[B+2],f[3]=s[B+3],V=e.vert*De(f,R),G=(V-z)/a,q=Math.atan2(G,-Z),q<0?q=g-q:q>g?q=d-q+g:q=g-q,j=Math.atan(Math.sqrt(Z*Z+G*G)),ct=x*Math.cos(j)+v*Math.sin(j)*Math.cos(y-q),Y=Math.cos(j),te=255*ct,Ue=Math.min(Math.max(2*e.sunEl,0),1),oe=1.875-e.opacity*1.75,Me=e.opacity!==.5?g*((Math.pow(oe,j)-1)/(Math.pow(oe,g)-1)):j,me={r:(1-Y)*S.r*Ue*255,g:(1-Y)*S.g*Ue*255,b:(1-Y)*S.b*Ue*255,a:(1-Y)*S.a*Ue*255},ne=Math.abs(((q+y)/Math.PI+.5)%2-1),he={r:(C.r*(1-ne)+E.r*ne)*te,g:(C.g*(1-ne)+E.g*ne)*te,b:(C.b*(1-ne)+E.b*ne)*te,a:(C.a*(1-ne)+E.a*ne)*te},B=(F*i+T)*4,o[B]=me.r*(1-ne)+he.r,o[B+1]=me.g*(1-ne)+he.g,o[B+2]=me.b*(1-ne)+he.b,o[B+3]=s[B+3]*e.opacity*Ue*Math.sin(Me);return new ImageData(o,i,r)}function NU(n,e=512){return n.getExtent()?lp({extent:n.getExtent(),tileSize:e,maxZoom:22}).getResolutions():Vr}function qT(n,e){return e.accessToken||(e=Object.assign({},e),new URL(n).searchParams.forEach((i,r)=>{e.accessToken=i,e.accessTokenParam=r})),e}function zU(n,e,t="",i={},r=void 0){let s,o,a,u,c=!0;return typeof t!="string"&&!Array.isArray(t)?(a=t,u=a.source||a.layers,i=a):u=t,typeof i=="string"?(s=i,a={}):(s=i.styleUrl,a=i),a.updateSource===!1&&(c=!1),r||(r=a.resolutions),!s&&typeof e=="string"&&!e.trim().startsWith("{")&&(s=e),s&&(s=s.startsWith("data:")?location.href:ed(s,a.accessToken),a=qT(s,a)),new Promise(function(f,d){wT(e,a).then(function(g){if(g.version!=8)return d(new Error("glStyle version 8 required."));if(!(n instanceof kc||n instanceof bl))return d(new Error("Can only apply to VectorLayer or VectorTileLayer"));const m=n instanceof bl?"vector":"geojson";if(u?Array.isArray(u)?o=g.layers.find(function(R){return R.id===u[0]}).source:o=u:(o=g.layers.find(function(R){return R.source&&g.sources[R.source].type===m}).source,u=o),!o)return d(new Error(`No ${m} source found in the glStyle.`));function y(){if(!c)return Promise.resolve();if(n instanceof bl)return VT(g.sources[o],s,a).then(function(O){const N=n.getSource();N?O!==N&&(N.setTileUrlFunction(O.getTileUrlFunction()),typeof N.setUrls=="function"&&typeof O.getUrls=="function"&&N.setUrls(O.getUrls()),N.format_||(N.format_=O.format_),N.getAttributions()||N.setAttributions(O.getAttributions()),N.getTileLoadFunction()===WT&&N.setTileLoadFunction(O.getTileLoadFunction()),wo(N.getProjection(),O.getProjection())&&(N.tileGrid=O.getTileGrid())):n.setSource(O);const M=n.getSource().getTileGrid();!isFinite(n.getMaxResolution())&&!isFinite(n.getMinZoom())&&M.getMinZoom()>0&&n.setMaxResolution(Nu(Math.max(0,M.getMinZoom()-1e-12),M.getResolutions()))});const R=g.sources[o];let T=n.getSource();(!T||T.get("mapbox-source")!==R)&&(T=YT(R,s,a));const F=n.getSource();return F?T!==F&&(F.getAttributions()||F.setAttributions(T.getAttributions()),F.format_||(F.format_=T.getFormat()),F.url_=T.getUrl()):n.setSource(T),Promise.resolve()}let v,x;const C={},E={};function S(){if(!x&&(!g.sprite||C)){if(a.projection&&!r){const O=qt(a.projection).getUnits();O!=="m"&&(r=Vr.map(N=>N/So[O]))}let R;const T=n.getSource();T instanceof cp&&T.format_ instanceof m_&&(R=T.format_.layerName_),x=uq(n,g,u,r,C,E,(F,O=a.webfonts)=>nq(F,O),a.getImage,R),n.getStyle()?y().then(f).catch(d):d(new Error(`Nothing to show for source [${o}]`))}else x?(n.setStyle(x),y().then(f).catch(d)):d(new Error("Something went wrong trying to apply style."))}if(g.sprite){const R=XW(g.sprite,a.accessToken,s||location.href);v=window.devicePixelRatio>=1.5?.5:1;const T=v==.5?"@2x":"";Promise.all(R.map(function(F){const O=new URL(F.url);let N=O.origin+O.pathname+T+".json"+O.search;return new Promise(function(M,W){Gl("Sprite",N,a).then(M).catch(function(B){N=O.origin+O.pathname+".json"+O.search,Gl("Sprite",N,a).then(M).catch(W)})}).then(function(M){M===void 0&&d(new Error("No sprites found."));let W;if(W=O.origin+O.pathname+T+".png"+O.search,a.transformRequest){const B=a.transformRequest(W,"SpriteImage")||W;(B instanceof Request||B instanceof Promise)&&(W=B)}E[F.id]=W;for(const B in M){const z=F.id=="default"?B:`${F.id}:${B}`;C[z]=M[B]}}).catch(function(M){d(new Error(`Sprites cannot be loaded: ${N}: ${M.message}`))})})).then(S).catch(d)}else S()}).catch(d)})}function UT(n,e){let t;return n.some(function(i){if(i.id==e)return t=i.source,!0}),t}function $U(n,e){const t=n.bounds;if(t){const i=Fl([t[0],t[1]],e),r=Fl([t[2],t[3]],e);return[i[0],i[1],r[0],r[1]]}return qt(e).getExtent()}function jT(n,e,t){const i=new GT({tileJSON:e,tileSize:n.tileSize||e.tileSize||512}),r=i.getTileJSON(),s=i.getTileGrid(),o=qt(t.projection||"EPSG:3857"),a=$U(r,o),u=o.getExtent(),c=r.minzoom||0,f=r.maxzoom||22,d={attributions:i.getAttributions(),projection:o,tileGrid:new ap({origin:u?Ls(u):s.getOrigin(0),extent:a||s.getExtent(),minZoom:c,resolutions:NU(o,e.tileSize).slice(0,f+1),tileSize:s.getTileSize(0)})};return Array.isArray(r.tiles)?d.urls=r.tiles:d.url=r.tiles,d}function BU(n,e,t,i){const r={id:n.id,type:n.type},s=n.layout||{},o=n.paint||{};r.paint=o,Fi.zoom=d_(e,t.resolutions||Vr),Fi.distanceFromCenter=0;let a;const u=Ie(r,"paint","background-color",vr,i);return o["background-opacity"]!==void 0&&(a=Ie(r,"paint","background-opacity",vr,i)),s.visibility=="none"?void 0:io(u,a)}function GU(n,e,t){const i=document.createElement("div");return i.className="ol-mapbox-style-background",i.style.position="absolute",i.style.width="100%",i.style.height="100%",new Xl({source:new Zl({}),render(r){const s=BU(n,r.viewState.resolution,e,t);return i.style.backgroundColor=s,i}})}function VT(n,e,t){return new Promise(function(i,r){ET(n,e,t).then(function({tileJson:s,tileLoadFunction:o}){const a=jT(n,s,t);a.tileLoadFunction=o,a.format=new m_({layerName:"mvt:layer"});const u=new cp(a);u.set("mapbox-source",n),i(u)}).catch(r)})}function WU(n,e,t){const i=new bl({declutter:!0,visible:!1});return VT(n,e,t).then(function(r){i.setSource(r)}).catch(function(r){i.setSource(void 0)}),i}function HT(n){return`{bbox-${(n?n.getCode():"EPSG:3857").toLowerCase().replace(/[^a-z0-9]/g,"-")}}`}function qU(n,e,t){return new Promise(function(i,r){ET(n,e,t).then(function({tileJson:s,tileLoadFunction:o}){const a=new GT({interpolate:t.interpolate===void 0?!0:t.interpolate,transition:0,crossOrigin:"anonymous",tileJSON:s});a.tileGrid=jT(n,s,t).tileGrid,t.projection&&(a.projection=qt(t.projection));const u=a.getTileUrlFunction();o&&a.setTileLoadFunction(o),a.setTileUrlFunction(function(c,f,d){const g=HT(d);let m=u(c,f,d);if(m.indexOf(g)!=-1){const y=a.getTileGrid().getTileCoordExtent(c);m=m.replace(g,y.toString())}return m}),a.set("mapbox-source",n),i(a)}).catch(function(s){r(s)})})}function XT(n,e,t){const i=new op;return qU(n,e,t).then(function(r){i.setSource(r)}).catch(function(){i.setSource(void 0)}),i}function UU(n,e,t){const i=XT(n,e,t);return new RT({source:new zT({operationType:"image",operation:DU,sources:[i]})})}function YT(n,e,t){const i=t.projection?new uw({dataProjection:t.projection}):new uw,r=n.data,s={};if(typeof r=="string"){const[a]=yf(r,t.accessToken,t.accessTokenParam||"access_token",e||location.href);if(/\{bbox-[0-9a-z-]+\}/.test(a)){const c=(d,g,m)=>{const y=HT(m);return a.replace(y,`${d.join(",")}`)},f=new Wu({attributions:n.attribution,format:i,loader:(d,g,m,y,v)=>{const x=typeof c=="function"?c(d,g,m):c;Gl("GeoJSON",x,t).then(C=>{const E=f.getFormat().readFeatures(C,{featureProjection:m});f.addFeatures(E),y(E)}).catch(C=>{f.removeLoadedExtent(d),v()})},strategy:UW});return f.set("mapbox-source",n),f}const u=new Wu({attributions:n.attribution,format:i,url:a,loader:(c,f,d,g,m)=>{Gl("GeoJSON",a,t).then(y=>{const v=u.getFormat().readFeatures(y,{featureProjection:d});u.addFeatures(v),g(v)}).catch(y=>{u.removeLoadedExtent(c),m()})}});return u}s.features=i.readFeatures(r,{featureProjection:"EPSG:3857"});const o=new Wu(Object.assign({attributions:n.attribution,format:i},s));return o.set("mapbox-source",n),o}function jU(n,e,t){return new kc({declutter:!0,source:YT(n,e,t),visible:!1})}function VU(n,e,t){let i=null;return function(r){n.paint&&"raster-opacity"in n.paint&&r.frameState.viewState.zoom!==i&&(i=r.frameState.viewState.zoom,delete t[n.id],HU(n,e,i,t))}}function HU(n,e,t,i){Fi.zoom=t,Fi.distanceFromCenter=0;const r=Ie(n,"paint","raster-opacity",vr,i);e.setOpacity(r)}function XU(n,e){function t(){const i=e.get("mapbox-style");if(!i)return;const r=VS(i.layers),s=n.get("mapbox-layers"),o=r.filter(function(a){return s.includes(a.id)}).some(function(a){return!a.layout||!a.layout.visibility||a.layout.visibility==="visible"});n.get("visible")!==o&&n.setVisible(o)}n.on("change",t),t()}function YU(n,e,t,i){const r=bT(n),s=n.layers,o=t.type,a=t.source||UT(s,t.ref),u=n.sources[a];let c;if(o=="background")c=GU(t,i,r);else if(u.type=="vector")c=WU(u,e,i);else if(u.type=="raster")c=XT(u,e,i),c.setVisible(t.layout?t.layout.visibility!=="none":!0),c.on("prerender",VU(t,c,r));else if(u.type=="geojson")c=jU(u,e,i);else if(u.type=="raster-dem"&&t.type=="hillshade"){const d=UU(u,e,i);c=d,d.getSource().on("beforeoperations",function(g){const m=g.data;m.resolution=Um(i.projection||"EPSG:3857",g.resolution,Ni(g.extent),"m"),Fi.zoom=d_(g.resolution,i.resolutions||Vr),Fi.distanceFromCenter=0,m.encoding=u.encoding,m.vert=5*Ie(t,"paint","hillshade-exaggeration",vr,r),m.sunAz=Ie(t,"paint","hillshade-illumination-direction",vr,r),m.sunEl=35,m.opacity=.3,m.highlightColor=Ie(t,"paint","hillshade-highlight-color",vr,r),m.shadowColor=Ie(t,"paint","hillshade-shadow-color",vr,r),m.accentColor=Ie(t,"paint","hillshade-accent-color",vr,r)}),c.setVisible(t.layout?t.layout.visibility!=="none":!0)}const f=a;return c&&c.set("mapbox-source",f),c}function xw(n,e,t,i){const r=[];let s=null;if(e instanceof Wd){if(s=e.getView(),!s.isDef()&&!s.getRotation()&&!s.getResolutions()){const d=i.projection?qt(i.projection):s.getProjection();s=new gr(Object.assign(s.getProperties(),{maxResolution:Vr[0]/So[d.getUnits()],projection:i.projection||s.getProjection()})),e.setView(s)}"center"in n&&!s.getCenter()&&s.setCenter(Fl(n.center,s.getProjection())),"zoom"in n&&s.getZoom()===void 0&&s.setResolution(Vr[0]/So[s.getProjection().getUnits()]/Math.pow(2,n.zoom)),(!s.getCenter()||s.getZoom()===void 0)&&s.fit(s.getProjection().getExtent(),{nearest:!0,size:e.getSize()})}e.set("mapbox-style",n),e.set("mapbox-metadata",{styleUrl:t,options:i});const o=n.layers;let a=[],u,c,f;for(let d=0,g=o.length;d<g;++d){const m=o[d],y=m.type;if(y=="heatmap"){console.debug(`layers[${d}].type "${y}" not supported`);continue}else f=m.source||UT(o,m.ref),(!f||f!=c)&&(a.length&&(r.push(ww(u,a,n,t,e,i)),a=[]),u=YU(n,t,m,i),u instanceof kc||u instanceof bl||(a=[]),c=u.get("mapbox-source")),a.push(m.id)}return r.push(ww(u,a,n,t,e,i)),Promise.all(r)}function bw(n,e,t={}){let i,r;if(typeof n=="string"||n instanceof HTMLElement?r=new Wd({target:n}):r=n,typeof e=="string"){const s=e.startsWith("data:")?location.href:ed(e,t.accessToken);t=qT(s,t),i=new Promise(function(o,a){wT(e,t).then(function(u){xw(u,r,s,t).then(function(){o(r)}).catch(a)}).catch(function(u){a(new Error(`Could not load ${e}: ${u.message}`))})})}else i=new Promise(function(s,o){xw(e,r,!t.styleUrl||t.styleUrl.startsWith("data:")?location.href:ed(t.styleUrl,t.accessToken),t).then(function(){s(r)}).catch(o)});return i}function ww(n,e,t,i,r,s={}){let o=24,a=0;const u=t.layers;for(let c=0,f=u.length;c<f;++c){const d=u[c];e.indexOf(d.id)!==-1&&(o=Math.min("minzoom"in d?d.minzoom:0,o),a=Math.max("maxzoom"in d?d.maxzoom:24,a))}return new Promise(function(c,f){const d=function(){const m=n.getSource();if(!m||m.getState()==="error"){f(new Error("Error accessing data for source "+n.get("mapbox-source")));return}if("getTileGrid"in m){const y=m.getTileGrid();if(y){const v=y.getMinZoom();(o>0||v>0)&&n.setMaxResolution(Math.min(Nu(Math.max(0,o-1e-12),Vr),Nu(Math.max(0,v-1e-12),y.getResolutions()))),a<24&&n.setMinResolution(Nu(a,Vr))}}else o>0&&n.setMaxResolution(Nu(Math.max(0,o-1e-12),Vr));m instanceof Wu||m instanceof cp?zU(n,t,e,Object.assign({styleUrl:i},s)).then(function(){XU(n,r),c()}).catch(f):c()};n.set("mapbox-layers",e);const g=r.getLayers();g.getArray().indexOf(n)===-1&&g.push(n),n.getSource()?d():n.once("change:source",d)})}class KT extends BT{constructor(e){e=e||{};const t=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:lp({extent:$c(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const KU='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class ZU extends KT{constructor(e){e=e||{};let t;e.attributions!==void 0?t=e.attributions:t=[KU];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const JU=()=>n=>{var t;return((t=n.getGeometry())==null?void 0:t.getType())==="Point"?new Sn({image:new Ao({radius:6,fill:new ui({color:"#FF6600"}),stroke:new ci({color:"#fff",width:2})})}):new Sn({stroke:new ci({color:"#FF6600",width:2}),fill:new ui({color:"rgba(255, 102, 0, 0.2)"})})},QU=n=>{const e=new Wu({features:(n.data??[]).map(i=>{let r;if(i.type==="Point"){const o=i.coordinates;r=new Is(Fl(o))}else r=new Sr(i.coordinates).transform("EPSG:4326","EPSG:3857");const s=new As({geometry:r,id:i.id,...i.meta});return i.label&&s.set("label",i.label),s})}),t=new kc({source:e,visible:n.visible??!0,style:n.style??JU(),zIndex:n.zIndex??10});return t.set("id",n.id),t.set("kind",n.kind),t},e7=n=>{switch(n.provider){case"mapbox":case"maptiler":const e=new To;return bw(e,n.styleUrl||n.url,{accessToken:n.accessToken}),e.set("id",n.id),e.set("kind",n.kind),e.set("label",n.label),_f(e,{visible:!!n.visible,label:n.label,image:n.previewImage});case"arcgis":const t=new bl({source:new cp({url:n.url+"/tile/{z}/{y}/{x}.pbf",format:new m_}),visible:n.visible!==!1});return t.set("id",n.id),t.set("kind",n.kind),t.set("label",n.label),_f(t,{visible:!!n.visible,label:n.label,image:n.previewImage});case"custom":const i=new To;return bw(i,n.styleUrl||n.url,{accessToken:n.accessToken}),i.set("id",n.id),i.set("kind",n.kind),i.set("label",n.label),_f(i,{visible:!!n.visible,label:n.label,image:n.previewImage});default:throw new Error(`Unknown vector tile provider: ${n.provider}`)}},t7=n=>{const e=new op({visible:n.visible??!0,source:new KT({url:n.url,projection:"EPSG:3857"})});e.set("id",n.id),e.set("kind",n.kind),e.set("label",n.label);const{previewImage:t,label:i,visible:r}=n;return _f(e,{image:t,label:i,visible:!!r})},_f=(n,e)=>(n.set("meta",e),n),id=n=>n.get("meta"),_0="marker-layer",n7=(n=2,e=[0,0])=>(e||console.info("Center coordinates not set, using default"),new gr({zoom:n,center:Fl(e),minZoom:1,maxZoom:18})),Ew=["fullscreenchange","webkitfullscreenchange"],Cw={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"};class i7 extends Dd{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target}),this.on,this.once,this.un,this.keys_=e.keys!==void 0?e.keys:!1,this.source_=e.source,this.isInFullscreen_=!1,this.boundHandleMapTargetChange_=this.handleMapTargetChange_.bind(this),this.cssClassName_=e.className!==void 0?e.className:"ol-full-screen",this.documentListeners_=[],this.activeClassName_=e.activeClassName!==void 0?e.activeClassName.split(" "):[this.cssClassName_+"-true"],this.inactiveClassName_=e.inactiveClassName!==void 0?e.inactiveClassName.split(" "):[this.cssClassName_+"-false"];const t=e.label!==void 0?e.label:"⤢";this.labelNode_=typeof t=="string"?document.createTextNode(t):t;const i=e.labelActive!==void 0?e.labelActive:"×";this.labelActiveNode_=typeof i=="string"?document.createTextNode(i):i;const r=e.tipLabel?e.tipLabel:"Toggle full-screen";this.button_=document.createElement("button"),this.button_.title=r,this.button_.setAttribute("type","button"),this.button_.appendChild(this.labelNode_),this.button_.addEventListener(Ve.CLICK,this.handleClick_.bind(this),!1),this.setClassName_(this.button_,this.isInFullscreen_),this.element.className=`${this.cssClassName_} ${Ic} ${Fd}`,this.element.appendChild(this.button_)}handleClick_(e){e.preventDefault(),this.handleFullScreen_()}handleFullScreen_(){const e=this.getMap();if(!e)return;const t=e.getOwnerDocument();if(Sw(t))if(Tw(t))s7(t);else{let i;this.source_?i=typeof this.source_=="string"?t.getElementById(this.source_):this.source_:i=e.getTargetElement(),this.keys_?r7(i):ZT(i)}}handleFullScreenChange_(){const e=this.getMap();if(!e)return;const t=this.isInFullscreen_;this.isInFullscreen_=Tw(e.getOwnerDocument()),t!==this.isInFullscreen_&&(this.setClassName_(this.button_,this.isInFullscreen_),this.isInFullscreen_?(zf(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(Cw.ENTERFULLSCREEN)):(zf(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(Cw.LEAVEFULLSCREEN)),e.updateSize())}setClassName_(e,t){t?(e.classList.remove(...this.inactiveClassName_),e.classList.add(...this.activeClassName_)):(e.classList.remove(...this.activeClassName_),e.classList.add(...this.inactiveClassName_))}setMap(e){const t=this.getMap();t&&t.removeChangeListener(Bn.TARGET,this.boundHandleMapTargetChange_),super.setMap(e),this.handleMapTargetChange_(),e&&e.addChangeListener(Bn.TARGET,this.boundHandleMapTargetChange_)}handleMapTargetChange_(){const e=this.documentListeners_;for(let i=0,r=e.length;i<r;++i)Zt(e[i]);e.length=0;const t=this.getMap();if(t){const i=t.getOwnerDocument();Sw(i)?this.element.classList.remove(Q1):this.element.classList.add(Q1);for(let r=0,s=Ew.length;r<s;++r)e.push(At(i,Ew[r],this.handleFullScreenChange_,this));this.handleFullScreenChange_()}}}function Sw(n){const e=n.body;return!!(e.webkitRequestFullscreen||e.requestFullscreen&&n.fullscreenEnabled)}function Tw(n){return!!(n.webkitIsFullScreen||n.fullscreenElement)}function ZT(n){n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}function r7(n){n.webkitRequestFullscreen?n.webkitRequestFullscreen():ZT(n)}function s7(n){n.exitFullscreen?n.exitFullscreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()}const JT=({zoom:n,center:e,onFeatureClick:t,layersRef:i,mapInstanceRef:r,controls:s})=>{const o=ce.useRef(null),a=ce.useRef(n7(n,e));return ce.useEffect(()=>{if(!o.current||i.current.length===0)return;const u=cS({zoom:!1,rotate:!1,attribution:!0});s!=null&&s.showZoom&&u.push(new uS),s!=null&&s.showRotate&&u.push(new lS),s!=null&&s.showFullScreen&&u.push(new i7),r.current=new Wd({target:o.current,controls:u,layers:i.current,view:a.current}),r.current.getLayers().forEach(d=>{if("getSource"in d&&typeof d.getSource=="function"){const g=d.getSource();g==null||g.on("tileloaderror",m=>console.warn("Tile error",m))}});const c=jS(i.current,_0);if(!c){console.debug("No marker layer configured");return}const f=bG({map:r.current,layer:c,onSelect:d=>{const g=d.map(m=>{var y;return(y=m.getId)==null?void 0:y.call(m)}).filter(m=>typeof m=="string");d.length===1?gf(r.current,d[0]):DS(r.current,d),t&&t(g)}});return()=>{var d,g;(d=r.current)==null||d.removeInteraction(f),(g=r.current)==null||g.setTarget(void 0)}},[i.current,n,e]),Q("div",{id:"TelicentMap",className:"map-container",style:{width:"100%",height:"100%"},ref:o})};JT.__docgenInfo={description:"",methods:[],displayName:"MapCanvasV2",props:{layersRef:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<BaseLayer[]>",elements:[{name:"Array",elements:[{name:"BaseLayer"}],raw:"BaseLayer[]"}]},description:""},mapInstanceRef:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<Map | null>",elements:[{name:"union",raw:"Map | null",elements:[{name:"Map"},{name:"null"}]}]},description:""},onFeatureClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(ids: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"ids"}],return:{name:"void"}}},description:""},zoom:{required:!0,tsType:{name:"number"},description:""},center:{required:!0,tsType:{name:"Coordinate"},description:""},controls:{required:!1,tsType:{name:"Partial",elements:[{name:"MapControlsConfig"}],raw:"Partial<MapControlsConfig>"},description:""}}};const QT=({data:n,anchorEl:e,onClickDropdown:t,sx:i,selectedIndex:r,variant:s,color:o})=>{const a=er(),u=!!e,c=u?"layer-selector-popover":void 0;if(!n)return null;console.log({data:n,sI:n[r],selectedIndex:r});const f=ce.useMemo(()=>id(n[r]),[r]);return console.log({meta:f}),Je(Wl,{id:"layer-selector",size:"large","aria-describedby":c,onClick:t,sx:i,variant:s,color:o,children:[Q(ql,{borderColor:a.palette.primary.main,src:f.image,alt:f.label,title:f.label}),Q(Xr,{icon:u?C0:S0})]})},e2=({data:n,anchorEl:e,onCloseDropdown:t,selectedIndex:i,onListItemClick:r})=>{const s=er(),o=!!e;return Q(iE,{id:o?"layer-selector-popover":void 0,open:o,anchorEl:e,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Q(ld,{direction:"column",children:n.filter(u=>{var c;return(c=u.get("kind"))==null?void 0:c.startsWith("base")}).map((u,c)=>{const f=id(u);return Q(Uu,{alignContent:"flex-start",children:Je(Wl,{onClick:()=>r(f.label),variant:"text",sx:{width:"100%",justifyContent:"flex-start"},children:[Q(ql,{borderColor:c===i?s.palette.primary.main:"transparent",src:f.image,role:"presentation",title:f.label}),Q(_a,{textTransform:"capitalize",variant:"body2",children:f.label})]},f.label)},f.label)})})})},t2=({layersRef:n})=>{var c;const[e,t]=ce.useState(null),i=n.current.findIndex(f=>{var d;return(d=id(f))==null?void 0:d.visible}),[r,s]=ce.useState(i!==-1?i:0),o=f=>{t(f.currentTarget)},a=()=>{t(null)},u=f=>{n.current.forEach((d,g)=>{const m=id(d);d.get("kind")!=="overlay-vector"&&(d.setVisible((m==null?void 0:m.label)===f),(m==null?void 0:m.label)===f&&s(g))})};return((c=n.current)==null?void 0:c.length)<=1?null:Je("div",{id:"layer-selector",style:{position:"fixed",bottom:0},children:[Q(QT,{anchorEl:e,onClickDropdown:o,variant:"text",data:n.current,selectedIndex:r}),Q(e2,{anchorEl:e,onCloseDropdown:a,onListItemClick:u,data:n.current,selectedIndex:r})]})};QT.__docgenInfo={description:"",methods:[],displayName:"LayerSelectorPresentationalButton",props:{data:{required:!1,tsType:{name:"Array",elements:[{name:"BaseLayer"}],raw:"BaseLayer[]"},description:""},anchorEl:{required:!0,tsType:{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]},description:""},onClickDropdown:{required:!0,tsType:{name:'intersection["onClick"]',raw:'ButtonProps["onClick"]'},description:""},selectedIndex:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};e2.__docgenInfo={description:"",methods:[],displayName:"LayerSelectorPresentationalPopOverV2",props:{data:{required:!0,tsType:{name:"Array",elements:[{name:"BaseLayer"}],raw:"BaseLayer[]"},description:""},anchorEl:{required:!0,tsType:{name:"union",raw:"HTMLButtonElement | null",elements:[{name:"HTMLButtonElement"},{name:"null"}]},description:""},onCloseDropdown:{required:!0,tsType:{name:'PopOverProps["onClose"]',raw:'PopOverProps["onClose"]'},description:""},onListItemClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(label: string) => void",signature:{arguments:[{type:{name:"string"},name:"label"}],return:{name:"void"}}},description:""},selectedIndex:{required:!0,tsType:{name:"number"},description:""}},composes:["Pick"]};t2.__docgenInfo={description:"",methods:[],displayName:"LayerSelector",props:{layersRef:{required:!0,tsType:{name:"ReactMutableRefObject",raw:"React.MutableRefObject<BaseLayer[]>",elements:[{name:"Array",elements:[{name:"BaseLayer"}],raw:"BaseLayer[]"}]},description:""}}};function o7(n,e){function t(){this.constructor=n}t.prototype=e.prototype,n.prototype=new t}function mc(n,e,t,i){this.message=n,this.expected=e,this.found=t,this.location=i,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,mc)}o7(mc,Error);mc.buildMessage=function(n,e){var t={literal:function(c){return'"'+r(c.text)+'"'},class:function(c){var f="",d;for(d=0;d<c.parts.length;d++)f+=c.parts[d]instanceof Array?s(c.parts[d][0])+"-"+s(c.parts[d][1]):s(c.parts[d]);return"["+(c.inverted?"^":"")+f+"]"},any:function(c){return"any character"},end:function(c){return"end of input"},other:function(c){return c.description}};function i(c){return c.charCodeAt(0).toString(16).toUpperCase()}function r(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+i(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+i(f)})}function s(c){return c.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(f){return"\\x0"+i(f)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(f){return"\\x"+i(f)})}function o(c){return t[c.type](c)}function a(c){var f=new Array(c.length),d,g;for(d=0;d<c.length;d++)f[d]=o(c[d]);if(f.sort(),f.length>0){for(d=1,g=1;d<f.length;d++)f[d-1]!==f[d]&&(f[g]=f[d],g++);f.length=g}switch(f.length){case 1:return f[0];case 2:return f[0]+" or "+f[1];default:return f.slice(0,-1).join(", ")+", or "+f[f.length-1]}}function u(c){return c?'"'+r(c)+'"':"end of input"}return"Expected "+a(n)+" but "+u(e)+" found."};function a7(n,e){e=e!==void 0?e:{};var t={},i={svg_path:$e},r=$e,s=function(w){if(!w)return[];for(var A=[],$=0;$<w.length;$++)A=A.concat.apply(A,w[$]);var L=A[0];return L&&L.code=="m"&&(delete L.relative,L.code="M"),A},o=function(w,A){return hp(w,A)},a=/^[Mm]/,u=bt(["M","m"],!1,!1),c=function(w,A,$){var L=Os(w,[A]);return $&&(L=L.concat(Os(w=="M"?"L":"l",$[1]))),L},f=/^[Zz]/,d=bt(["Z","z"],!1,!1),g=function(){return Os("Z")},m=/^[Ll]/,y=bt(["L","l"],!1,!1),v=function(w,A){return Os(w,A)},x=/^[Hh]/,C=bt(["H","h"],!1,!1),E=function(w,A){return Os(w,A.map(function($){return{x:$}}))},S=/^[Vv]/,R=bt(["V","v"],!1,!1),T=function(w,A){return Os(w,A.map(function($){return{y:$}}))},F=/^[Cc]/,O=bt(["C","c"],!1,!1),N=function(w,A,$){return{x1:w.x,y1:w.y,x2:A.x,y2:A.y,x:$.x,y:$.y}},M=/^[Ss]/,W=bt(["S","s"],!1,!1),B=function(w,A){return{x2:w.x,y2:w.y,x:A.x,y:A.y}},z=/^[Qq]/,V=bt(["Q","q"],!1,!1),Z=function(w,A){return{x1:w.x,y1:w.y,x:A.x,y:A.y}},G=/^[Tt]/,j=bt(["T","t"],!1,!1),q=/^[Aa]/,Y=bt(["A","a"],!1,!1),te=function(w,A,$,L,X,de){return{rx:w,ry:A,xAxisRotation:$,largeArc:L,sweep:X,x:de.x,y:de.y}},ne=function(w,A){return{x:w,y:A}},me=function(w){return w*1},he=function(w){return w.join("")*1},Ue=/^[01]/,oe=bt(["0","1"],!1,!1),Me=function(w){return w=="1"},ct=function(){return""},De=",",Re=an(",",!1),Se=function(w){return w.join("")},ht=".",Bt=an(".",!1),Ct=/^[eE]/,Jt=bt(["e","E"],!1,!1),pe=/^[+\-]/,Ne=bt(["+","-"],!1,!1),be=/^[0-9]/,ke=bt([["0","9"]],!1,!1),Ke=function(w){return w.join("")},tn=/^[ \t\n\r]/,ft=bt([" ","	",`
`,"\r"],!1,!1),k=0,Ze=[{line:1,column:1}],ze=0,bn=[],Ut;if("startRule"in e){if(!(e.startRule in i))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');r=i[e.startRule]}function an(w,A){return{type:"literal",text:w,ignoreCase:A}}function bt(w,A,$){return{type:"class",parts:w,inverted:A,ignoreCase:$}}function je(){return{type:"end"}}function Ae(w){var A=Ze[w],$;if(A)return A;for($=w-1;!Ze[$];)$--;for(A=Ze[$],A={line:A.line,column:A.column};$<w;)n.charCodeAt($)===10?(A.line++,A.column=1):A.column++,$++;return Ze[w]=A,A}function Le(w,A){var $=Ae(w),L=Ae(A);return{start:{offset:w,line:$.line,column:$.column},end:{offset:A,line:L.line,column:L.column}}}function Ee(w){k<ze||(k>ze&&(ze=k,bn=[]),bn.push(w))}function _t(w,A,$){return new mc(mc.buildMessage(w,A),w,A,$)}function $e(){var w,A,$,L,X;for(w=k,A=[],$=et();$!==t;)A.push($),$=et();if(A!==t)if($=Be(),$===t&&($=null),$!==t){for(L=[],X=et();X!==t;)L.push(X),X=et();L!==t?(A=s($),w=A):(k=w,w=t)}else k=w,w=t;else k=w,w=t;return w}function Be(){var w,A,$,L,X,de;if(w=k,A=Qe(),A!==t){for($=[],L=k,X=[],de=et();de!==t;)X.push(de),de=et();for(X!==t?(de=Qe(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;){for($.push(L),L=k,X=[],de=et();de!==t;)X.push(de),de=et();X!==t?(de=Qe(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t)}$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Qe(){var w,A,$,L,X,de;if(w=k,A=Xt(),A!==t){for($=[],L=k,X=[],de=et();de!==t;)X.push(de),de=et();for(X!==t?(de=St(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;){for($.push(L),L=k,X=[],de=et();de!==t;)X.push(de),de=et();X!==t?(de=St(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t)}$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function St(){var w;return w=pn(),w===t&&(w=kt(),w===t&&(w=st(),w===t&&(w=Ht(),w===t&&(w=Mt(),w===t&&(w=ln(),w===t&&(w=kn(),w===t&&(w=Tt(),w===t&&(w=Ir())))))))),w}function Xt(){var w,A,$,L,X,de,Fs;if(w=k,a.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(u)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=mn(),L!==t?(X=k,de=J(),de===t&&(de=null),de!==t?(Fs=Ot(),Fs!==t?(de=[de,Fs],X=de):(k=X,X=t)):(k=X,X=t),X===t&&(X=null),X!==t?(A=c(A,L,X),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function pn(){var w,A;return w=k,f.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(d)),A!==t&&(A=g()),w=A,w}function kt(){var w,A,$,L;if(w=k,m.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(y)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=Ot(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function Ot(){var w,A,$,L,X,de;if(w=k,A=mn(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=mn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=mn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function st(){var w,A,$,L;if(w=k,x.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(C)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=wt(),L!==t?(A=E(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function wt(){var w,A,$,L,X,de;if(w=k,A=hi(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=hi(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=hi(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Ht(){var w,A,$,L;if(w=k,S.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(R)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=wt(),L!==t?(A=T(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function Mt(){var w,A,$,L;if(w=k,F.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(O)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=Nt(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function Nt(){var w,A,$,L,X,de;if(w=k,A=Rn(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=Rn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=Rn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Rn(){var w,A,$,L,X,de;return w=k,A=mn(),A!==t?($=J(),$===t&&($=null),$!==t?(L=mn(),L!==t?(X=J(),X===t&&(X=null),X!==t?(de=mn(),de!==t?(A=N(A,L,de),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t),w}function ln(){var w,A,$,L;if(w=k,M.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(W)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=gn(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function gn(){var w,A,$,L,X,de;if(w=k,A=Yt(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=Yt(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=Yt(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Yt(){var w,A,$,L;return w=k,A=mn(),A!==t?($=J(),$===t&&($=null),$!==t?(L=mn(),L!==t?(A=B(A,L),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t),w}function kn(){var w,A,$,L;if(w=k,z.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(V)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=un(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function un(){var w,A,$,L,X,de;if(w=k,A=Lt(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=Lt(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=Lt(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Lt(){var w,A,$,L;return w=k,A=mn(),A!==t?($=J(),$===t&&($=null),$!==t?(L=mn(),L!==t?(A=Z(A,L),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t),w}function Tt(){var w,A,$,L;if(w=k,G.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(j)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=wn(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function wn(){var w,A,$,L,X,de;if(w=k,A=mn(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=mn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=mn(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function Ir(){var w,A,$,L;if(w=k,q.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(Y)),A!==t){for($=[],L=et();L!==t;)$.push(L),L=et();$!==t?(L=nr(),L!==t?(A=v(A,L),w=A):(k=w,w=t)):(k=w,w=t)}else k=w,w=t;return w}function nr(){var w,A,$,L,X,de;if(w=k,A=ir(),A!==t){for($=[],L=k,X=J(),X===t&&(X=null),X!==t?(de=ir(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);L!==t;)$.push(L),L=k,X=J(),X===t&&(X=null),X!==t?(de=ir(),de!==t?(X=[X,de],L=X):(k=L,L=t)):(k=L,L=t);$!==t?(A=o(A,$),w=A):(k=w,w=t)}else k=w,w=t;return w}function ir(){var w,A,$,L,X,de,Fs,Jl,Mo,Oa,Lo,ko;return w=k,A=rr(),A!==t?($=J(),$===t&&($=null),$!==t?(L=rr(),L!==t?(X=J(),X===t&&(X=null),X!==t?(de=hi(),de!==t?(Fs=J(),Fs!==t?(Jl=re(),Jl!==t?(Mo=J(),Mo===t&&(Mo=null),Mo!==t?(Oa=re(),Oa!==t?(Lo=J(),Lo===t&&(Lo=null),Lo!==t?(ko=mn(),ko!==t?(A=te(A,L,de,Jl,Oa,ko),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t)):(k=w,w=t),w}function mn(){var w,A,$,L;return w=k,A=hi(),A!==t?($=J(),$===t&&($=null),$!==t?(L=hi(),L!==t?(A=ne(A,L),w=A):(k=w,w=t)):(k=w,w=t)):(k=w,w=t),w}function rr(){var w,A;return w=k,A=Fe(),A===t&&(A=In()),A!==t&&(A=me(A)),w=A,w}function hi(){var w,A,$,L;return w=k,A=k,$=mt(),$===t&&($=null),$!==t?(L=Fe(),L!==t?($=[$,L],A=$):(k=A,A=t)):(k=A,A=t),A===t&&(A=k,$=mt(),$===t&&($=null),$!==t?(L=In(),L!==t?($=[$,L],A=$):(k=A,A=t)):(k=A,A=t)),A!==t&&(A=he(A)),w=A,w}function re(){var w,A;return w=k,Ue.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(oe)),A!==t&&(A=Me(A)),w=A,w}function J(){var w,A,$,L,X;if(w=k,A=[],$=et(),$!==t)for(;$!==t;)A.push($),$=et();else A=t;if(A!==t)if($=xe(),$===t&&($=null),$!==t){for(L=[],X=et();X!==t;)L.push(X),X=et();L!==t?(A=[A,$,L],w=A):(k=w,w=t)}else k=w,w=t;else k=w,w=t;if(w===t){if(w=k,A=k,$=xe(),$!==t){for(L=[],X=et();X!==t;)L.push(X),X=et();L!==t?($=[$,L],A=$):(k=A,A=t)}else k=A,A=t;A!==t&&(A=ct()),w=A}return w}function xe(){var w;return n.charCodeAt(k)===44?(w=De,k++):(w=t,Ee(Re)),w}function Fe(){var w,A,$,L;return w=k,A=k,$=vt(),$!==t?(L=Te(),L===t&&(L=null),L!==t?($=[$,L],A=$):(k=A,A=t)):(k=A,A=t),A===t&&(A=k,$=In(),$!==t?(L=Te(),L!==t?($=[$,L],A=$):(k=A,A=t)):(k=A,A=t)),A!==t&&(A=Se(A)),w=A,w}function vt(){var w,A,$,L,X;return w=k,A=k,$=In(),$===t&&($=null),$!==t?(n.charCodeAt(k)===46?(L=ht,k++):(L=t,Ee(Bt)),L!==t?(X=In(),X!==t?($=[$,L,X],A=$):(k=A,A=t)):(k=A,A=t)):(k=A,A=t),A===t&&(A=k,$=In(),$!==t?(n.charCodeAt(k)===46?(L=ht,k++):(L=t,Ee(Bt)),L!==t?($=[$,L],A=$):(k=A,A=t)):(k=A,A=t)),A!==t&&(A=Se(A)),w=A,w}function Te(){var w,A,$,L,X;return w=k,A=k,Ct.test(n.charAt(k))?($=n.charAt(k),k++):($=t,Ee(Jt)),$!==t?(L=mt(),L===t&&(L=null),L!==t?(X=In(),X!==t?($=[$,L,X],A=$):(k=A,A=t)):(k=A,A=t)):(k=A,A=t),A!==t&&(A=Se(A)),w=A,w}function mt(){var w;return pe.test(n.charAt(k))?(w=n.charAt(k),k++):(w=t,Ee(Ne)),w}function In(){var w,A,$;if(w=k,A=[],be.test(n.charAt(k))?($=n.charAt(k),k++):($=t,Ee(ke)),$!==t)for(;$!==t;)A.push($),be.test(n.charAt(k))?($=n.charAt(k),k++):($=t,Ee(ke));else A=t;return A!==t&&(A=Ke(A)),w=A,w}function et(){var w,A;return w=k,tn.test(n.charAt(k))?(A=n.charAt(k),k++):(A=t,Ee(ft)),A!==t&&(A=ct()),w=A,w}function hp(w,A){if(!A)return[w];for(var $=[w],L=0,X=A.length;L<X;L++)$[L+1]=A[L][1];return $}var ts={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Bc in ts)ts[Bc.toUpperCase()]=ts[Bc];function Os(w,A){A||(A=[{}]);for(var $=A.length;$--;){var L={code:w,command:ts[w]};w==w.toLowerCase()&&(L.relative=!0);for(var X in A[$])L[X]=A[$][X];A[$]=L}return A}if(Ut=r(),Ut!==t&&k===n.length)return Ut;throw Ut!==t&&k<n.length&&Ee(je()),_t(bn,ze<n.length?n.charAt(ze):null,ze<n.length?Le(ze,ze+1):Le(ze,ze))}var l7={parse:a7},rd=l7.parse;rd.parseSVG=rd;rd.makeAbsolute=u7;var Rw=rd;function u7(n){var e,t={x:0,y:0},i={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return n.forEach(function(r){r.command==="moveto"&&(e=r),r.x0=t.x,r.y0=t.y;for(var s in i)s in r&&(r[s]+=r.relative?r[i[s]]:0);"x"in r||(r.x=t.x),"y"in r||(r.y=t.y),r.relative=!1,r.code=r.code.toUpperCase(),r.command=="closepath"&&(r.x=e.x,r.y=e.y),t=r}),n}const Iw=new Map,c7=n=>`data:image/svg+xml;charset=utf-8,${encodeURIComponent(n)}`,h7=({size:n=28,color:e="#FF6600",innerSvg:t})=>`
<svg xmlns="http://www.w3.org/2000/svg" width="${n}" height="${n}" viewBox="0 0 24 24">
  <path d="M12 2C8 2 5 5 5 9c0 5 7 13 7 13s7-8 7-13c0-4-3-7-7-7z"
        fill="${e}" stroke="${e}" stroke-width="2"/>
    ${t}
</svg>
`,f7=n=>{const e=n.match(/<path[^>]*d="([^"]+)"/);if(e)return e[1];const t=n.match(/M[\s\S]+/);if(t)return t[0];throw new Error("No path data found in SVG")},d7=n=>{const e=Rw.makeAbsolute(Rw.parseSVG(n));let t=1/0,i=1/0,r=-1/0,s=-1/0;return e.forEach(o=>{const a=[];"x"in o&&"y"in o&&a.push([o.x,o.y]),"x1"in o&&"y1"in o&&a.push([o.x1,o.y1]),"x2"in o&&"y2"in o&&a.push([o.x2,o.y2]),a.forEach(([u,c])=>{u!=null&&c!=null&&(t=Math.min(t,u),i=Math.min(i,c),r=Math.max(r,u),s=Math.max(s,c))})}),{minX:t,minY:i,maxX:r,maxY:s,width:r-t,height:s-i}},y_=(n,e="#F092D5",t=24,i=.4)=>{const r=f7(n),s=d7(r),o=t/512*i,a=s.minX+s.width/2,u=s.minY+s.height/2,c=t/2;return`<g transform="translate(${c},${c}) scale(${o}) translate(${-a},${-u})">
    <path d="${r}" fill="${e}"/>
  </g>`},p7=({size:n=28,backgroundColor:e="#FF6600",color:t="#fff",strokeWidth:i=2,innerSvg:r})=>{const s=r?y_(r,t,24,.4):"";return console.log({inner:s}),`
<svg xmlns="http://www.w3.org/2000/svg" width="${n}" height="${n}" viewBox="0 0 24 24">
  <circle cx="12" cy="12" r="10"
          fill="${e}" stroke="${t}" stroke-width="${i}"/>
  ${s}
</svg>
`},g7=({size:n=28,innerSvg:e,color:t="#FF6600"})=>{const i=e?y_(e,t,24,.4):"";return`
<svg xmlns="http://www.w3.org/2000/svg" width="${n}" height="${n}" viewBox="0 0 24 24" fill="${t}">
    ${i}
</svg>
`},m7={pin:h7,circle:p7,icon:g7},y7=(n={})=>{const e=n.markerType??"pin",t=n.innerSvg?y_(n.innerSvg,n.color,24,.4):"",i=!t&&n.fallbackText;let r;if(i)r=`
      <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 28 28">
        <circle cx="12" cy="12" r="10" fill="${n.backgroundColor??"#FF6600"}" stroke="${n.color??"#fff"}" stroke-width="2"/>
        <text x="12" y="12" text-anchor="middle" dominant-baseline="middle" font-size="12" fill="${n.color??"#fff"}">${n.fallbackText}</text>
      </svg>
    `;else{const a=m7[e];r=a({...n,innerSvg:t})}const s=`${e}|${t}|${JSON.stringify(n)}`;let o=Iw.get(s);return o||(o=c7(r),Iw.set(s,o)),new Sn({image:new Ca({src:o,scale:1})})},_7=n=>{const e=n.geohash.includes("http")?n.geohash.split("http://geohash.org/")[1]:n.geohash,{latitude:t,longitude:i}=Uw.decode(e),r=new As({geometry:new Is(Fl([i,t])),...n.meta});r.setId(n.id);const s=n.style??{markerType:"pin"},o=y7(s);return r.set("originalStyle",o),r.setStyle(o),r},v7=n=>!n||n.length===0?(console.info("No layers provided. Adding default OSM base layer."),[new op({source:new ZU})]):n.map((e,t)=>{switch(e.kind){case"base-raster":const i=t7(e);return i.setZIndex(t),i;case"base-vector-tiles":const r=e7(e);return r.setZIndex(t),r;case"overlay-vector":const s=QU(e);return s.setZIndex(t),s.setDeclutter(!1),s;default:throw new Error(`Unknown layer kind: ${JSON.stringify(e)}`)}}),x7=n=>{const e=[];return n.vectorStyles&&e.push({id:n.vectorStyles.label,kind:"base-vector-tiles",provider:"custom",url:n.vectorStyles.uri,styleUrl:n.vectorStyles.uri,visible:!1,previewImage:n.vectorStyles.image,label:n.vectorStyles.label}),n.tileSets&&Array.isArray(n.tileSets)&&n.tileSets.forEach(t=>{e.push({id:t.label,kind:"base-raster",url:t.uri,attribution:t.attribution,visible:!1,previewImage:t.image,label:t.label})}),e.map((t,i)=>({...t,visible:i===0}))},b7=n=>{const{type:e,coordinates:t,id:i,meta:r}=n,s=e==="MultiPolygon"?new Bl(t):new Sr(t);s.transform("EPSG:4326","EPSG:3857");const o=new As({geometry:s,...r});return i&&o.setId(i),o},w7=w0.forwardRef((n,e)=>{const[t,i]=ce.useState(!1),r=ce.useRef(null),s=ce.useMemo(()=>{var c;const a=Array.isArray(n.layers)&&n.layers.length>0?n.layers:n.mapStyleOptions&&Object.keys(n.mapStyleOptions).length>0?x7(n.mapStyleOptions):[],u=[{kind:"overlay-vector",id:_0,data:((c=n.markers)==null?void 0:c.map(CG))??[],visible:!0},{kind:"overlay-vector",id:"polygon-layer",data:(n==null?void 0:n.polygons)??[],visible:!0}];return[...a,...u]},[n.layers,n.mapStyleOptions]),o=ce.useRef(v7(s));return ce.useEffect(()=>{i(!0)},[o.current]),ce.useEffect(()=>{if(!r.current)return;const a=jS(o.current,_0);if(!a){console.debug("No marker layer found");return}const u=a.getSource();if(!u){console.debug("Could not find layer source");return}u.clear();const c=n.markers.map(_7);u.addFeatures(c);const f=n.polygons.map(b7);u.addFeatures(f);const d=[...c,...f];d.length===1?gf(r.current,d[0]):DS(r.current,d)},[n.markers,n.polygons,t]),ce.useImperativeHandle(e,()=>({zoomIn:()=>{var c;const a=(c=r.current)==null?void 0:c.getView();if(!a){console.warn("Map view is not ready yet");return}const u=a.getZoom()??0;a.setZoom(u+1)},zoomOut:()=>{var c;const a=(c=r.current)==null?void 0:c.getView();if(!a){console.warn("Map view is not ready yet");return}const u=a.getZoom()??0;a.setZoom(u-1)},panToFeature:a=>{if(!r.current){console.warn("Map is not ready yet");return}const u=vb(o.current,[a]);u.length!==0&&gf(r.current,u[0])},panToFeatures:a=>{if(!r.current){console.warn("Map is not ready yet");return}const u=vb(o.current,a);u.length!==0&&gf(r.current,u[0])}}),[r.current,o.current]),Je(x0,{children:[Q(JT,{layersRef:o,mapInstanceRef:r,...n}),Q(t2,{layersRef:o})]})});w7.__docgenInfo={description:"",methods:[{name:"zoomIn",docblock:null,modifiers:[],params:[],returns:null},{name:"zoomOut",docblock:null,modifiers:[],params:[],returns:null},{name:"panToFeature",docblock:null,modifiers:[],params:[{name:"id",optional:!1,type:{name:"string"}}],returns:null},{name:"panToFeatures",docblock:null,modifiers:[],params:[{name:"ids",optional:!1,type:{name:"Array",elements:[{name:"string"}],raw:"string[]"}}],returns:null}],displayName:"BasicMapV2",props:{zoom:{required:!0,tsType:{name:"number"},description:""},center:{required:!0,tsType:{name:"Array",elements:[{name:"number"}],raw:"number[]"},description:""},layers:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:`| BaseRasterLayerConfig
| BaseVectorTileLayerConfig
| OverlayVectorLayerConfig`,elements:[{name:"signature",type:"object",raw:`{
  id: string;
  kind: "base-raster";
  provider?: "osm" | "xyz" | "wmts";
  attribution?: string; // TODO: Possibly overwritten?
  url?: string;
  visible?: boolean;
  previewImage: string;
  label: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"kind",value:{name:"literal",value:'"base-raster"',required:!0}},{key:"provider",value:{name:"union",raw:'"osm" | "xyz" | "wmts"',elements:[{name:"literal",value:'"osm"'},{name:"literal",value:'"xyz"'},{name:"literal",value:'"wmts"'}],required:!1}},{key:"attribution",value:{name:"string",required:!1}},{key:"url",value:{name:"string",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"previewImage",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  id: string;
  kind: "base-vector-tiles";
  provider?: "mapbox" | "maptiler" | "arcgis" | "custom";
  url: string;
  styleUrl?: string; // e.g. Mapbox/MapTiler JSON
  accessToken?: string;
  visible?: boolean;
  previewImage: string;
  label: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"kind",value:{name:"literal",value:'"base-vector-tiles"',required:!0}},{key:"provider",value:{name:"union",raw:'"mapbox" | "maptiler" | "arcgis" | "custom"',elements:[{name:"literal",value:'"mapbox"'},{name:"literal",value:'"maptiler"'},{name:"literal",value:'"arcgis"'},{name:"literal",value:'"custom"'}],required:!1}},{key:"url",value:{name:"string",required:!0}},{key:"styleUrl",value:{name:"string",required:!1}},{key:"accessToken",value:{name:"string",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"previewImage",value:{name:"string",required:!0}},{key:"label",value:{name:"string",required:!0}}]}},{name:"signature",type:"object",raw:`{
  id: string;
  kind: "overlay-vector";
  data: OverlayFeatureConfig[];
  style?: StyleLike;
  visible?: boolean;
  zIndex?: number;
  projection?: string;
}`,signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"kind",value:{name:"literal",value:'"overlay-vector"',required:!0}},{key:"data",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  type: "Point" | "Polygon" | "MultiPolygon";
  coordinates: number[] | number[][] | number[][][];
  label?: string;
  id?: string;
  marker?: string | MarkerStyle;
  meta?: Record<string, any>;
}`,signature:{properties:[{key:"type",value:{name:"union",raw:'"Point" | "Polygon" | "MultiPolygon"',elements:[{name:"literal",value:'"Point"'},{name:"literal",value:'"Polygon"'},{name:"literal",value:'"MultiPolygon"'}],required:!0}},{key:"coordinates",value:{name:"union",raw:"number[] | number[][] | number[][][]",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"},{name:"Array",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"}],raw:"number[][]"},{name:"Array",elements:[{name:"Array",elements:[{name:"Array",elements:[{name:"number"}],raw:"number[]"}],raw:"number[][]"}],raw:"number[][][]"}],required:!0}},{key:"label",value:{name:"string",required:!1}},{key:"id",value:{name:"string",required:!1}},{key:"marker",value:{name:"union",raw:"string | MarkerStyle",elements:[{name:"string"},{name:"MarkerStyle"}],required:!1}},{key:"meta",value:{name:"Record",elements:[{name:"string"},{name:"any"}],raw:"Record<string, any>",required:!1}}]}}],raw:"OverlayFeatureConfig[]",required:!0}},{key:"style",value:{name:"StyleLike",required:!1}},{key:"visible",value:{name:"boolean",required:!1}},{key:"zIndex",value:{name:"number",required:!1}},{key:"projection",value:{name:"string",required:!1}}]}}]}],raw:"LayerConfig[]"},description:""},controls:{required:!1,tsType:{name:"Partial",elements:[{name:"MapControlsConfig"}],raw:"Partial<MapControlsConfig>"},description:""},mapStyleOptions:{required:!1,tsType:{name:"signature",type:"object",raw:`{
  vectorStyles?: LegacyVectorStyle;
  tileSets?: LegacyTileSet[];
}`,signature:{properties:[{key:"vectorStyles",value:{name:"signature",type:"object",raw:`{
  label: string;
  uri: string;
  image: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"uri",value:{name:"string",required:!0}},{key:"image",value:{name:"string",required:!0}}]},required:!1}},{key:"tileSets",value:{name:"Array",elements:[{name:"signature",type:"object",raw:`{
  label: string;
  uri: string;
  image: string;
  attribution: string;
}`,signature:{properties:[{key:"label",value:{name:"string",required:!0}},{key:"uri",value:{name:"string",required:!0}},{key:"image",value:{name:"string",required:!0}},{key:"attribution",value:{name:"string",required:!0}}]}}],raw:"LegacyTileSet[]",required:!1}}]}},description:"@deprecated Use `layers` instead. This prop will be removed in a future release."},markers:{required:!0,tsType:{name:"Array",elements:[{name:"MarkerFeature"}],raw:"MarkerFeature[]"},description:""},polygons:{required:!0,tsType:{name:"Array",elements:[{name:"PolygonFeature"}],raw:"PolygonFeature[]"},description:""},onFeatureClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(ids: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"ids"}],return:{name:"void"}}},description:""}}};const E7=new Set,C7=new BroadcastChannel("auth-events");C7.onmessage=n=>{n.data,E7.forEach(e=>e(n.data))};Em([wm("as base64"),wm("as uri component")]);const sd={left:{paper:{border:"none",borderRadius:"8 !important",borderTopLeftRadius:"0 !important",borderBottomLeftRadius:"0 !important"}},HACK_NO_BORDER:{border:"none !important",borderRadius:"0 !important"}},v0=({id:n,BoxSx:e,PaperSx:t,onClick:i,children:r})=>Q(Un,{id:n,sx:{position:"absolute",top:"50%",transform:"translateY(-50%)",height:"100%",maxHeight:185,width:34,display:"flex",alignItems:"center",justifyContent:"center",overflow:"visible",pointerEvents:"auto",...e},children:Q(zk,{id:`${n}-Paper`,elevation:0,variant:"outlined",sx:{boxShadow:"none !important",height:"100%",width:"100%",...sd.HACK_NO_BORDER,...sd.left.paper,...t},children:Q(_o,{id:`${n}-IconButton`,color:"inherit",onClick:i,disableRipple:!0,sx:{"&:hover":{backgroundColor:"transparent"},height:"100%",width:"100%",p:0},children:r})})});v0.__docgenInfo={description:"",methods:[],displayName:"TabButton",props:{id:{required:!0,tsType:{name:"string"},description:""},BoxSx:{required:!0,tsType:{name:'BoxProps["sx"]',raw:'BoxProps["sx"]'},description:""},onClick:{required:!0,tsType:{name:'IconButtonProps["onClick"]',raw:'IconButtonProps["onClick"]'},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},PaperSx:{required:!1,tsType:{name:"SxProps",elements:[{name:"Theme"}],raw:"SxProps<Theme>"},description:""}}};const sl="drawer-presentational",S7=(n,e,t=800)=>{if(n!=null)return n;const i=parseFloat(String(e));return Number.isFinite(i)?i:t},__=ce.forwardRef(function({open:e,onClose:t,onToggle:i,PaperProps:r,PaperSx:s,drawerWidth:o,style:a,children:u,["id"]:c="",...f},d){const g=S7(o,a==null?void 0:a.width,800),m={width:g,boxSizing:"border-box",position:"relative",overflow:"visible",transform:e?"translateX(0)":`translateX(-${g}px) `,transition:"transform 300ms ease",...sd.HACK_NO_BORDER},y=Object.assign({},m,...Array.isArray(s)?s:[s],...r!=null&&r.sx?Array.isArray(r.sx)?r.sx:[r.sx]:[]);return Je(Un,{id:c||sl,sx:{position:"relative",overflow:"visible",height:"100%"},children:[Je(FO,{id:`${sl}--drawer`,variant:"persistent",anchor:"left",open:e,onClose:t,ModalProps:{keepMounted:!0,sx:{overflow:"visible"}},SlideProps:{style:{overflow:"visible"}},PaperProps:{id:`${sl}--muidrawer-paper`,elevation:0,square:!0,sx:{...y,...sd.HACK_NO_BORDER},...r},style:a,...f,children:[Q(Un,{id:`${sl}--box-scrollable`,ref:d,sx:{width:g,height:"100%",overflowY:"auto",position:"relative"},children:u}),i&&e&&Q(v0,{BoxSx:{right:-34},PaperSx:s,onClick:i,id:`${sl}--toggle-stand-in`,children:Q(Wk,{id:"chevron-left-icon",fontSize:"large"})})]}),i&&Q(v0,{BoxSx:{transform:"translate(0%, -50%)",zIndex:v=>v.zIndex.drawer+1,transition:"transform 300ms ease 300ms, opacity 0ms ease",opacity:e?0:1,pointerEvents:e?"none":"auto",left:0},PaperSx:s,onClick:i,id:`${sl}--toggle-animated-slide`,children:Q(qk,{id:"chevron-right-icon",fontSize:"large"})})]})});__.displayName="DrawerPresentational";__.__docgenInfo={description:"",methods:[],displayName:"DrawerPresentational",props:{PaperProps:{required:!1,tsType:{name:'MuiMuiDrawerProps["PaperProps"]',raw:'MuiMuiDrawerProps["PaperProps"]'},description:""},PaperSx:{required:!1,tsType:{name:"SxProps",elements:[{name:"Theme"}],raw:"SxProps<Theme>"},description:""},drawerWidth:{required:!1,tsType:{name:"number"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},onToggle:{required:!1,tsType:{name:"ReactMouseEventHandler",raw:"React.MouseEventHandler<HTMLButtonElement>",elements:[{name:"HTMLButtonElement"}]},description:""},id:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}},composes:["Omit"]};function T7(n){const[e,t]=ce.useState(n.initialOpen),i=ce.useRef(null),r=ce.useCallback(()=>t(!0),[]),s=ce.useCallback(()=>t(!1),[]),o=ce.useCallback(()=>t(a=>!a),[]);return ce.useEffect(()=>{var a;(a=n.onVisibilityChange)==null||a.call(n,e)},[e,n.onVisibilityChange]),ce.useImperativeHandle(n.ref,()=>({openDrawer:r,closeDrawer:s,toggleDrawer:o,getContainer:()=>i.current}),[r,s,o]),{open:e,openDrawer:r,closeDrawer:s,toggleDrawer:o,ref:i,drawerProps:{ref:i,onToggle:o,onClose:s,open:e}}}const n2=ce.forwardRef(({initialOpen:n=!0,onVisibilityChange:e,children:t,...i},r)=>{const{drawerProps:s}=T7({ref:r,initialOpen:n,onVisibilityChange:e});return Q(__,{...s,...i,children:t})});n2.displayName="Drawer";n2.__docgenInfo={description:"",methods:[],displayName:"Drawer",props:{initialOpen:{required:!1,tsType:{name:"boolean"},description:"(default: true)",defaultValue:{value:"true",computed:!1}},onVisibilityChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},PaperSx:{required:!1,tsType:{name:"SxProps",elements:[{name:"Theme"}],raw:"SxProps<Theme>"},description:""}},composes:["Omit"]};export{gN as A,o4 as B,SN as C,n2 as D,wN as E,a4 as F,d4 as I,l4 as L,RN as M,sC as P,Y0 as S,Oz as T,yN as U,__ as a,vC as b,ey as c,w7 as d,CN as e,cN as f,hN as g,fN as h,mN as i,hd as j,wO as k,IN as l,EN as m,Az as n,kz as o,Mz as p,Pz as q,uN as r,bN as s,zz as t,T7 as u,vN as v,mC as w};
