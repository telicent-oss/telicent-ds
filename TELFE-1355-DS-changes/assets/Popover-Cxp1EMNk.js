import{a as F,_ as x}from"./identifier-C6mAUaLB.js";import{r as s}from"./index-Dl6G-zuu.js";import{g as bt,c as lt,s as gt,a as St}from"./styled-BErHg-7C.js";import{g as Ct}from"./generateUtilityClasses-Cuk6vP38.js";import{j as U}from"./jsx-runtime-DMAvRu52.js";import{u as Ot}from"./DefaultPropsProvider-BOzBDHyA.js";import{u as zt}from"./useTheme-GyLrR4NU.js";import{T as Lt,g as ct,r as _t,o as ut}from"./utils-Bvq5k-kH.js";import{a as Dt,u as Pt}from"./TransitionGroupContext-Cbp9jVrs.js";import{g as jt,o as pt,u as ft,i as Ht,M as At}from"./Modal-CRxLFwVZ.js";import{P as Mt}from"./Paper-ZbIfs51-.js";function Wt(o,t=166){let r;function T(...L){const w=()=>{o.apply(this,L)};clearTimeout(r),r=setTimeout(w,t)}return T.clear=()=>{clearTimeout(r)},T}const $t=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J(o){return`scale(${o}, ${o**2})`}const kt={entering:{opacity:1,transform:J(1)},entered:{opacity:1,transform:"none"}},Y=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),vt=s.forwardRef(function(t,r){const{addEndListener:T,appear:L=!0,children:w,easing:C,in:W,onEnter:c,onEntered:O,onEntering:$,onExit:R,onExited:G,onExiting:B,style:j,timeout:h="auto",TransitionComponent:a=Lt}=t,g=F(t,$t),I=Dt(),b=s.useRef(),p=zt(),P=s.useRef(null),H=Pt(P,jt(w),r),v=e=>f=>{if(e){const d=P.current;f===void 0?e(d):e(d,f)}},k=v($),A=v((e,f)=>{_t(e);const{duration:d,delay:z,easing:u}=ct({style:j,timeout:h,easing:C},{mode:"enter"});let S;h==="auto"?(S=p.transitions.getAutoHeightDuration(e.clientHeight),b.current=S):S=d,e.style.transition=[p.transitions.create("opacity",{duration:S,delay:z}),p.transitions.create("transform",{duration:Y?S:S*.666,delay:z,easing:u})].join(","),c&&c(e,f)}),N=v(O),K=v(B),E=v(e=>{const{duration:f,delay:d,easing:z}=ct({style:j,timeout:h,easing:C},{mode:"exit"});let u;h==="auto"?(u=p.transitions.getAutoHeightDuration(e.clientHeight),b.current=u):u=f,e.style.transition=[p.transitions.create("opacity",{duration:u,delay:d}),p.transitions.create("transform",{duration:Y?u:u*.666,delay:Y?d:d||u*.333,easing:z})].join(","),e.style.opacity=0,e.style.transform=J(.75),R&&R(e)}),M=v(G),V=e=>{h==="auto"&&I.start(b.current||0,e),T&&T(P.current,e)};return U.jsx(a,x({appear:L,in:W,nodeRef:P,onEnter:A,onEntered:N,onEntering:k,onExit:E,onExited:M,onExiting:K,addEndListener:V,timeout:h==="auto"?null:h},g,{children:(e,f)=>s.cloneElement(w,x({style:x({opacity:0,transform:J(.75),visibility:e==="exited"&&!W?"hidden":void 0},kt[e],j,w.props.style),ref:H},f))}))});vt.muiSupportAuto=!0;function Nt(o){return bt("MuiPopover",o)}Ct("MuiPopover",["root","paper"]);const Ft=["onEntering"],Ut=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Gt=["slotProps"];function dt(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.height/2:t==="bottom"&&(r=o.height),r}function mt(o,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=o.width/2:t==="right"&&(r=o.width),r}function ht(o){return[o.horizontal,o.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function q(o){return typeof o=="function"?o():o}const Bt=o=>{const{classes:t}=o;return St({root:["root"],paper:["paper"]},Nt,t)},It=gt(At,{name:"MuiPopover",slot:"Root",overridesResolver:(o,t)=>t.root})({}),Kt=gt(Mt,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ro=s.forwardRef(function(t,r){var T,L,w;const C=Ot({props:t,name:"MuiPopover"}),{action:W,anchorEl:c,anchorOrigin:O={vertical:"top",horizontal:"left"},anchorPosition:$,anchorReference:R="anchorEl",children:G,className:B,container:j,elevation:h=8,marginThreshold:a=16,open:g,PaperProps:I={},slots:b,slotProps:p,transformOrigin:P={vertical:"top",horizontal:"left"},TransitionComponent:H=vt,transitionDuration:v="auto",TransitionProps:{onEntering:k}={},disableScrollLock:A=!1}=C,N=F(C.TransitionProps,Ft),K=F(C,Ut),E=(T=p==null?void 0:p.paper)!=null?T:I,M=s.useRef(),V=Pt(M,E.ref),e=x({},C,{anchorOrigin:O,anchorReference:R,elevation:h,marginThreshold:a,externalPaperSlotProps:E,transformOrigin:P,TransitionComponent:H,transitionDuration:v,TransitionProps:N}),f=Bt(e),d=s.useCallback(()=>{if(R==="anchorPosition")return $;const n=q(c),l=(n&&n.nodeType===1?n:ut(M.current).body).getBoundingClientRect();return{top:l.top+dt(l,O.vertical),left:l.left+mt(l,O.horizontal)}},[c,O.horizontal,O.vertical,$,R]),z=s.useCallback(n=>({vertical:dt(n,P.vertical),horizontal:mt(n,P.horizontal)}),[P.horizontal,P.vertical]),u=s.useCallback(n=>{const i={width:n.offsetWidth,height:n.offsetHeight},l=z(i);if(R==="none")return{top:null,left:null,transformOrigin:ht(l)};const et=d();let _=et.top-l.vertical,D=et.left-l.horizontal;const nt=_+i.height,rt=D+i.width,it=pt(q(c)),st=it.innerHeight-a,at=it.innerWidth-a;if(a!==null&&_<a){const m=_-a;_-=m,l.vertical+=m}else if(a!==null&&nt>st){const m=nt-st;_-=m,l.vertical+=m}if(a!==null&&D<a){const m=D-a;D-=m,l.horizontal+=m}else if(rt>at){const m=rt-at;D-=m,l.horizontal+=m}return{top:`${Math.round(_)}px`,left:`${Math.round(D)}px`,transformOrigin:ht(l)}},[c,R,d,z,a]),[S,Q]=s.useState(g),y=s.useCallback(()=>{const n=M.current;if(!n)return;const i=u(n);i.top!==null&&(n.style.top=i.top),i.left!==null&&(n.style.left=i.left),n.style.transformOrigin=i.transformOrigin,Q(!0)},[u]);s.useEffect(()=>(A&&window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)),[c,A,y]);const Et=(n,i)=>{k&&k(n,i),y()},yt=()=>{Q(!1)};s.useEffect(()=>{g&&y()}),s.useImperativeHandle(W,()=>g?{updatePosition:()=>{y()}}:null,[g,y]),s.useEffect(()=>{if(!g)return;const n=Wt(()=>{y()}),i=pt(c);return i.addEventListener("resize",n),()=>{n.clear(),i.removeEventListener("resize",n)}},[c,g,y]);let Z=v;v==="auto"&&!H.muiSupportAuto&&(Z=void 0);const xt=j||(c?ut(q(c)).body:void 0),X=(L=b==null?void 0:b.root)!=null?L:It,tt=(w=b==null?void 0:b.paper)!=null?w:Kt,Tt=ft({elementType:tt,externalSlotProps:x({},E,{style:S?E.style:x({},E.style,{opacity:0})}),additionalProps:{elevation:h,ref:V},ownerState:e,className:lt(f.paper,E==null?void 0:E.className)}),ot=ft({elementType:X,externalSlotProps:(p==null?void 0:p.root)||{},externalForwardedProps:K,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:xt,open:g},ownerState:e,className:lt(f.root,B)}),{slotProps:wt}=ot,Rt=F(ot,Gt);return U.jsx(X,x({},Rt,!Ht(X)&&{slotProps:wt,disableScrollLock:A},{children:U.jsx(H,x({appear:!0,in:g,onEntering:Et,onExited:yt,timeout:Z},N,{children:U.jsx(tt,x({},Tt,{children:G}))}))}))});export{vt as G,ro as P,Kt as a,Wt as d};
