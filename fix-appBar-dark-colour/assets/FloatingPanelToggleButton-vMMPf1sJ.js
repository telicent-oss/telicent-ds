import{_ as _t,r as Qt,b as ut,u as te,i as At,a as K,j as U,e as xt}from"./DefaultPropsProvider-DNbgpcUu.js";import{r as M,a as ee,g as ie}from"./index-BBkUAzwr.js";import{p as Lt}from"./index-_4_hgnnR.js";import{r as dt}from"./index-BXZwOzqJ.js";import{I as kt,a as re,C as oe}from"./TelicentMark-hJ8FjTOe.js";import"./DataSetIcon-DIlyQdTH.js";import"./UserIcon-DwazrBOr.js";import{c as se,d as ne}from"./UserStatus-BGCLxLgW.js";import{D as Ft}from"./UserProfile-C3zC9RxZ.js";import{T as ae}from"./Text-Ahx6-q7X.js";import"./Chip-CyBXFftR.js";import"./TreeView-DHCao6gM.js";import"./UserProfileContent-yoIvuCQa.js";import{S as le}from"./FlexBox-BJwfCYMI.js";import"./Button-C0Yj0oP_.js";import{L as pe}from"./MiniSearchAutocomplete-CV2IMgNM.js";import"./SearchBox-CyWo1g-L.js";import{u as zt}from"./useTheme-DwzLSGxO.js";import{B as wt}from"./Box-DvRWFL1p.js";import{g as ue,s as Xt,c as de,a as he}from"./styled-CnbWPWMk.js";import{g as ce}from"./generateUtilityClasses-BwpiFGlX.js";import{j as fe}from"./jsx-runtime-BwZVo4Wn.js";import{B as ge}from"./ButtonBase-DmgBfAJK.js";import{a as ot}from"./colorManipulator-CrJ3UZt4.js";function me(t){return ue("MuiToggleButton",t)}const Tt=ce("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),ve=M.createContext({}),ye=M.createContext(void 0);function be(t,r){return r===void 0||t===void 0?!1:Array.isArray(r)?r.indexOf(t)>=0:t===r}const we=["value"],Se=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],xe=t=>{const{classes:r,fullWidth:e,selected:i,disabled:o,size:s,color:n}=t,a={root:["root",i&&"selected",o&&"disabled",e&&"fullWidth",`size${At(s)}`,n]};return he(a,me,r)},ze=Xt(ge,{name:"MuiToggleButton",slot:"Root",overridesResolver:(t,r)=>{const{ownerState:e}=t;return[r.root,r[`size${At(e.size)}`]]}})(({theme:t,ownerState:r})=>{let e=r.color==="standard"?t.palette.text.primary:t.palette[r.color].main,i;return t.vars&&(e=r.color==="standard"?t.vars.palette.text.primary:t.vars.palette[r.color].main,i=r.color==="standard"?t.vars.palette.text.primaryChannel:t.vars.palette[r.color].mainChannel),ut({},t.typography.button,{borderRadius:(t.vars||t).shape.borderRadius,padding:11,border:`1px solid ${(t.vars||t).palette.divider}`,color:(t.vars||t).palette.action.active},r.fullWidth&&{width:"100%"},{[`&.${Tt.disabled}`]:{color:(t.vars||t).palette.action.disabled,border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:ot(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Tt.selected}`]:{color:e,backgroundColor:t.vars?`rgba(${i} / ${t.vars.palette.action.selectedOpacity})`:ot(e,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${i} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:ot(e,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${i} / ${t.vars.palette.action.selectedOpacity})`:ot(e,t.palette.action.selectedOpacity)}}}},r.size==="small"&&{padding:7,fontSize:t.typography.pxToRem(13)},r.size==="large"&&{padding:15,fontSize:t.typography.pxToRem(15)})}),De=M.forwardRef(function(r,e){const i=M.useContext(ve),{value:o}=i,s=_t(i,we),n=M.useContext(ye),a=Qt(ut({},s,{selected:be(r.value,o)}),r),l=te({props:a,name:"MuiToggleButton"}),{children:p,className:h,color:g="standard",disabled:v=!1,disableFocusRipple:y=!1,fullWidth:w=!1,onChange:b,onClick:x,selected:z,size:c="medium",value:u}=l,d=_t(l,Se),f=ut({},l,{color:g,disabled:v,disableFocusRipple:y,fullWidth:w,size:c}),S=xe(f),m=P=>{x&&(x(P,u),P.defaultPrevented)||b&&b(P,u)},D=n||"";return fe.jsx(ze,ut({className:de(s.className,S.root,h,D),disabled:v,focusRipple:!y,ref:e,onClick:m,onChange:b,value:u,ownerState:f,"aria-pressed":z},d,{children:p}))}),Re=M.createContext(void 0),Dt=()=>{const t=M.useContext(Re);if(!t)throw new Error("FloatingPanel.ToggleButton must be used within a FloatingPanel.Provider");return t},Ut=({count:t=0,iconBeforeTitle:r,targetId:e,title:i,children:o,dragHandle:s=null,...n})=>{var g,v;const a=zt(),l=Dt(),p=!((g=l.panels[e])!=null&&g.minimised)&&((v=l.panels[e])==null?void 0:v.visible),h=a.palette.mode==="dark"?a.palette.grey[900]:a.palette.grey[300];return K(wt,{sx:{width:"fit-content",height:"fit-content",visibility:p?"visible":"hidden"},...n,children:[K(le,{direction:"row",spacing:1,alignItems:"center",padding:1,sx:{backgroundColor:h,width:"fit-content",borderTopLeftRadius:4,borderTopRightRadius:4},children:[s,r,K(ae,{sx:{paddingRight:4},children:[i,t>0?K("span",{css:xt({marginLeft:4,color:a.palette.primary.main},"",""),children:["(",t,")"]}):null]}),U(kt,{size:"small",onClick:()=>l==null?void 0:l.toggleMinimised(e),color:"primary","aria-label":"minimise",children:U(Ft,{})})]}),U(wt,{sx:{backgroundColor:h,width:"fit-content",height:"fit-content",borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopRightRadius:4,padding:.4},children:!(l!=null&&l.get(e,"minimised"))&&o})]})};Ut.__docgenInfo={description:"",methods:[],displayName:"Panel",props:{targetId:{required:!0,tsType:{name:"string"},description:"For linking to associated ToggleButtonState"},title:{required:!0,tsType:{name:"string"},description:"Panel title."},count:{required:!1,tsType:{name:"number"},description:"Total number of items",defaultValue:{value:"0",computed:!1}},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Component content"},dragHandle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"null",computed:!1}},dragHandleClassName:{required:!1,tsType:{name:"string"},description:`Specifies a selector to be used as the handle that initiates drag. Example:
drag-handle.`},iconBeforeTitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},defaultPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"The x and y property is used to set the default position of the component."}},composes:["HTMLAttributes"]};var ht={exports:{}},Yt={};function $t(t){var r,e,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t))for(r=0;r<t.length;r++)t[r]&&(e=$t(t[r]))&&(i&&(i+=" "),i+=e);else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Mt(){for(var t,r,e=0,i="";e<arguments.length;)(t=arguments[e++])&&(r=$t(t))&&(i&&(i+=" "),i+=r);return i}const Pe=Object.freeze(Object.defineProperty({__proto__:null,clsx:Mt,default:Mt},Symbol.toStringTag,{value:"Module"})),Ce=ee(Pe);var R={},$={};Object.defineProperty($,"__esModule",{value:!0});$.dontSetMe=Ne;$.findInArray=_e;$.int=Ee;$.isFunction=Te;$.isNum=Me;function _e(t,r){for(let e=0,i=t.length;e<i;e++)if(r.apply(r,[t[e],e,t]))return t[e]}function Te(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Function]"}function Me(t){return typeof t=="number"&&!isNaN(t)}function Ee(t){return parseInt(t,10)}function Ne(t,r,e){if(t[r])return new Error("Invalid prop ".concat(r," passed to ").concat(e," - do not set this, set it on the child."))}var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.browserPrefixToKey=jt;Z.browserPrefixToStyle=We;Z.default=void 0;Z.getPrefix=It;const mt=["Moz","Webkit","O","ms"];function It(){var t;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const e=(t=window.document)===null||t===void 0||(t=t.documentElement)===null||t===void 0?void 0:t.style;if(!e||r in e)return"";for(let i=0;i<mt.length;i++)if(jt(r,mt[i])in e)return mt[i];return""}function jt(t,r){return r?"".concat(r).concat(Oe(t)):t}function We(t,r){return r?"-".concat(r.toLowerCase(),"-").concat(t):t}function Oe(t){let r="",e=!0;for(let i=0;i<t.length;i++)e?(r+=t[i].toUpperCase(),e=!1):t[i]==="-"?e=!0:r+=t[i];return r}Z.default=It();Object.defineProperty(R,"__esModule",{value:!0});R.addClassName=Vt;R.addEvent=Ae;R.addUserSelectStyles=Ge;R.createCSSTransform=$e;R.createSVGTransform=Ie;R.getTouch=je;R.getTouchIdentifier=qe;R.getTranslation=Rt;R.innerHeight=Xe;R.innerWidth=Ue;R.matchesSelector=Gt;R.matchesSelectorAndParentsTo=He;R.offsetXYFromParent=Ye;R.outerHeight=ke;R.outerWidth=Fe;R.removeClassName=Kt;R.removeEvent=Le;R.removeUserSelectStyles=Ve;var L=$,Et=Be(Z);function qt(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(qt=function(i){return i?e:r})(t)}function Be(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=qt(r);if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var n=o?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}let st="";function Gt(t,r){return st||(st=(0,L.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(e){return(0,L.isFunction)(t[e])})),(0,L.isFunction)(t[st])?t[st](r):!1}function He(t,r,e){let i=t;do{if(Gt(i,r))return!0;if(i===e)return!1;i=i.parentNode}while(i);return!1}function Ae(t,r,e,i){if(!t)return;const o={capture:!0,...i};t.addEventListener?t.addEventListener(r,e,o):t.attachEvent?t.attachEvent("on"+r,e):t["on"+r]=e}function Le(t,r,e,i){if(!t)return;const o={capture:!0,...i};t.removeEventListener?t.removeEventListener(r,e,o):t.detachEvent?t.detachEvent("on"+r,e):t["on"+r]=null}function ke(t){let r=t.clientHeight;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,L.int)(e.borderTopWidth),r+=(0,L.int)(e.borderBottomWidth),r}function Fe(t){let r=t.clientWidth;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r+=(0,L.int)(e.borderLeftWidth),r+=(0,L.int)(e.borderRightWidth),r}function Xe(t){let r=t.clientHeight;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,L.int)(e.paddingTop),r-=(0,L.int)(e.paddingBottom),r}function Ue(t){let r=t.clientWidth;const e=t.ownerDocument.defaultView.getComputedStyle(t);return r-=(0,L.int)(e.paddingLeft),r-=(0,L.int)(e.paddingRight),r}function Ye(t,r,e){const o=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect(),s=(t.clientX+r.scrollLeft-o.left)/e,n=(t.clientY+r.scrollTop-o.top)/e;return{x:s,y:n}}function $e(t,r){const e=Rt(t,r,"px");return{[(0,Et.browserPrefixToKey)("transform",Et.default)]:e}}function Ie(t,r){return Rt(t,r,"")}function Rt(t,r,e){let{x:i,y:o}=t,s="translate(".concat(i).concat(e,",").concat(o).concat(e,")");if(r){const n="".concat(typeof r.x=="string"?r.x:r.x+e),a="".concat(typeof r.y=="string"?r.y:r.y+e);s="translate(".concat(n,", ").concat(a,")")+s}return s}function je(t,r){return t.targetTouches&&(0,L.findInArray)(t.targetTouches,e=>r===e.identifier)||t.changedTouches&&(0,L.findInArray)(t.changedTouches,e=>r===e.identifier)}function qe(t){if(t.targetTouches&&t.targetTouches[0])return t.targetTouches[0].identifier;if(t.changedTouches&&t.changedTouches[0])return t.changedTouches[0].identifier}function Ge(t){if(!t)return;let r=t.getElementById("react-draggable-style-el");r||(r=t.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(r)),t.body&&Vt(t.body,"react-draggable-transparent-selection")}function Ve(t){if(t)try{if(t.body&&Kt(t.body,"react-draggable-transparent-selection"),t.selection)t.selection.empty();else{const r=(t.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function Vt(t,r){t.classList?t.classList.add(r):t.className.match(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)")))||(t.className+=" ".concat(r))}function Kt(t,r){t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(r,"(?!\\S)"),"g"),"")}var I={};Object.defineProperty(I,"__esModule",{value:!0});I.canDragX=Je;I.canDragY=Qe;I.createCoreData=ei;I.createDraggableData=ii;I.getBoundPosition=Ke;I.getControlPosition=ti;I.snapToGrid=Ze;var A=$,et=R;function Ke(t,r,e){if(!t.props.bounds)return[r,e];let{bounds:i}=t.props;i=typeof i=="string"?i:ri(i);const o=Pt(t);if(typeof i=="string"){const{ownerDocument:s}=o,n=s.defaultView;let a;if(i==="parent"?a=o.parentNode:a=s.querySelector(i),!(a instanceof n.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');const l=a,p=n.getComputedStyle(o),h=n.getComputedStyle(l);i={left:-o.offsetLeft+(0,A.int)(h.paddingLeft)+(0,A.int)(p.marginLeft),top:-o.offsetTop+(0,A.int)(h.paddingTop)+(0,A.int)(p.marginTop),right:(0,et.innerWidth)(l)-(0,et.outerWidth)(o)-o.offsetLeft+(0,A.int)(h.paddingRight)-(0,A.int)(p.marginRight),bottom:(0,et.innerHeight)(l)-(0,et.outerHeight)(o)-o.offsetTop+(0,A.int)(h.paddingBottom)-(0,A.int)(p.marginBottom)}}return(0,A.isNum)(i.right)&&(r=Math.min(r,i.right)),(0,A.isNum)(i.bottom)&&(e=Math.min(e,i.bottom)),(0,A.isNum)(i.left)&&(r=Math.max(r,i.left)),(0,A.isNum)(i.top)&&(e=Math.max(e,i.top)),[r,e]}function Ze(t,r,e){const i=Math.round(r/t[0])*t[0],o=Math.round(e/t[1])*t[1];return[i,o]}function Je(t){return t.props.axis==="both"||t.props.axis==="x"}function Qe(t){return t.props.axis==="both"||t.props.axis==="y"}function ti(t,r,e){const i=typeof r=="number"?(0,et.getTouch)(t,r):null;if(typeof r=="number"&&!i)return null;const o=Pt(e),s=e.props.offsetParent||o.offsetParent||o.ownerDocument.body;return(0,et.offsetXYFromParent)(i||t,s,e.props.scale)}function ei(t,r,e){const i=!(0,A.isNum)(t.lastX),o=Pt(t);return i?{node:o,deltaX:0,deltaY:0,lastX:r,lastY:e,x:r,y:e}:{node:o,deltaX:r-t.lastX,deltaY:e-t.lastY,lastX:t.lastX,lastY:t.lastY,x:r,y:e}}function ii(t,r){const e=t.props.scale;return{node:r.node,x:t.state.x+r.deltaX/e,y:t.state.y+r.deltaY/e,deltaX:r.deltaX/e,deltaY:r.deltaY/e,lastX:t.state.x,lastY:t.state.y}}function ri(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}function Pt(t){const r=t.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var ct={},ft={};Object.defineProperty(ft,"__esModule",{value:!0});ft.default=oi;function oi(){}Object.defineProperty(ct,"__esModule",{value:!0});ct.default=void 0;var vt=ni(M),O=Ct(Lt),si=Ct(dt),N=R,G=I,yt=$,it=Ct(ft);function Ct(t){return t&&t.__esModule?t:{default:t}}function Zt(t){if(typeof WeakMap!="function")return null;var r=new WeakMap,e=new WeakMap;return(Zt=function(i){return i?e:r})(t)}function ni(t,r){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var e=Zt(r);if(e&&e.has(t))return e.get(t);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(s!=="default"&&Object.prototype.hasOwnProperty.call(t,s)){var n=o?Object.getOwnPropertyDescriptor(t,s):null;n&&(n.get||n.set)?Object.defineProperty(i,s,n):i[s]=t[s]}return i.default=t,e&&e.set(t,i),i}function W(t,r,e){return r=ai(r),r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function ai(t){var r=li(t,"string");return typeof r=="symbol"?r:String(r)}function li(t,r){if(typeof t!="object"||t===null)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,r);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}const X={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let V=X.mouse,gt=class extends vt.Component{constructor(){super(...arguments),W(this,"dragging",!1),W(this,"lastX",NaN),W(this,"lastY",NaN),W(this,"touchIdentifier",null),W(this,"mounted",!1),W(this,"handleDragStart",r=>{if(this.props.onMouseDown(r),!this.props.allowAnyClick&&typeof r.button=="number"&&r.button!==0)return!1;const e=this.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:i}=e;if(this.props.disabled||!(r.target instanceof i.defaultView.Node)||this.props.handle&&!(0,N.matchesSelectorAndParentsTo)(r.target,this.props.handle,e)||this.props.cancel&&(0,N.matchesSelectorAndParentsTo)(r.target,this.props.cancel,e))return;r.type==="touchstart"&&r.preventDefault();const o=(0,N.getTouchIdentifier)(r);this.touchIdentifier=o;const s=(0,G.getControlPosition)(r,o,this);if(s==null)return;const{x:n,y:a}=s,l=(0,G.createCoreData)(this,n,a);(0,it.default)("DraggableCore: handleDragStart: %j",l),(0,it.default)("calling",this.props.onStart),!(this.props.onStart(r,l)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,N.addUserSelectStyles)(i),this.dragging=!0,this.lastX=n,this.lastY=a,(0,N.addEvent)(i,V.move,this.handleDrag),(0,N.addEvent)(i,V.stop,this.handleDragStop))}),W(this,"handleDrag",r=>{const e=(0,G.getControlPosition)(r,this.touchIdentifier,this);if(e==null)return;let{x:i,y:o}=e;if(Array.isArray(this.props.grid)){let a=i-this.lastX,l=o-this.lastY;if([a,l]=(0,G.snapToGrid)(this.props.grid,a,l),!a&&!l)return;i=this.lastX+a,o=this.lastY+l}const s=(0,G.createCoreData)(this,i,o);if((0,it.default)("DraggableCore: handleDrag: %j",s),this.props.onDrag(r,s)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const l=document.createEvent("MouseEvents");l.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(l)}return}this.lastX=i,this.lastY=o}),W(this,"handleDragStop",r=>{if(!this.dragging)return;const e=(0,G.getControlPosition)(r,this.touchIdentifier,this);if(e==null)return;let{x:i,y:o}=e;if(Array.isArray(this.props.grid)){let l=i-this.lastX||0,p=o-this.lastY||0;[l,p]=(0,G.snapToGrid)(this.props.grid,l,p),i=this.lastX+l,o=this.lastY+p}const s=(0,G.createCoreData)(this,i,o);if(this.props.onStop(r,s)===!1||this.mounted===!1)return!1;const a=this.findDOMNode();a&&this.props.enableUserSelectHack&&(0,N.removeUserSelectStyles)(a.ownerDocument),(0,it.default)("DraggableCore: handleDragStop: %j",s),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,a&&((0,it.default)("DraggableCore: Removing handlers"),(0,N.removeEvent)(a.ownerDocument,V.move,this.handleDrag),(0,N.removeEvent)(a.ownerDocument,V.stop,this.handleDragStop))}),W(this,"onMouseDown",r=>(V=X.mouse,this.handleDragStart(r))),W(this,"onMouseUp",r=>(V=X.mouse,this.handleDragStop(r))),W(this,"onTouchStart",r=>(V=X.touch,this.handleDragStart(r))),W(this,"onTouchEnd",r=>(V=X.touch,this.handleDragStop(r)))}componentDidMount(){this.mounted=!0;const r=this.findDOMNode();r&&(0,N.addEvent)(r,X.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:e}=r;(0,N.removeEvent)(e,X.mouse.move,this.handleDrag),(0,N.removeEvent)(e,X.touch.move,this.handleDrag),(0,N.removeEvent)(e,X.mouse.stop,this.handleDragStop),(0,N.removeEvent)(e,X.touch.stop,this.handleDragStop),(0,N.removeEvent)(r,X.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,N.removeUserSelectStyles)(e)}}findDOMNode(){var r,e;return(r=this.props)!==null&&r!==void 0&&r.nodeRef?(e=this.props)===null||e===void 0||(e=e.nodeRef)===null||e===void 0?void 0:e.current:si.default.findDOMNode(this)}render(){return vt.cloneElement(vt.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};ct.default=gt;W(gt,"displayName","DraggableCore");W(gt,"propTypes",{allowAnyClick:O.default.bool,children:O.default.node.isRequired,disabled:O.default.bool,enableUserSelectHack:O.default.bool,offsetParent:function(t,r){if(t[r]&&t[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:O.default.arrayOf(O.default.number),handle:O.default.string,cancel:O.default.string,nodeRef:O.default.object,onStart:O.default.func,onDrag:O.default.func,onStop:O.default.func,onMouseDown:O.default.func,scale:O.default.number,className:yt.dontSetMe,style:yt.dontSetMe,transform:yt.dontSetMe});W(gt,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return l.default}}),t.default=void 0;var r=v(M),e=h(Lt),i=h(dt),o=h(Ce),s=R,n=I,a=$,l=h(ct),p=h(ft);function h(c){return c&&c.__esModule?c:{default:c}}function g(c){if(typeof WeakMap!="function")return null;var u=new WeakMap,d=new WeakMap;return(g=function(f){return f?d:u})(c)}function v(c,u){if(c&&c.__esModule)return c;if(c===null||typeof c!="object"&&typeof c!="function")return{default:c};var d=g(u);if(d&&d.has(c))return d.get(c);var f={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var m in c)if(m!=="default"&&Object.prototype.hasOwnProperty.call(c,m)){var D=S?Object.getOwnPropertyDescriptor(c,m):null;D&&(D.get||D.set)?Object.defineProperty(f,m,D):f[m]=c[m]}return f.default=c,d&&d.set(c,f),f}function y(){return y=Object.assign?Object.assign.bind():function(c){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])}return c},y.apply(this,arguments)}function w(c,u,d){return u=b(u),u in c?Object.defineProperty(c,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[u]=d,c}function b(c){var u=x(c,"string");return typeof u=="symbol"?u:String(u)}function x(c,u){if(typeof c!="object"||c===null)return c;var d=c[Symbol.toPrimitive];if(d!==void 0){var f=d.call(c,u);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(c)}class z extends r.Component{static getDerivedStateFromProps(u,d){let{position:f}=u,{prevPropsPosition:S}=d;return f&&(!S||f.x!==S.x||f.y!==S.y)?((0,p.default)("Draggable: getDerivedStateFromProps %j",{position:f,prevPropsPosition:S}),{x:f.x,y:f.y,prevPropsPosition:{...f}}):null}constructor(u){super(u),w(this,"onDragStart",(d,f)=>{if((0,p.default)("Draggable: onDragStart: %j",f),this.props.onStart(d,(0,n.createDraggableData)(this,f))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),w(this,"onDrag",(d,f)=>{if(!this.state.dragging)return!1;(0,p.default)("Draggable: onDrag: %j",f);const S=(0,n.createDraggableData)(this,f),m={x:S.x,y:S.y,slackX:0,slackY:0};if(this.props.bounds){const{x:P,y:E}=m;m.x+=this.state.slackX,m.y+=this.state.slackY;const[B,C]=(0,n.getBoundPosition)(this,m.x,m.y);m.x=B,m.y=C,m.slackX=this.state.slackX+(P-m.x),m.slackY=this.state.slackY+(E-m.y),S.x=m.x,S.y=m.y,S.deltaX=m.x-this.state.x,S.deltaY=m.y-this.state.y}if(this.props.onDrag(d,S)===!1)return!1;this.setState(m)}),w(this,"onDragStop",(d,f)=>{if(!this.state.dragging||this.props.onStop(d,(0,n.createDraggableData)(this,f))===!1)return!1;(0,p.default)("Draggable: onDragStop: %j",f);const m={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:P,y:E}=this.props.position;m.x=P,m.y=E}this.setState(m)}),this.state={dragging:!1,dragged:!1,x:u.position?u.position.x:u.defaultPosition.x,y:u.position?u.position.y:u.defaultPosition.y,prevPropsPosition:{...u.position},slackX:0,slackY:0,isElementSVG:!1},u.position&&!(u.onDrag||u.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var u,d;return(u=(d=this.props)===null||d===void 0||(d=d.nodeRef)===null||d===void 0?void 0:d.current)!==null&&u!==void 0?u:i.default.findDOMNode(this)}render(){const{axis:u,bounds:d,children:f,defaultPosition:S,defaultClassName:m,defaultClassNameDragging:D,defaultClassNameDragged:P,position:E,positionOffset:B,scale:C,...H}=this.props;let j={},q=null;const J=!!!E||this.state.dragging,Q=E||S,F={x:(0,n.canDragX)(this)&&J?this.state.x:Q.x,y:(0,n.canDragY)(this)&&J?this.state.y:Q.y};this.state.isElementSVG?q=(0,s.createSVGTransform)(F,B):j=(0,s.createCSSTransform)(F,B);const rt=(0,o.default)(f.props.className||"",m,{[D]:this.state.dragging,[P]:this.state.dragged});return r.createElement(l.default,y({},H,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(f),{className:rt,style:{...f.props.style,...j},transform:q}))}}t.default=z,w(z,"displayName","Draggable"),w(z,"propTypes",{...l.default.propTypes,axis:e.default.oneOf(["both","x","y","none"]),bounds:e.default.oneOfType([e.default.shape({left:e.default.number,right:e.default.number,top:e.default.number,bottom:e.default.number}),e.default.string,e.default.oneOf([!1])]),defaultClassName:e.default.string,defaultClassNameDragging:e.default.string,defaultClassNameDragged:e.default.string,defaultPosition:e.default.shape({x:e.default.number,y:e.default.number}),positionOffset:e.default.shape({x:e.default.oneOfType([e.default.number,e.default.string]),y:e.default.oneOfType([e.default.number,e.default.string])}),position:e.default.shape({x:e.default.number,y:e.default.number}),className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),w(z,"defaultProps",{...l.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Yt);const{default:Jt,DraggableCore:pi}=Yt;ht.exports=Jt;ht.exports.default=Jt;ht.exports.DraggableCore=pi;var ui=ht.exports;const di=ie(ui);var hi=function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(r,e)};return function(r,e){t(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),_=function(){return _=Object.assign||function(t){for(var r,e=1,i=arguments.length;e<i;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},_.apply(this,arguments)},Nt={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Wt={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},nt={width:"20px",height:"20px",position:"absolute"},ci={top:_(_({},Nt),{top:"-5px"}),right:_(_({},Wt),{left:void 0,right:"-5px"}),bottom:_(_({},Nt),{top:void 0,bottom:"-5px"}),left:_(_({},Wt),{left:"-5px"}),topRight:_(_({},nt),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:_(_({},nt),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:_(_({},nt),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:_(_({},nt),{left:"-10px",top:"-10px",cursor:"nw-resize"})},fi=function(t){hi(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;return e.onMouseDown=function(i){e.props.onResizeStart(i,e.props.direction)},e.onTouchStart=function(i){e.props.onResizeStart(i,e.props.direction)},e}return r.prototype.render=function(){return M.createElement("div",{className:this.props.className||"",style:_(_({position:"absolute",userSelect:"none"},ci[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},r}(M.PureComponent),gi=function(){var t=function(r,e){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},t(r,e)};return function(r,e){t(r,e);function i(){this.constructor=r}r.prototype=e===null?Object.create(e):(i.prototype=e.prototype,new i)}}(),Y=function(){return Y=Object.assign||function(t){for(var r,e=1,i=arguments.length;e<i;e++){r=arguments[e];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Y.apply(this,arguments)},mi={width:"auto",height:"auto"},at=function(t,r,e){return Math.max(Math.min(t,e),r)},Ot=function(t,r,e){var i=Math.round(t/r);return i*r+e*(i-1)},tt=function(t,r){return new RegExp(t,"i").test(r)},lt=function(t){return!!(t.touches&&t.touches.length)},vi=function(t){return!!((t.clientX||t.clientX===0)&&(t.clientY||t.clientY===0))},Bt=function(t,r,e){e===void 0&&(e=0);var i=r.reduce(function(s,n,a){return Math.abs(n-t)<Math.abs(r[s]-t)?a:s},0),o=Math.abs(r[i]-t);return e===0||o<e?r[i]:t},bt=function(t){return t=t.toString(),t==="auto"||t.endsWith("px")||t.endsWith("%")||t.endsWith("vh")||t.endsWith("vw")||t.endsWith("vmax")||t.endsWith("vmin")?t:t+"px"},pt=function(t,r,e,i){if(t&&typeof t=="string"){if(t.endsWith("px"))return Number(t.replace("px",""));if(t.endsWith("%")){var o=Number(t.replace("%",""))/100;return r*o}if(t.endsWith("vw")){var o=Number(t.replace("vw",""))/100;return e*o}if(t.endsWith("vh")){var o=Number(t.replace("vh",""))/100;return i*o}}return t},yi=function(t,r,e,i,o,s,n){return i=pt(i,t.width,r,e),o=pt(o,t.height,r,e),s=pt(s,t.width,r,e),n=pt(n,t.height,r,e),{maxWidth:typeof i>"u"?void 0:Number(i),maxHeight:typeof o>"u"?void 0:Number(o),minWidth:typeof s>"u"?void 0:Number(s),minHeight:typeof n>"u"?void 0:Number(n)}},bi=function(t){return Array.isArray(t)?t:[t,t]},wi=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],Ht="__resizable_base__",Si=function(t){gi(r,t);function r(e){var i,o,s,n,a=t.call(this,e)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var l=a.parentNode;if(!l)return null;var p=a.window.document.createElement("div");return p.style.width="100%",p.style.height="100%",p.style.position="absolute",p.style.transform="scale(0, 0)",p.style.left="0",p.style.flex="0 0 100%",p.classList?p.classList.add(Ht):p.className+=Ht,l.appendChild(p),p},a.removeBase=function(l){var p=a.parentNode;p&&p.removeChild(l)},a.state={isResizing:!1,width:(o=(i=a.propsSize)===null||i===void 0?void 0:i.width)!==null&&o!==void 0?o:"auto",height:(n=(s=a.propsSize)===null||s===void 0?void 0:s.height)!==null&&n!==void 0?n:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return Object.defineProperty(r.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"window",{get:function(){return!this.resizable||!this.resizable.ownerDocument?null:this.resizable.ownerDocument.defaultView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||mi},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"size",{get:function(){var e=0,i=0;if(this.resizable&&this.window){var o=this.resizable.offsetWidth,s=this.resizable.offsetHeight,n=this.resizable.style.position;n!=="relative"&&(this.resizable.style.position="relative"),e=this.resizable.style.width!=="auto"?this.resizable.offsetWidth:o,i=this.resizable.style.height!=="auto"?this.resizable.offsetHeight:s,this.resizable.style.position=n}return{width:e,height:i}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"sizeStyle",{get:function(){var e=this,i=this.props.size,o=function(a){var l;if(typeof e.state[a]>"u"||e.state[a]==="auto")return"auto";if(e.propsSize&&e.propsSize[a]&&(!((l=e.propsSize[a])===null||l===void 0)&&l.toString().endsWith("%"))){if(e.state[a].toString().endsWith("%"))return e.state[a].toString();var p=e.getParentSize(),h=Number(e.state[a].toString().replace("px","")),g=h/p[a]*100;return g+"%"}return bt(e.state[a])},s=i&&typeof i.width<"u"&&!this.state.isResizing?bt(i.width):o("width"),n=i&&typeof i.height<"u"&&!this.state.isResizing?bt(i.height):o("height");return{width:s,height:n}},enumerable:!1,configurable:!0}),r.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var i=!1,o=this.parentNode.style.flexWrap;o!=="wrap"&&(i=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var s={width:e.offsetWidth,height:e.offsetHeight};return i&&(this.parentNode.style.flexWrap=o),this.removeBase(e),s},r.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},r.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},r.prototype.componentDidMount=function(){if(!(!this.resizable||!this.window)){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:e.flexBasis!=="auto"?e.flexBasis:void 0})}},r.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},r.prototype.createSizeForCssProperty=function(e,i){var o=this.propsSize&&this.propsSize[i];return this.state[i]==="auto"&&this.state.original[i]===e&&(typeof o>"u"||o==="auto")?"auto":e},r.prototype.calculateNewMaxFromBoundary=function(e,i){var o=this.props.boundsByDirection,s=this.state.direction,n=o&&tt("left",s),a=o&&tt("top",s),l,p;if(this.props.bounds==="parent"){var h=this.parentNode;h&&(l=n?this.resizableRight-this.parentLeft:h.offsetWidth+(this.parentLeft-this.resizableLeft),p=a?this.resizableBottom-this.parentTop:h.offsetHeight+(this.parentTop-this.resizableTop))}else this.props.bounds==="window"?this.window&&(l=n?this.resizableRight:this.window.innerWidth-this.resizableLeft,p=a?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(l=n?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),p=a?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return l&&Number.isFinite(l)&&(e=e&&e<l?e:l),p&&Number.isFinite(p)&&(i=i&&i<p?i:p),{maxWidth:e,maxHeight:i}},r.prototype.calculateNewSizeFromDirection=function(e,i){var o=this.props.scale||1,s=bi(this.props.resizeRatio||1),n=s[0],a=s[1],l=this.state,p=l.direction,h=l.original,g=this.props,v=g.lockAspectRatio,y=g.lockAspectRatioExtraHeight,w=g.lockAspectRatioExtraWidth,b=h.width,x=h.height,z=y||0,c=w||0;return tt("right",p)&&(b=h.width+(e-h.x)*n/o,v&&(x=(b-c)/this.ratio+z)),tt("left",p)&&(b=h.width-(e-h.x)*n/o,v&&(x=(b-c)/this.ratio+z)),tt("bottom",p)&&(x=h.height+(i-h.y)*a/o,v&&(b=(x-z)*this.ratio+c)),tt("top",p)&&(x=h.height-(i-h.y)*a/o,v&&(b=(x-z)*this.ratio+c)),{newWidth:b,newHeight:x}},r.prototype.calculateNewSizeFromAspectRatio=function(e,i,o,s){var n=this.props,a=n.lockAspectRatio,l=n.lockAspectRatioExtraHeight,p=n.lockAspectRatioExtraWidth,h=typeof s.width>"u"?10:s.width,g=typeof o.width>"u"||o.width<0?e:o.width,v=typeof s.height>"u"?10:s.height,y=typeof o.height>"u"||o.height<0?i:o.height,w=l||0,b=p||0;if(a){var x=(v-w)*this.ratio+b,z=(y-w)*this.ratio+b,c=(h-b)/this.ratio+w,u=(g-b)/this.ratio+w,d=Math.max(h,x),f=Math.min(g,z),S=Math.max(v,c),m=Math.min(y,u);e=at(e,d,f),i=at(i,S,m)}else e=at(e,h,g),i=at(i,v,y);return{newWidth:e,newHeight:i}},r.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if(this.props.bounds==="parent"){var i=this.parentNode;if(i){var o=i.getBoundingClientRect();this.parentLeft=o.left*e,this.parentTop=o.top*e}}if(this.props.bounds&&typeof this.props.bounds!="string"){var s=this.props.bounds.getBoundingClientRect();this.targetLeft=s.left*e,this.targetTop=s.top*e}if(this.resizable){var n=this.resizable.getBoundingClientRect(),a=n.left,l=n.top,p=n.right,h=n.bottom;this.resizableLeft=a*e,this.resizableRight=p*e,this.resizableTop=l*e,this.resizableBottom=h*e}},r.prototype.onResizeStart=function(e,i){if(!(!this.resizable||!this.window)){var o=0,s=0;if(e.nativeEvent&&vi(e.nativeEvent)?(o=e.nativeEvent.clientX,s=e.nativeEvent.clientY):e.nativeEvent&&lt(e.nativeEvent)&&(o=e.nativeEvent.touches[0].clientX,s=e.nativeEvent.touches[0].clientY),this.props.onResizeStart&&this.resizable){var n=this.props.onResizeStart(e,i,this.resizable);if(n===!1)return}this.props.size&&(typeof this.props.size.height<"u"&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),typeof this.props.size.width<"u"&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio=typeof this.props.lockAspectRatio=="number"?this.props.lockAspectRatio:this.size.width/this.size.height;var a,l=this.window.getComputedStyle(this.resizable);if(l.flexBasis!=="auto"){var p=this.parentNode;if(p){var h=this.window.getComputedStyle(p).flexDirection;this.flexDir=h.startsWith("row")?"row":"column",a=l.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var g={original:{x:o,y:s,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:Y(Y({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:i,flexBasis:a};this.setState(g)}},r.prototype.onMouseMove=function(e){var i=this;if(!(!this.state.isResizing||!this.resizable||!this.window)){if(this.window.TouchEvent&&lt(e))try{e.preventDefault(),e.stopPropagation()}catch{}var o=this.props,s=o.maxWidth,n=o.maxHeight,a=o.minWidth,l=o.minHeight,p=lt(e)?e.touches[0].clientX:e.clientX,h=lt(e)?e.touches[0].clientY:e.clientY,g=this.state,v=g.direction,y=g.original,w=g.width,b=g.height,x=this.getParentSize(),z=yi(x,this.window.innerWidth,this.window.innerHeight,s,n,a,l);s=z.maxWidth,n=z.maxHeight,a=z.minWidth,l=z.minHeight;var c=this.calculateNewSizeFromDirection(p,h),u=c.newHeight,d=c.newWidth,f=this.calculateNewMaxFromBoundary(s,n);this.props.snap&&this.props.snap.x&&(d=Bt(d,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(u=Bt(u,this.props.snap.y,this.props.snapGap));var S=this.calculateNewSizeFromAspectRatio(d,u,{width:f.maxWidth,height:f.maxHeight},{width:a,height:l});if(d=S.newWidth,u=S.newHeight,this.props.grid){var m=Ot(d,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),D=Ot(u,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),P=this.props.snapGap||0,E=P===0||Math.abs(m-d)<=P?m:d,B=P===0||Math.abs(D-u)<=P?D:u;d=E,u=B}var C={width:d-y.width,height:u-y.height};if(w&&typeof w=="string"){if(w.endsWith("%")){var H=d/x.width*100;d=H+"%"}else if(w.endsWith("vw")){var j=d/this.window.innerWidth*100;d=j+"vw"}else if(w.endsWith("vh")){var q=d/this.window.innerHeight*100;d=q+"vh"}}if(b&&typeof b=="string"){if(b.endsWith("%")){var H=u/x.height*100;u=H+"%"}else if(b.endsWith("vw")){var j=u/this.window.innerWidth*100;u=j+"vw"}else if(b.endsWith("vh")){var q=u/this.window.innerHeight*100;u=q+"vh"}}var k={width:this.createSizeForCssProperty(d,"width"),height:this.createSizeForCssProperty(u,"height")};this.flexDir==="row"?k.flexBasis=k.width:this.flexDir==="column"&&(k.flexBasis=k.height);var J=this.state.width!==k.width,Q=this.state.height!==k.height,F=this.state.flexBasis!==k.flexBasis,rt=J||Q||F;rt&&dt.flushSync(function(){i.setState(k)}),this.props.onResize&&rt&&this.props.onResize(e,v,this.resizable,C)}},r.prototype.onMouseUp=function(e){var i,o,s=this.state,n=s.isResizing,a=s.direction,l=s.original;if(!(!n||!this.resizable)){var p={width:this.size.width-l.width,height:this.size.height-l.height};this.props.onResizeStop&&this.props.onResizeStop(e,a,this.resizable,p),this.props.size&&this.setState({width:(i=this.props.size.width)!==null&&i!==void 0?i:"auto",height:(o=this.props.size.height)!==null&&o!==void 0?o:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:Y(Y({},this.state.backgroundStyle),{cursor:"auto"})})}},r.prototype.updateSize=function(e){var i,o;this.setState({width:(i=e.width)!==null&&i!==void 0?i:"auto",height:(o=e.height)!==null&&o!==void 0?o:"auto"})},r.prototype.renderResizer=function(){var e=this,i=this.props,o=i.enable,s=i.handleStyles,n=i.handleClasses,a=i.handleWrapperStyle,l=i.handleWrapperClass,p=i.handleComponent;if(!o)return null;var h=Object.keys(o).map(function(g){return o[g]!==!1?M.createElement(fi,{key:g,direction:g,onResizeStart:e.onResizeStart,replaceStyles:s&&s[g],className:n&&n[g]},p&&p[g]?p[g]:null):null});return M.createElement("div",{className:l,style:a},h)},r.prototype.render=function(){var e=this,i=Object.keys(this.props).reduce(function(n,a){return wi.indexOf(a)!==-1||(n[a]=e.props[a]),n},{}),o=Y(Y(Y({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(o.flexBasis=this.state.flexBasis);var s=this.props.as||"div";return M.createElement(s,Y({style:o,className:this.props.className},i,{ref:function(n){n&&(e.resizable=n)}}),this.state.isResizing&&M.createElement("div",{style:this.state.backgroundStyle}),this.props.children,this.renderResizer())},r.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},r}(M.PureComponent);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var St=function(t,r){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])},St(t,r)};function xi(t,r){St(t,r);function e(){this.constructor=t}t.prototype=r===null?Object.create(r):(e.prototype=r.prototype,new e)}var T=function(){return T=Object.assign||function(r){for(var e,i=1,o=arguments.length;i<o;i++){e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}return r},T.apply(this,arguments)};function zi(t,r){var e={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.indexOf(i)<0&&(e[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)r.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(e[i[o]]=t[i[o]]);return e}var Di={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},Ri=function(t){return{bottom:t,bottomLeft:t,bottomRight:t,left:t,right:t,top:t,topLeft:t,topRight:t}},Pi=function(t){xi(r,t);function r(e){var i=t.call(this,e)||this;return i.resizingPosition={x:0,y:0},i.offsetFromParent={left:0,top:0},i.resizableElement={current:null},i.originalPosition={x:0,y:0},i.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:e.maxWidth,maxHeight:e.maxHeight},i.onResizeStart=i.onResizeStart.bind(i),i.onResize=i.onResize.bind(i),i.onResizeStop=i.onResizeStop.bind(i),i.onDragStart=i.onDragStart.bind(i),i.onDrag=i.onDrag.bind(i),i.onDragStop=i.onDragStop.bind(i),i.getMaxSizesFromProps=i.getMaxSizesFromProps.bind(i),i}return r.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,i=e.left,o=e.top,s=this.getDraggablePosition(),n=s.x,a=s.y;this.draggable.setState({x:n-i,y:a-o}),this.forceUpdate()},r.prototype.getDraggablePosition=function(){var e=this.draggable.state,i=e.x,o=e.y;return{x:i,y:o}},r.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},r.prototype.getParentSize=function(){return this.resizable.getParentSize()},r.prototype.getMaxSizesFromProps=function(){var e=typeof this.props.maxWidth>"u"?Number.MAX_SAFE_INTEGER:this.props.maxWidth,i=typeof this.props.maxHeight>"u"?Number.MAX_SAFE_INTEGER:this.props.maxHeight;return{maxWidth:e,maxHeight:i}},r.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},r.prototype.getOffsetHeight=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/i;case"body":return document.body.offsetHeight/i;default:return e.offsetHeight}},r.prototype.getOffsetWidth=function(e){var i=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/i;case"body":return document.body.offsetWidth/i;default:return e.offsetWidth}},r.prototype.onDragStart=function(e,i){this.props.onDragStart&&this.props.onDragStart(e,i);var o=this.getDraggablePosition();if(this.originalPosition=o,!!this.props.bounds){var s=this.getParent(),n=this.props.scale,a;if(this.props.bounds==="parent")a=s;else if(this.props.bounds==="body"){var l=s.getBoundingClientRect(),p=l.left,h=l.top,g=document.body.getBoundingClientRect(),v=-(p-s.offsetLeft*n-g.left)/n,y=-(h-s.offsetTop*n-g.top)/n,w=(document.body.offsetWidth-this.resizable.size.width*n)/n+v,b=(document.body.offsetHeight-this.resizable.size.height*n)/n+y;return this.setState({bounds:{top:y,right:w,bottom:b,left:v}})}else if(this.props.bounds==="window"){if(!this.resizable)return;var x=s.getBoundingClientRect(),z=x.left,c=x.top,u=-(z-s.offsetLeft*n)/n,d=-(c-s.offsetTop*n)/n,w=(window.innerWidth-this.resizable.size.width*n)/n+u,b=(window.innerHeight-this.resizable.size.height*n)/n+d;return this.setState({bounds:{top:d,right:w,bottom:b,left:u}})}else typeof this.props.bounds=="string"?a=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(a=this.props.bounds);if(!(!(a instanceof HTMLElement)||!(s instanceof HTMLElement))){var f=a.getBoundingClientRect(),S=f.left,m=f.top,D=s.getBoundingClientRect(),P=D.left,E=D.top,B=(S-P)/n,C=m-E;if(this.resizable){this.updateOffsetFromParent();var H=this.offsetFromParent;this.setState({bounds:{top:C-H.top,right:B+(a.offsetWidth-this.resizable.size.width)-H.left/n,bottom:C+(a.offsetHeight-this.resizable.size.height)-H.top,left:B-H.left/n}})}}}},r.prototype.onDrag=function(e,i){if(this.props.onDrag){var o=this.offsetFromParent,s=o.left,n=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDrag(e,T(T({},i),{x:i.x+s,y:i.y+n}));if(this.props.dragAxis==="x")return this.props.onDrag(e,T(T({},i),{x:i.x+s,y:this.originalPosition.y+n,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDrag(e,T(T({},i),{x:this.originalPosition.x+s,y:i.y+n,deltaX:0}))}},r.prototype.onDragStop=function(e,i){if(this.props.onDragStop){var o=this.offsetFromParent,s=o.left,n=o.top;if(!this.props.dragAxis||this.props.dragAxis==="both")return this.props.onDragStop(e,T(T({},i),{x:i.x+s,y:i.y+n}));if(this.props.dragAxis==="x")return this.props.onDragStop(e,T(T({},i),{x:i.x+s,y:this.originalPosition.y+n,deltaY:0}));if(this.props.dragAxis==="y")return this.props.onDragStop(e,T(T({},i),{x:this.originalPosition.x+s,y:i.y+n,deltaX:0}))}},r.prototype.onResizeStart=function(e,i,o){e.stopPropagation(),this.setState({resizing:!0});var s=this.props.scale,n=this.offsetFromParent,a=this.getDraggablePosition();if(this.resizingPosition={x:a.x+n.left,y:a.y+n.top},this.originalPosition=a,this.props.bounds){var l=this.getParent(),p=void 0;this.props.bounds==="parent"?p=l:this.props.bounds==="body"?p=document.body:this.props.bounds==="window"?p=window:typeof this.props.bounds=="string"?p=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(p=this.props.bounds);var h=this.getSelfElement();if(h instanceof Element&&(p instanceof HTMLElement||p===window)&&l instanceof HTMLElement){var g=this.getMaxSizesFromProps(),v=g.maxWidth,y=g.maxHeight,w=this.getParentSize();if(v&&typeof v=="string")if(v.endsWith("%")){var b=Number(v.replace("%",""))/100;v=w.width*b}else v.endsWith("px")&&(v=Number(v.replace("px","")));if(y&&typeof y=="string")if(y.endsWith("%")){var b=Number(y.replace("%",""))/100;y=w.height*b}else y.endsWith("px")&&(y=Number(y.replace("px","")));var x=h.getBoundingClientRect(),z=x.left,c=x.top,u=this.props.bounds==="window"?{left:0,top:0}:p.getBoundingClientRect(),d=u.left,f=u.top,S=this.getOffsetWidth(p),m=this.getOffsetHeight(p),D=i.toLowerCase().endsWith("left"),P=i.toLowerCase().endsWith("right"),E=i.startsWith("top"),B=i.startsWith("bottom");if((D||E)&&this.resizable){var C=(z-d)/s+this.resizable.size.width;this.setState({maxWidth:C>Number(v)?v:C})}if(P||this.props.lockAspectRatio&&!D&&!E){var C=S+(d-z)/s;this.setState({maxWidth:C>Number(v)?v:C})}if((E||D)&&this.resizable){var C=(c-f)/s+this.resizable.size.height;this.setState({maxHeight:C>Number(y)?y:C})}if(B||this.props.lockAspectRatio&&!E&&!D){var C=m+(f-c)/s;this.setState({maxHeight:C>Number(y)?y:C})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,i,o)},r.prototype.onResize=function(e,i,o,s){var n=this,a={x:this.originalPosition.x,y:this.originalPosition.y},l=-s.width,p=-s.height,h=["top","left","topLeft","bottomLeft","topRight"];h.includes(i)&&(i==="bottomLeft"?a.x+=l:(i==="topRight"||(a.x+=l),a.y+=p));var g=this.draggable.state;(a.x!==g.x||a.y!==g.y)&&dt.flushSync(function(){n.draggable.setState(a)}),this.updateOffsetFromParent();var v=this.offsetFromParent,y=this.getDraggablePosition().x+v.left,w=this.getDraggablePosition().y+v.top;this.resizingPosition={x:y,y:w},this.props.onResize&&this.props.onResize(e,i,o,s,{x:y,y:w})},r.prototype.onResizeStop=function(e,i,o,s){this.setState({resizing:!1});var n=this.getMaxSizesFromProps(),a=n.maxWidth,l=n.maxHeight;this.setState({maxWidth:a,maxHeight:l}),this.props.onResizeStop&&this.props.onResizeStop(e,i,o,s,this.resizingPosition)},r.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},r.prototype.updatePosition=function(e){this.draggable.setState(e)},r.prototype.updateOffsetFromParent=function(){var e=this.props.scale,i=this.getParent(),o=this.getSelfElement();if(!i||o===null)return{top:0,left:0};var s=i.getBoundingClientRect(),n=s.left,a=s.top,l=o.getBoundingClientRect(),p=this.getDraggablePosition(),h=i.scrollLeft,g=i.scrollTop;this.offsetFromParent={left:l.left-n+h-p.x*e,top:l.top-a+g-p.y*e}},r.prototype.render=function(){var e=this,i=this.props,o=i.disableDragging,s=i.style,n=i.dragHandleClassName,a=i.position,l=i.onMouseDown,p=i.onMouseUp,h=i.dragAxis,g=i.dragGrid,v=i.bounds,y=i.enableUserSelectHack,w=i.cancel,b=i.children;i.onResizeStart,i.onResize,i.onResizeStop,i.onDragStart,i.onDrag,i.onDragStop;var x=i.resizeHandleStyles,z=i.resizeHandleClasses,c=i.resizeHandleComponent,u=i.enableResizing,d=i.resizeGrid,f=i.resizeHandleWrapperClass,S=i.resizeHandleWrapperStyle,m=i.scale,D=i.allowAnyClick,P=zi(i,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),E=this.props.default?T({},this.props.default):void 0;delete P.default;var B=o||n?{cursor:"auto"}:{cursor:"move"},C=T(T(T({},Di),B),s),H=this.offsetFromParent,j=H.left,q=H.top,k;a&&(k={x:a.x-j,y:a.y-q});var J=this.state.resizing?void 0:k,Q=this.state.resizing?"both":h;return M.createElement(di,{ref:function(F){F&&(e.draggable=F)},handle:n?".".concat(n):void 0,defaultPosition:E,onMouseDown:l,onMouseUp:p,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:Q,disabled:o,grid:g,bounds:v?this.state.bounds:void 0,position:J,enableUserSelectHack:y,cancel:w,scale:m,allowAnyClick:D,nodeRef:this.resizableElement},M.createElement(Si,T({},P,{ref:function(F){F&&(e.resizable=F,e.resizableElement.current=F.resizable)},defaultSize:E,size:this.props.size,enable:typeof u=="boolean"?Ri(u):u,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:C,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:d,handleWrapperClass:f,handleWrapperStyle:S,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:x,handleClasses:z,handleComponent:c,scale:this.props.scale}),b))},r.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},r}(M.PureComponent);const Ci=({bounds:t,defaultPosition:r={x:50,y:150},dragHandleClassName:e="drag-handle",targetId:i,children:o,...s})=>{var h,g;const n=Dt(),a=zt(),l=!((h=n.panels[i])!=null&&h.minimised)&&((g=n.panels[i])==null?void 0:g.visible),p=U(re,{className:e,sx:{fontSize:14,color:a.palette.grey[400],cursor:"move"}});return U(Pi,{bounds:t,enableResizing:!1,dragHandleClassName:e,default:{x:r.x,y:r.y,width:"auto",height:"auto"},css:xt({visibility:l?"visible":"hidden"},"",""),children:U(Ut,{targetId:i,dragHandle:p,...s,children:o})})};Ci.__docgenInfo={description:"",methods:[],displayName:"DraggableFloatingPanel",props:{targetId:{required:!0,tsType:{name:"string"},description:"For linking to associated ToggleButtonState"},title:{required:!0,tsType:{name:"string"},description:"Panel title."},bounds:{required:!1,tsType:{name:"union",raw:'"parent" | "window" | "body" | string | Element',elements:[{name:"literal",value:'"parent"'},{name:"literal",value:'"window"'},{name:"literal",value:'"body"'},{name:"string"},{name:"Element"}]},description:`Specifies movement boundaries. Accepted values:

parent restricts movement
within the node's offsetParent (nearest node with position relative or
absolute), window, body, Selector like .fooClassName or Element.`},count:{required:!1,tsType:{name:"number"},description:"Total number of items"},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"Component content"},dragHandleClassName:{required:!1,tsType:{name:"string"},description:`Specifies a selector to be used as the handle that initiates drag. Example:
drag-handle.`,defaultValue:{value:'"drag-handle"',computed:!1}},iconBeforeTitle:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},defaultPosition:{required:!1,tsType:{name:"signature",type:"object",raw:"{ x: number; y: number }",signature:{properties:[{key:"x",value:{name:"number",required:!0}},{key:"y",value:{name:"number",required:!0}}]}},description:"The x and y property is used to set the default position of the component.",defaultValue:{value:"{ x: 50, y: 150 }",computed:!1}}},composes:["HTMLAttributes"]};const _i=t=>U(wt,{component:"ul",columnGap:2,sx:{display:"flex",flexDirection:"row",position:"absolute",width:"fit-content",bottom:0,left:0},...t,children:t.children});_i.__docgenInfo={description:"Appears at the bottom of the screen. Holds `FloatingPanelItem` items",methods:[],displayName:"FloatingPanelDock",composes:["PropsWithChildren"]};var Ti={name:"4bd2r9",styles:"margin-right:6px"};const Mi=({count:t=0,label:r,icon:e,targetId:i,...o})=>{var p,h;const s=zt(),n=Dt(),a=((p=n.panels[i])==null?void 0:p.minimised)&&((h=n.panels[i])==null?void 0:h.visible)||!1,l=s.palette.mode==="dark"?s.palette.grey[900]:s.palette.grey[300];return U(ne,{secondaryAction:U(kt,{edge:"end","aria-label":"close",size:"small",sx:{fontSize:14},onClick:()=>n.toggleVisibility(i),children:U(oe,{fontSize:"inherit"})}),disablePadding:!0,sx:{backgroundColor:l,borderTopLeftRadius:4,borderTopRightRadius:4,width:"fit-content",visibility:a?"visible":"hidden"},...o,children:K(se,{dense:!0,sx:{color:s.palette.primary.main},onClick:()=>n.toggleMinimised(i),children:[U(Ft,{rotation:180,css:Ti}),e,K(pe,{sx:{marginLeft:1,whiteSpace:"nowrap",color:s.palette.mode==="dark"?s.palette.common.white:s.palette.common.black},children:[r,t>0?K("span",{css:xt({color:s.palette.primary.main},"",""),children:[" (",t,")"]}):null]})]})})};Mi.__docgenInfo={description:"",methods:[],displayName:"FloatingPanelItem",props:{label:{required:!0,tsType:{name:"string"},description:"The item label"},targetId:{required:!0,tsType:{name:"string"},description:"The id target reference for the toggle button."},icon:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"The icon to be displayed before the title"},count:{required:!1,tsType:{name:"number"},description:"Total number of items",defaultValue:{value:"0",computed:!1}}},composes:["HTMLAttributes"]};Xt(De)(()=>({border:0}));export{Ci as D,Re as F,Ut as P,Mi as a,_i as b};
