import{j as r,F as Ce,a as x}from"./emotion-react-jsx-runtime.browser.esm-BgDa5HT4.js";import{r as d}from"./index-Dl6G-zuu.js";import{Q as xe,s as ge,t as ve,v as Ae,w as Se,x as ke,y as we,z as Ie}from"./AuthModal-Dm4mQb8g.js";import{a as H,_ as u,l as E,w as Y,v as ee,x as te,y as oe,b as Me}from"./identifier-CCo8HfxA.js";import{g as Q,s as B,c as Z,a as J}from"./styled-DiVYluCu.js";import{g as G}from"./generateUtilityClasses-CRyAR7Z0.js";import{j as a}from"./jsx-runtime-DMAvRu52.js";import{u as K}from"./DefaultPropsProvider-BrPVfFhn.js";import{B as Oe,u as Le}from"./ButtonBase-JObl-ewV.js";import{u as Te}from"./TransitionGroupContext-BU5kpZ0L.js";import{T as h}from"./Typography-DvrCv4HQ.js";import{S as _}from"./FlexBox-owEKTX38.js";import{u as re}from"./UserProfile-CSbbH8i5.js";import{c as $}from"./createSvgIcon-CxivGeKF.js";import{I as Be}from"./IconButton-BRyaXHdy.js";import{P as Re}from"./Paper-B-rBeRIm.js";import{B as ye}from"./Button-B8lPRXAj.js";import{C as V}from"./Container-CFeVW3qn.js";import{u as je}from"./Popover-B3llNT0S.js";import{C as Pe}from"./TreeView-0QEJhhhD.js";import"./Text-DnbGH9ax.js";import"./constants-CVq1Wmjp.js";import"./iframe-DluQHjBN.js";import"../sb-preview/runtime.js";import"./index-B0kOWIl9.js";import"./types-JQgdQoTs.js";import"./useTheme-DC9e96ys.js";import"./useTheme-CEgm5wok.js";import"./GlobalStyles-BK1ltzIn.js";import"./GlobalStyles-DdQ_E3CX.js";import"./index-CXtVKvFt.js";import"./Select-BIX2DfMX.js";import"./Menu-BkD04aCn.js";import"./useEnhancedEffect-DZnfS5Iy.js";import"./utils-BfhgiYH5.js";import"./useId-CkA8naEk.js";import"./AdapterDayjs-sa9HN2xx.js";import"./index-BfyspvgH.js";import"./useThemeProps-BTBzXMHi.js";import"./useThemeProps-BFLDat3t.js";import"./TextField-D_aQwkfm.js";import"./createStyled-9i3u5Rqa.js";import"./colorManipulator-DBPky6cX.js";import"./Chip-DqDSBqh3.js";import"./TelicentHorizontalSVG-DP7xLAp3.js";import"./SvgIcon-DDjczThx.js";import"./FlexGrid-M25hPc65.js";import"./Box-DR7xjwgg.js";import"./DataSetIcon-CzT3Gt8m.js";import"./UserIcon-B0AVfc7u.js";import"./MenuItem-CdOttbWs.js";import"./dividerClasses-DixuAXrT.js";import"./UIThemeProvider-Cy_6mza1.js";import"./ThemeProvider-BPzF9hu_.js";import"./IconButton-Dl7Uv_PN.js";import"./Chip-BVaSRp92.js";import"./Divider-CCH3-U8L.js";import"./Divider-DOeen-K3.js";import"./UserProfileContent-BkWk_Qx8.js";import"./LinearProgress-CRSreEF6.js";import"./Button-BhZeqQDZ.js";import"./LinkButton-CsDENkR4.js";import"./TextField-InohbSRw.js";import"./Select-C1_f-aAJ.js";import"./DatePicker-ga9keWZl.js";import"./DateTimePicker-B55e7A3j.js";import"./styled-BEKiHWi7.js";import"./Card-BWv60QFk.js";import"./CardActions-CCW8za6b.js";import"./Popover-Bxjayg7j.js";import"./Paper-BBwh5-3y.js";import"./ErrorFallback-fPXNZKjO.js";import"./ErrorFallbackText-BLCYy_1i.js";import"./ErrorFallbackWrapper-CSpgK55r.js";import"./MapToggleButtonPresentational-DiEvv04q.js";import"./Remove-DLpXZYtt.js";import"./Edit-BwFhg13Q.js";function $e(e){return Q("MuiAlert",e)}const ne=G("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Ee=$(a.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Ne=$(a.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ze=$(a.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),We=$(a.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Ue=$(a.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Fe=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],De=e=>{const{variant:o,color:n,severity:t,classes:s}=e,i={root:["root",`color${E(n||t)}`,`${o}${E(n||t)}`,`${o}`],icon:["icon"],message:["message"],action:["action"]};return J(i,$e,s)},_e=B(Re,{name:"MuiAlert",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[n.variant],o[`${n.variant}${E(n.color||n.severity)}`]]}})(({theme:e})=>{const o=e.palette.mode==="light"?Y:ee,n=e.palette.mode==="light"?ee:Y;return u({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"standard"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:o(e.palette[t].light,.6),backgroundColor:e.vars?e.vars.palette.Alert[`${t}StandardBg`]:n(e.palette[t].light,.9),[`& .${ne.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.light).map(([t])=>({props:{colorSeverity:t,variant:"outlined"},style:{color:e.vars?e.vars.palette.Alert[`${t}Color`]:o(e.palette[t].light,.6),border:`1px solid ${(e.vars||e).palette[t].light}`,[`& .${ne.icon}`]:e.vars?{color:e.vars.palette.Alert[`${t}IconColor`]}:{color:e.palette[t].main}}})),...Object.entries(e.palette).filter(([,t])=>t.main&&t.dark).map(([t])=>({props:{colorSeverity:t,variant:"filled"},style:u({fontWeight:e.typography.fontWeightMedium},e.vars?{color:e.vars.palette.Alert[`${t}FilledColor`],backgroundColor:e.vars.palette.Alert[`${t}FilledBg`]}:{backgroundColor:e.palette.mode==="dark"?e.palette[t].dark:e.palette[t].main,color:e.palette.getContrastText(e.palette[t].main)})}))]})}),Ve=B("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,o)=>o.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),He=B("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,o)=>o.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),se=B("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,o)=>o.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ae={success:a.jsx(Ee,{fontSize:"inherit"}),warning:a.jsx(Ne,{fontSize:"inherit"}),error:a.jsx(ze,{fontSize:"inherit"}),info:a.jsx(We,{fontSize:"inherit"})},qe=d.forwardRef(function(o,n){const t=K({props:o,name:"MuiAlert"}),{action:s,children:i,className:f,closeText:g="Close",color:M,components:S={},componentsProps:k={},icon:y,iconMapping:m=ae,onClose:O,role:L="alert",severity:b="success",slotProps:j={},slots:v={},variant:w="standard"}=t,R=H(t,Fe),c=u({},t,{color:M,severity:b,variant:w,colorSeverity:M||b}),C=De(c),l={slots:u({closeButton:S.CloseButton,closeIcon:S.CloseIcon},v),slotProps:u({},k,j)},[p,I]=re("closeButton",{elementType:Be,externalForwardedProps:l,ownerState:c}),[A,N]=re("closeIcon",{elementType:Ue,externalForwardedProps:l,ownerState:c});return a.jsxs(_e,u({role:L,elevation:0,ownerState:c,className:Z(C.root,f),ref:n},R,{children:[y!==!1?a.jsx(Ve,{ownerState:c,className:C.icon,children:y||m[b]||ae[b]}):null,a.jsx(He,{ownerState:c,className:C.message,children:i}),s!=null?a.jsx(se,{ownerState:c,className:C.action,children:s}):null,s==null&&O?a.jsx(se,{ownerState:c,className:C.action,children:a.jsx(p,u({size:"small","aria-label":g,title:g,color:"inherit",onClick:O},I,{children:a.jsx(A,u({fontSize:"small"},N))}))}):null]}))}),Qe=$(a.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Ze=["slots","slotProps"],Je=B(Oe,{name:"MuiBreadcrumbCollapsed"})(({theme:e})=>u({display:"flex",marginLeft:`calc(${e.spacing(1)} * 0.5)`,marginRight:`calc(${e.spacing(1)} * 0.5)`},e.palette.mode==="light"?{backgroundColor:e.palette.grey[100],color:e.palette.grey[700]}:{backgroundColor:e.palette.grey[700],color:e.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":u({},e.palette.mode==="light"?{backgroundColor:e.palette.grey[200]}:{backgroundColor:e.palette.grey[600]}),"&:active":u({boxShadow:e.shadows[0]},e.palette.mode==="light"?{backgroundColor:te(e.palette.grey[200],.12)}:{backgroundColor:te(e.palette.grey[600],.12)})})),Ge=B(Qe)({width:24,height:16});function Ke(e){const{slots:o={},slotProps:n={}}=e,t=H(e,Ze),s=e;return a.jsx("li",{children:a.jsx(Je,u({focusRipple:!0},t,{ownerState:s,children:a.jsx(Ge,u({as:o.CollapsedIcon,ownerState:s},n.collapsedIcon))}))})}function Xe(e){return Q("MuiBreadcrumbs",e)}const Ye=G("MuiBreadcrumbs",["root","ol","li","separator"]),et=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],tt=e=>{const{classes:o}=e;return J({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},Xe,o)},ot=B(h,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,o)=>[{[`& .${Ye.li}`]:o.li},o.root]})({}),rt=B("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,o)=>o.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),nt=B("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,o)=>o.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function st(e,o,n,t){return e.reduce((s,i,f)=>(f<e.length-1?s=s.concat(i,a.jsx(nt,{"aria-hidden":!0,className:o,ownerState:t,children:n},`separator-${f}`)):s.push(i),s),[])}const at=d.forwardRef(function(o,n){const t=K({props:o,name:"MuiBreadcrumbs"}),{children:s,className:i,component:f="nav",slots:g={},slotProps:M={},expandText:S="Show path",itemsAfterCollapse:k=1,itemsBeforeCollapse:y=1,maxItems:m=8,separator:O="/"}=t,L=H(t,et),[b,j]=d.useState(!1),v=u({},t,{component:f,expanded:b,expandText:S,itemsAfterCollapse:k,itemsBeforeCollapse:y,maxItems:m,separator:O}),w=tt(v),R=je({elementType:g.CollapsedIcon,externalSlotProps:M.collapsedIcon,ownerState:v}),c=d.useRef(null),C=p=>{const I=()=>{j(!0);const A=c.current.querySelector("a[href],button,[tabindex]");A&&A.focus()};return y+k>=p.length?p:[...p.slice(0,y),a.jsx(Ke,{"aria-label":S,slots:{CollapsedIcon:g.CollapsedIcon},slotProps:{collapsedIcon:R},onClick:I},"ellipsis"),...p.slice(p.length-k,p.length)]},l=d.Children.toArray(s).filter(p=>d.isValidElement(p)).map((p,I)=>a.jsx("li",{className:w.li,children:p},`child-${I}`));return a.jsx(ot,u({ref:n,component:f,color:"text.secondary",className:Z(w.root,i),ownerState:v},L,{children:a.jsx(rt,{className:w.ol,ref:c,ownerState:v,children:st(b||m&&l.length<=m?l:C(l),w.separator,O,v)})}))});function it(e){return Q("MuiLink",e)}const lt=G("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),be={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},ct=e=>be[e]||e,dt=({theme:e,ownerState:o})=>{const n=ct(o.color),t=oe(e,`palette.${n}`,!1)||o.color,s=oe(e,`palette.${n}Channel`);return"vars"in e&&s?`rgba(${s} / 0.4)`:Me(t,.4)},pt=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],ut=e=>{const{classes:o,component:n,focusVisible:t,underline:s}=e,i={root:["root",`underline${E(s)}`,n==="button"&&"button",t&&"focusVisible"]};return J(i,it,o)},mt=B(h,{name:"MuiLink",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:n}=e;return[o.root,o[`underline${E(n.underline)}`],n.component==="button"&&o.button]}})(({theme:e,ownerState:o})=>u({},o.underline==="none"&&{textDecoration:"none"},o.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},o.underline==="always"&&u({textDecoration:"underline"},o.color!=="inherit"&&{textDecorationColor:dt({theme:e,ownerState:o})},{"&:hover":{textDecorationColor:"inherit"}}),o.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${lt.focusVisible}`]:{outline:"auto"}})),ht=d.forwardRef(function(o,n){const t=K({props:o,name:"MuiLink"}),{className:s,color:i="primary",component:f="a",onBlur:g,onFocus:M,TypographyClasses:S,underline:k="always",variant:y="inherit",sx:m}=t,O=H(t,pt),{isFocusVisibleRef:L,onBlur:b,onFocus:j,ref:v}=Le(),[w,R]=d.useState(!1),c=Te(n,v),C=A=>{b(A),L.current===!1&&R(!1),g&&g(A)},l=A=>{j(A),L.current===!0&&R(!0),M&&M(A)},p=u({},t,{color:i,component:f,focusVisible:w,underline:k,variant:y}),I=ut(p);return a.jsx(mt,u({color:i,className:Z(I.root,s),classes:S,component:f,onBlur:C,onFocus:l,ref:c,ownerState:p,variant:y,sx:[...Object.keys(be).includes(i)?[]:[{color:i}],...Array.isArray(m)?m:[m]]},O))}),ft=()=>{if(typeof window>"u")return!1;try{return window.self!==window.top}catch{return!0}},X=({children:e,linkText:o="Open this view in a new window",className:n})=>{const[t,s]=d.useState(!1);if(d.useEffect(()=>{s(ft())},[]),!t)return r(Ce,{children:e});const i=typeof window<"u"?window.location.href:"#";return x(ht,{href:i,target:"_blank",rel:"noopener noreferrer",className:n,children:["â†—ï¸  ",o]})};X.__docgenInfo={description:"",methods:[],displayName:"ForceNoIframe",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},linkText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Open this view in a new window"',computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};const T=e=>r(_,{spacing:2,...e}),z=e=>r(h,{sx:{fontFamily:"monospace",...(e==null?void 0:e.sx)||null},...e}),D=e=>r(ye,{variant:"text",size:"small",sx:{alignSelf:"flex-start"},...e}),gt=({config:e={}})=>{const[o,n]=d.useState(null),[t,s]=d.useState(null),[i,f]=d.useState("initial"),[g,M]=d.useState(!1),[S,k]=d.useState(null),[y,m]=d.useState("â€”"),[O,L]=d.useState(null),[b,j]=d.useState(!1),[v]=d.useState(()=>new xe),w="http://localhost:6006/iframe.html?viewMode=story&id=candidate-packages-auth-flow--storybook-oauth-callback&globals=&args=",R={clientId:"fe-storybook-app-config",authServerUrl:"http://auth.telicent.localhost",scope:"openid profile offline_access",redirectUri:"http://localhost:6006/",popupRedirectUri:w,onLogout:()=>{f("initial"),M(!1),k(null),m("Logged out.")},...e};return d.useEffect(()=>{const c=new ge(R);n(c);const C=ve("http://protected-api.telicent.localhost",c).withSessionHandling({queryClient:v,keysToInvalidate:[]});s(C);const l=async()=>{try{console.log("checkAuth: Starting authentication check");const P=await c.isAuthenticated();if(console.log("checkAuth: isAuthenticated =",P),P){f("done"),M(!0);const q=c.getUserInfo();console.log("checkAuth: userInfo =",q),k(q||{authenticated:!0,source:"session_only",note:"ID token not available, but session is valid"}),we(Ie.AUTHENTICATED)}else console.log("checkAuth: User not authenticated"),f("initial")}catch(P){console.error("checkAuth: Error =",P),L(String(P))}},A=Ae(c,()=>{l()},P=>{L("Authentication failed"),f("initial")}),N=P=>{f("callback")};return window.addEventListener("oauth-callback",N),l(),()=>{A(),window.removeEventListener("oauth-callback",N)}},[y]),d.useEffect(()=>{g&&(y.includes("â³")||y.includes("ðŸ”„"))&&m("Ready to test")},[g]),O?r(V,{maxWidth:"md",children:r(_,{children:r(qe,{severity:"error",action:r(ye,{color:"inherit",size:"small",onClick:()=>L(null),children:"Clear"}),children:O})})}):r(V,{maxWidth:"md",children:r(T,{children:x(X,{linkText:"Open in dedicated window",children:[x(T,{children:[r(Se,{config:R,queryClient:v,children:r(ke,{debounceMs:3e3})}),r(T,{children:x(at,{separator:"â†’",children:[r(h,{variant:"h5",sx:{fontWeight:i==="initial"?"bold":"normal",color:i==="initial"?"primary.main":"text.secondary"},children:"1. Unauthenticated"}),r(h,{variant:"h5",sx:{fontWeight:i==="callback"?"bold":"normal",color:i==="callback"?"primary.main":"text.secondary"},children:"2. Processing Code"}),r(h,{variant:"h5",sx:{fontWeight:i==="done"&&g?"bold":"normal",color:i==="done"&&g?"success.main":"text.secondary"},children:"3. Authenticated"})]})})]}),r(T,{children:x(T,{children:[r(h,{variant:"h5",children:"AuthServerOAuth2Client-powered methods"}),x(T,{children:[r(z,{variant:"body2",children:"loginWithPopup()"}),r(D,{onClick:()=>o==null?void 0:o.loginWithPopup(w),disabled:g,children:"Call"})]}),x(T,{children:[r(z,{variant:"body2",children:"logout()"}),r(D,{onClick:async()=>{o&&await o.logout()},disabled:!g,children:"Call"})]}),x(T,{children:[r(z,{variant:"body2",children:'Mock Api call createApi().instance.get("//protected-api.telicent.localhost/data")'}),r(D,{onClick:async()=>{if(!t)return;m("â³ Loading...");const c=new AbortController,C=setTimeout(()=>c.abort(),1e4);try{const l=await t.instance.get("http://protected-api.telicent.localhost/get",{signal:c.signal});m(`${l.status>=400?"âŒ":"âœ…"} ${l.status}`)}catch(l){if(c.signal.aborted)m("â° Request timeout");else if(l&&typeof l=="object"&&"response"in l){const I=l.response.status;m(I===401?"ðŸ”„ Session expired - redirecting to login":`âŒ ${I}`)}else{const p=l&&typeof l=="object"&&"message"in l&&typeof l.message=="string"?l.message:"Unknown error";m(`â›” ${p}`)}}finally{clearTimeout(C)}},disabled:!t||y.includes("â³"),children:"Call"}),r(h,{variant:"body2",children:y})]}),x(T,{children:[r(z,{variant:"body2",children:"getUserInfo()"}),S?x(h,{sx:{cursor:"pointer"},onClick:()=>j(!b),children:["See info ",b?"â–¼":"â–¶"]}):r(h,{variant:"body2",children:"(auto-called when logged in)"}),r(Pe,{in:b,children:S?r("pre",{style:{fontFamily:"monospace",fontSize:"14px",margin:0},children:JSON.stringify(S,null,2)}):r(h,{variant:"body2",color:"text.secondary",children:"No user info available"})})]})]})})]})})})},Do={title:"candidate-packages/auth-flow",component:gt,parameters:{docs:{description:{component:`
React equivalent of spa-client/public/index.html. Demonstrates the complete OAuth2 flow using AuthServerOAuth2Client.
        `}}},tags:[]},W={args:{}},yt=()=>{const[e,o]=d.useState("Processing callback...");return d.useEffect(()=>{(async()=>{try{new ge({clientId:"fe-storybook-app-config",authServerUrl:"http://auth.telicent.localhost",scope:"openid profile offline_access"}).finishPopupFlow(),o("Callback completed!")}catch(t){console.error("Callback error:",t),o("Callback failed!")}})()},[]),r(V,{maxWidth:"sm",children:x(_,{children:[r(h,{variant:"h4",children:"OAuth Callback"}),r(h,{children:e}),r(_,{direction:"row",children:r(D,{onClick:()=>window.close(),children:"Close now"})})]})})},U={name:"Login (Current Window) - TODO",render:()=>r(V,{maxWidth:"md",children:x(T,{children:[r(h,{variant:"h4",children:"TODO: Create login() Call Version"}),r(h,{variant:"h6",children:"UI Components to Add:"}),r(h,{component:"div",children:x("ul",{children:[r("li",{children:"Authentication status indicator"}),r("li",{children:"login() button with current window redirect"}),r("li",{children:"User info display section"}),r("li",{children:"Protected API call test button"}),r("li",{children:"Logout button"}),r("li",{children:"OAuth flow progress breadcrumbs"}),r("li",{children:"Error handling and display"})]})}),r(h,{variant:"body2",color:"text.secondary",children:"Note: This will require a different clientId/redirectUri configuration than the popup version since the callback behavior differs."})]})}),parameters:{layout:"centered"}},F={name:"Login success",render:()=>r(X,{linkText:"Open in dedicated window",children:r(yt,{})}),parameters:{layout:"centered"}};var ie,le,ce;W.parameters={...W.parameters,docs:{...(ie=W.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {}
}`,...(ce=(le=W.parameters)==null?void 0:le.docs)==null?void 0:ce.source}}};var de,pe,ue;U.parameters={...U.parameters,docs:{...(de=U.parameters)==null?void 0:de.docs,source:{originalSource:`{
  name: "Login (Current Window) - TODO",
  render: () => {
    return <Container maxWidth="md">
        <SpacedStack>
          <Typography variant="h4">TODO: Create login() Call Version</Typography>
          <Typography variant="h6">UI Components to Add:</Typography>
          <Typography component="div">
            <ul>
              <li>Authentication status indicator</li>
              <li>login() button with current window redirect</li>
              <li>User info display section</li>
              <li>Protected API call test button</li>
              <li>Logout button</li>
              <li>OAuth flow progress breadcrumbs</li>
              <li>Error handling and display</li>
            </ul>
          </Typography>
          <Typography variant="body2" color="text.secondary">
            Note: This will require a different clientId/redirectUri configuration
            than the popup version since the callback behavior differs.
          </Typography>
        </SpacedStack>
      </Container>;
  },
  parameters: {
    layout: "centered"
  }
}`,...(ue=(pe=U.parameters)==null?void 0:pe.docs)==null?void 0:ue.source}}};var me,he,fe;F.parameters={...F.parameters,docs:{...(me=F.parameters)==null?void 0:me.docs,source:{originalSource:`{
  name: "Login success",
  render: () => {
    return <ForceNoIframe linkText="Open in dedicated window">
        <LoginSuccessComponent />
      </ForceNoIframe>;
  },
  parameters: {
    layout: "centered"
  }
}`,...(fe=(he=F.parameters)==null?void 0:he.docs)==null?void 0:fe.source}}};const _o=["LoginWithPopup","LoginCurrentWindow","StorybookOauthCallback"];export{U as LoginCurrentWindow,W as LoginWithPopup,F as StorybookOauthCallback,_o as __namedExportsOrder,Do as default};
