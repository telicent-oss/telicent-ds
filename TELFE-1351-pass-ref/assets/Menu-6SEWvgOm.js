import{a as k,_ as y}from"./defaultTheme-BO-GVTvG.js";import{r as l}from"./index-Dl6G-zuu.js";import{g as U,s as N,c as $,a as z,r as Y}from"./styled-CxLuQ4yi.js";import{u as Z}from"./index-CfJV9iyf.js";import{g as W}from"./generateUtilityClasses-BrkKsHLY.js";import{j as I}from"./jsx-runtime-DMAvRu52.js";import{u as G}from"./DefaultPropsProvider-CqwcgZRv.js";import{g as ee,u as O,a as te,P as se}from"./Popover-BWwK9c_C.js";import{u as oe}from"./useEnhancedEffect-DZnfS5Iy.js";import{o as A}from"./utils-C8sSVwFJ.js";import{u as re}from"./TransitionGroupContext-BU5kpZ0L.js";const ne=l.createContext({});function ie(t){return U("MuiList",t)}W("MuiList",["root","padding","dense","subheader"]);const ae=["children","className","component","dense","disablePadding","subheader"],le=t=>{const{classes:e,disablePadding:s,dense:f,subheader:p}=t;return z({root:["root",!s&&"padding",f&&"dense",p&&"subheader"]},ie,e)},ue=N("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:s}=t;return[e.root,!s.disablePadding&&e.padding,s.dense&&e.dense,s.subheader&&e.subheader]}})(({ownerState:t})=>y({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),ce=l.forwardRef(function(e,s){const f=G({props:e,name:"MuiList"}),{children:p,className:h,component:u="ul",dense:n=!1,disablePadding:g=!1,subheader:b}=f,M=k(f,ae),v=l.useMemo(()=>({dense:n}),[n]),x=y({},f,{component:u,dense:n,disablePadding:g}),d=le(x);return I.jsx(ne.Provider,{value:v,children:I.jsxs(ue,y({as:u,className:$(d.root,h),ref:s,ownerState:x},M,{children:[b,p]}))})}),pe=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function j(t,e,s){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:s?null:t.firstChild}function H(t,e,s){return t===e?s?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:s?null:t.lastChild}function V(t,e){if(e===void 0)return!0;let s=t.innerText;return s===void 0&&(s=t.textContent),s=s.trim().toLowerCase(),s.length===0?!1:e.repeating?s[0]===e.keys[0]:s.indexOf(e.keys.join(""))===0}function S(t,e,s,f,p,h){let u=!1,n=p(t,e,e?s:!1);for(;n;){if(n===t.firstChild){if(u)return!1;u=!0}const g=f?!1:n.disabled||n.getAttribute("aria-disabled")==="true";if(!n.hasAttribute("tabindex")||!V(n,h)||g)n=p(t,n,s);else return n.focus(),!0}return!1}const de=l.forwardRef(function(e,s){const{actions:f,autoFocus:p=!1,autoFocusItem:h=!1,children:u,className:n,disabledItemsFocusable:g=!1,disableListWrap:b=!1,onKeyDown:M,variant:v="selectedMenu"}=e,x=k(e,pe),d=l.useRef(null),K=l.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});oe(()=>{p&&d.current.focus()},[p]),l.useImperativeHandle(f,()=>({adjustStyleForScrollbar:(o,{direction:i})=>{const c=!d.current.style.width;if(o.clientHeight<d.current.clientHeight&&c){const m=`${ee(A(o))}px`;d.current.style[i==="rtl"?"paddingLeft":"paddingRight"]=m,d.current.style.width=`calc(100% + ${m})`}return d.current}}),[]);const F=o=>{const i=d.current,c=o.key,m=A(i).activeElement;if(c==="ArrowDown")o.preventDefault(),S(i,m,b,g,j);else if(c==="ArrowUp")o.preventDefault(),S(i,m,b,g,H);else if(c==="Home")o.preventDefault(),S(i,null,b,g,j);else if(c==="End")o.preventDefault(),S(i,null,b,g,H);else if(c.length===1){const r=K.current,w=c.toLowerCase(),D=performance.now();r.keys.length>0&&(D-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&w!==r.keys[0]&&(r.repeating=!1)),r.lastTime=D,r.keys.push(w);const L=m&&!r.repeating&&V(m,r);r.previousKeyMatched&&(L||S(i,m,!1,g,j,r))?o.preventDefault():r.previousKeyMatched=!1}M&&M(o)},R=re(d,s);let a=-1;l.Children.forEach(u,(o,i)=>{if(!l.isValidElement(o)){a===i&&(a+=1,a>=u.length&&(a=-1));return}o.props.disabled||(v==="selectedMenu"&&o.props.selected||a===-1)&&(a=i),a===i&&(o.props.disabled||o.props.muiSkipListHighlight||o.type.muiSkipListHighlight)&&(a+=1,a>=u.length&&(a=-1))});const C=l.Children.map(u,(o,i)=>{if(i===a){const c={};return h&&(c.autoFocus=!0),o.props.tabIndex===void 0&&v==="selectedMenu"&&(c.tabIndex=0),l.cloneElement(o,c)}return o});return I.jsx(ce,y({role:"menu",ref:R,className:n,onKeyDown:F,tabIndex:p?0:-1},x,{children:C}))});function fe(t){return U("MuiMenu",t)}W("MuiMenu",["root","paper","list"]);const me=["onEntering"],he=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ge={vertical:"top",horizontal:"right"},be={vertical:"top",horizontal:"left"},Pe=t=>{const{classes:e}=t;return z({root:["root"],paper:["paper"],list:["list"]},fe,e)},Me=N(se,{shouldForwardProp:t=>Y(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ve=N(te,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ye=N(de,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),ke=l.forwardRef(function(e,s){var f,p;const h=G({props:e,name:"MuiMenu"}),{autoFocus:u=!0,children:n,className:g,disableAutoFocusItem:b=!1,MenuListProps:M={},onClose:v,open:x,PaperProps:d={},PopoverClasses:K,transitionDuration:F="auto",TransitionProps:{onEntering:R}={},variant:a="selectedMenu",slots:C={},slotProps:o={}}=h,i=k(h.TransitionProps,me),c=k(h,he),m=Z(),r=y({},h,{autoFocus:u,disableAutoFocusItem:b,MenuListProps:M,onEntering:R,PaperProps:d,transitionDuration:F,TransitionProps:i,variant:a}),w=Pe(r),D=u&&!b&&x,L=l.useRef(null),B=(P,T)=>{L.current&&L.current.adjustStyleForScrollbar(P,{direction:m?"rtl":"ltr"}),R&&R(P,T)},q=P=>{P.key==="Tab"&&(P.preventDefault(),v&&v(P,"tabKeyDown"))};let E=-1;l.Children.map(n,(P,T)=>{l.isValidElement(P)&&(P.props.disabled||(a==="selectedMenu"&&P.props.selected||E===-1)&&(E=T))});const _=(f=C.paper)!=null?f:ve,J=(p=o.paper)!=null?p:d,Q=O({elementType:C.root,externalSlotProps:o.root,ownerState:r,className:[w.root,g]}),X=O({elementType:_,externalSlotProps:J,ownerState:r,className:w.paper});return I.jsx(Me,y({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:m?"right":"left"},transformOrigin:m?ge:be,slots:{paper:_,root:C.root},slotProps:{root:Q,paper:X},open:x,ref:s,transitionDuration:F,TransitionProps:y({onEntering:B},i),ownerState:r},c,{classes:K,children:I.jsx(ye,y({onKeyDown:q,actions:L,autoFocus:u&&(E===-1||b),autoFocusItem:D,variant:a},M,{className:$(w.list,M.className),children:n}))}))});export{ne as L,ke as M,de as a,ce as b};
